%!PS-Adobe-2.0
%%Version: 0.1
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/show {{//show} 0 get exec} bind def	% so later references don't bind
/widthshow {{//widthshow} 0 get exec} bind def
/stringwidth {{//stringwidth} 0 get exec} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Version 3.3.2 drawing procedures for dpost. Automatically pulled in when
% needed.
%

/inpath false def
/savematrix matrix def

/Dl {
	inpath
		{pop pop neg lineto}
		{newpath neg moveto neg lineto stroke}
	ifelse
} bind def

/De {
	/y1 exch 2 div def
	/x1 exch 2 div def
	/savematrix savematrix currentmatrix def
	neg exch x1 add exch translate
	x1 y1 scale
	0 0 1 0 360
	inpath
		{1 0 moveto arc savematrix setmatrix}
		{newpath arc savematrix setmatrix stroke}
	ifelse
} bind def

/Da {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arc}
		{newpath arc stroke}
	ifelse
} bind def

/DA {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arcn}
		{newpath arcn stroke}
	ifelse
} bind def

/Ds {
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	/y0 exch def
	/x0 exch def
	x0 5 x1 mul add 6 div
	y0 5 y1 mul add -6 div
	x2 5 x1 mul add 6 div
	y2 5 y1 mul add -6 div
	x1 x2 add 2 div
	y1 y2 add -2 div
	inpath
		{curveto}
		{newpath x0 x1 add 2 div y0 y1 add -2 div moveto curveto stroke}
	ifelse
} bind def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

%%Patch from lp
%%EndPatch from lp

setup
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
12 /LucidaSans-Demi f
(Alef User's Guide) 2348 1220 w
10 /LucidaSans-Italic f
(Bob Flandrena) 2530 1480 w
(bobf@plan9.att.com) 2390 1620 w
10 /LucidaSans-Demi f
(Introduction) 720 2280 w
10 /LucidaSansUnicode00 f
(The) 720 2436 w
(Alef) 936 2436 w
(programming) 1162 2436 w
(language) 1859 2436 w
(provides) 2337 2436 w
(a) 2789 2436 w
(convenient) 2880 2436 w
(means) 3444 2436 w
(for) 3797 2436 w
(implementing) 3972 2436 w
(concur\255) 4679 2436 w
(rent) 720 2556 w
(programs.) 953 2556 w
(An) 1521 2556 w
(Alef) 1689 2556 w
(program) 1917 2556 w
(looks) 2370 2556 w
(like) 2667 2556 w
(a) 2876 2556 w
(C) 2968 2556 w
(program:) 3074 2556 w
(the) 3559 2556 w
(syntactic) 3751 2556 w
(structure) 4213 2556 w
(is) 4688 2556 w
(simi\255) 4805 2556 w
(lar) 720 2676 w
(and) 884 2676 w
(the) 1103 2676 w
(expression) 1297 2676 w
(syntax) 1867 2676 w
(is) 2224 2676 w
(almost) 2343 2676 w
(identical.) 2709 2676 w
(But,) 3224 2676 w
(despite) 3453 2676 w
(the) 3848 2676 w
(similarity) 4043 2676 w
(of) 4528 2676 w
(the) 4666 2676 w
(lan\255) 4861 2676 w
(guage constructs, most Alef programs are structurally dissimilar and operate differently.) 720 2796 w
(This) 720 2952 w
(document) 964 2952 w
(describes) 1488 2952 w
(some) 1988 2952 w
(of) 2289 2952 w
(Alef) 2427 2952 w
10 /LucidaSansUnicode20 f
(\031) 2618 2952 w
10 /LucidaSansUnicode00 f
(s) 2650 2952 w
(capabilities,) 2741 2952 w
(concentrating) 3360 2952 w
(on) 4066 2952 w
(concurrency) 4229 2952 w
(fea\255) 4859 2952 w
(tures) 720 3072 w
(and) 1016 3072 w
(language) 1245 3072 w
(facilities) 1737 3072 w
(not) 2189 3072 w
(found) 2398 3072 w
(in) 2732 3072 w
(C.) 2872 3072 w
(Alef) 3054 3072 w
(provides) 3294 3072 w
(language) 3759 3072 w
(support) 4251 3072 w
(for) 4678 3072 w
(two) 4865 3072 w
(process) 720 3192 w
(synchronization) 1130 3192 w
(models:) 1938 3192 w
(shared) 2359 3192 w
(variables) 2723 3192 w
(and) 3190 3192 w
(message) 3406 3192 w
(passing.) 3867 3192 w
(The) 4341 3192 w
(styles) 4559 3192 w
(can) 4872 3192 w
(be) 720 3312 w
(freely) 872 3312 w
(mixed) 1176 3312 w
(and) 1511 3312 w
(the) 1724 3312 w
(choice) 1912 3312 w
(often) 2255 3312 w
(depends) 2541 3312 w
(on) 2988 3312 w
(the details of a program) 3144 3312 w
10 /LucidaSansUnicode20 f
(\031) 4316 3312 w
10 /LucidaSansUnicode00 f
(s design.) 4348 3312 w
(Pro\255) 4850 3312 w
(grams) 720 3432 w
(in) 1066 3432 w
(the) 1201 3432 w
(shared) 1400 3432 w
(variable) 1772 3432 w
(style) 2196 3432 w
(rely) 2465 3432 w
(on) 2687 3432 w
(locks) 2855 3432 w
(to) 3150 3432 w
(synchronize) 3293 3432 w
(access) 3922 3432 w
(to) 4282 3432 w
(shared) 4425 3432 w
(data.) 4798 3432 w
(The) 720 3552 w
(message) 939 3552 w
(passing) 1401 3552 w
(model) 1812 3552 w
(benefits) 2152 3552 w
(from) 2581 3552 w
(Alef) 2851 3552 w
(primitives) 3080 3552 w
(that) 3598 3552 w
(control,) 3827 3552 w
(send) 4238 3552 w
(on,) 4507 3552 w
(receive) 4699 3552 w
(from,) 720 3672 w
(and) 1029 3672 w
(multiplex) 1254 3672 w
(message) 1758 3672 w
(channels.) 2227 3672 w
(This) 2764 3672 w
(document) 3014 3672 w
(focuses) 3544 3672 w
(on) 3958 3672 w
(the) 4126 3672 w
(latter) 4326 3672 w
(synchro\255) 4627 3672 w
(nization) 720 3792 w
(model,) 1172 3792 w
(emphasizing) 1566 3792 w
(its) 2245 3792 w
(interaction) 2421 3792 w
(with) 3000 3792 w
(abstract) 3264 3792 w
(data) 3713 3792 w
(types) 3982 3792 w
(and) 4300 3792 w
(language-) 4539 3792 w
(supplied process management primitives.) 720 3912 w
(The) 720 4068 w
10 /LucidaSans-Italic f
(Alef) 946 4068 w
(Language) 1180 4068 w
(Reference) 1701 4068 w
(Manual) 2219 4068 w
10 /LucidaSansUnicode00 f
(by) 2623 4068 w
(Phil) 2784 4068 w
(Winterbottom) 3005 4068 w
(contains) 3714 4068 w
(the) 4168 4068 w
(formal) 4369 4068 w
(defini\255) 4731 4068 w
(tion) 720 4188 w
(of) 954 4188 w
(the) 1096 4188 w
(language) 1295 4188 w
(and) 1782 4188 w
(is) 2006 4188 w
(a) 2130 4188 w
(necessary) 2229 4188 w
(adjunct) 2748 4188 w
(to) 3152 4188 w
(this) 3294 4188 w
(document.) 3517 4188 w
(Also,) 4110 4188 w
(we) 4396 4188 w
(assume) 4573 4188 w
(a) 4985 4188 w
(basic) 720 4308 w
(understanding) 1003 4308 w
(of) 1742 4308 w
(parallel) 1874 4308 w
(programming) 2265 4308 w
(and) 2961 4308 w
(a) 3175 4308 w
(familiarity) 3265 4308 w
(with) 3786 4308 w
(ANSI) 4026 4308 w
(C.) 4287 4308 w
(Alef) 4455 4308 w
(compil\255) 4681 4308 w
(ers) 720 4428 w
(are) 901 4428 w
(available) 1086 4428 w
(on) 1542 4428 w
(Plan) 1698 4428 w
(9) 1932 4428 w
(and on Silicon Graphics systems running IRIX.) 2028 4428 w
(The implemen\255) 4313 4428 w
(tations) 720 4548 w
(are) 1086 4548 w
(almost) 1272 4548 w
(identical;) 1632 4548 w
(this) 2109 4548 w
(document) 2322 4548 w
(explicitly) 2841 4548 w
(identifies) 3311 4548 w
(the) 3794 4548 w
(few) 3983 4548 w
(places) 4187 4548 w
(where) 4526 4548 w
(sys\255) 4853 4548 w
(tem) 720 4668 w
(dependencies) 941 4668 w
(intrude.) 1644 4668 w
(Although) 2092 4668 w
(some) 2570 4668 w
(examples) 2865 4668 w
(are) 3363 4668 w
(expressed) 3549 4668 w
(in) 4081 4668 w
(terms) 4206 4668 w
(of) 4518 4668 w
(the) 4650 4668 w
(Plan) 4839 4668 w
(9) 720 4788 w
(system) 845 4788 w
(model,) 1248 4788 w
(it) 1645 4788 w
(is) 1774 4788 w
(usually) 1917 4788 w
(easy) 2320 4788 w
(to) 2597 4788 w
(produce) 2758 4788 w
(an) 3218 4788 w
(equivalent) 3398 4788 w
(Unix) 3962 4788 w
(implementation.) 4246 4788 w
(Throughout) 720 4908 w
(this) 1329 4908 w
(paper,) 1544 4908 w
(when) 1890 4908 w
(reference) 2183 4908 w
(is) 2675 4908 w
(made) 2791 4908 w
(to) 3094 4908 w
(the) 3227 4908 w
(C) 3417 4908 w
(language,) 3521 4908 w
(it) 4031 4908 w
(is) 4132 4908 w
(the) 4247 4908 w
(ANSI) 4437 4908 w
(C) 4698 4908 w
(stan\255) 4802 4908 w
(dard being compared rather than the Plan 9 dialect, which has some extensions.) 720 5028 w
10 /LucidaSans-Demi f
(Overview) 720 5268 w
10 /LucidaSansUnicode00 f
(Alef) 720 5424 w
(consists) 951 5424 w
(of) 1384 5424 w
(four) 1523 5424 w
(parts:) 1765 5424 w
(the) 2085 5424 w
(Alef) 2281 5424 w
(compiler,) 2513 5424 w
(run-time) 3009 5424 w
(support) 3488 5424 w
(functions,) 3907 5424 w
(header) 4432 5424 w
(files,) 4806 5424 w
(and) 720 5544 w
(libraries.) 961 5544 w
(The) 1480 5544 w
(Alef) 1722 5544 w
(compiler) 1974 5544 w
(uses) 2457 5544 w
(the) 2737 5544 w
(ANSI) 2952 5544 w
(C) 3238 5544 w
(preprocessor,) 3367 5544 w
(so) 4095 5544 w
(the) 4267 5544 w
(syntax) 4482 5544 w
(and) 4860 5544 w
(semantics) 720 5664 w
(of) 1249 5664 w
(preprocessor) 1391 5664 w
(directives) 2071 5664 w
(are) 2580 5664 w
(identical) 2777 5664 w
(to) 3233 5664 w
(those) 3376 5664 w
(of) 3688 5664 w
(C.) 3831 5664 w
(However,) 4009 5664 w
(because) 4503 5664 w
(of) 4942 5664 w
(differences) 720 5784 w
(in) 1301 5784 w
(the) 1434 5784 w
(declaration) 1631 5784 w
(syntax,) 2212 5784 w
(the) 2603 5784 w
(Alef) 2799 5784 w
(compiler) 3031 5784 w
(does) 3495 5784 w
(not) 3767 5784 w
(accept) 3968 5784 w
(C) 4322 5784 w
(header) 4432 5784 w
(files.) 4806 5784 w
(The) 720 5904 w
(Alef) 939 5904 w
(system) 1169 5904 w
(header) 1548 5904 w
(files) 1920 5904 w
(are) 2161 5904 w
(stored) 2352 5904 w
(in) 2700 5904 w
(the) 2830 5904 w
10 /LucidaTypewriter f
(alef) 3024 5904 w
10 /LucidaSansUnicode00 f
(subdirectory) 3351 5904 w
(of) 3997 5904 w
(the) 4134 5904 w
(system) 4328 5904 w
(header) 4707 5904 w
(file) 720 6024 w
(directory.) 924 6024 w
(Alef) 1472 6024 w
(and) 1715 6024 w
(C) 1947 6024 w
(programs) 2068 6024 w
(implement) 2587 6024 w
(incompatible) 3157 6024 w
(stack) 3837 6024 w
(models,) 4141 6024 w
(so) 4578 6024 w
(object) 4742 6024 w
(modules) 720 6144 w
(from) 1172 6144 w
(the) 1441 6144 w
(two) 1633 6144 w
(languages) 1845 6144 w
(cannot) 2376 6144 w
(be) 2741 6144 w
(linked) 2897 6144 w
(with) 3231 6144 w
(each) 3473 6144 w
(other) 3735 6144 w
(and) 4030 6144 w
(separate) 4248 6144 w
(system) 4700 6144 w
(libraries) 720 6264 w
(are) 1148 6264 w
(needed) 1334 6264 w
(for) 1724 6264 w
(each) 1897 6264 w
(compiler.) 2155 6264 w
(The) 2675 6264 w
(Alef) 2889 6264 w
(system) 3113 6264 w
(libraries) 3486 6264 w
(are) 3913 6264 w
(stored) 4098 6264 w
(in) 4440 6264 w
(the) 4564 6264 w
10 /LucidaTypewriter f
(alef) 4752 6264 w
10 /LucidaSansUnicode00 f
(subdirectory) 720 6384 w
(of) 1371 6384 w
(a) 1513 6384 w
(system) 1612 6384 w
(library) 1996 6384 w
(directory.) 2350 6384 w
(The) 2890 6384 w
(Alef) 3116 6384 w
(compiler) 3352 6384 w
(and) 3820 6384 w
(loader) 4045 6384 w
(automatically) 4395 6384 w
(search the proper directories for the system headers and libraries.) 720 6504 w
(All Alef programs begin by including header file) 720 6660 w
10 /LucidaTypewriter f
(alef.h) 3081 6660 w
10 /LucidaSansUnicode00 f
(.) 3513 6660 w
(This file contains the) 3609 6660 w
(declara\255) 4657 6660 w
(tions) 720 6780 w
(of) 996 6780 w
(the) 1130 6780 w
(complex) 1321 6780 w
(data) 1771 6780 w
(types) 2017 6780 w
(used) 2312 6780 w
(by) 2580 6780 w
(the) 2731 6780 w
(Alef) 2922 6780 w
(library) 3148 6780 w
(functions) 3493 6780 w
(and) 3980 6780 w
(the) 4195 6780 w
(prototypes) 4385 6780 w
(of) 4942 6780 w
(the) 720 6900 w
(functions) 913 6900 w
(themselves.) 1403 6900 w
(Unlike) 2048 6900 w
(C,) 2389 6900 w
(the) 2529 6900 w
(Alef) 2723 6900 w
(run-time) 2953 6900 w
(system) 3430 6900 w
(continually) 3809 6900 w
(interacts) 4377 6900 w
(with) 4835 6900 w
(a) 720 7020 w
(program) 811 7020 w
(during) 1263 7020 w
(its) 1618 7020 w
(execution.) 1771 7020 w
(It) 2346 7020 w
(provides) 2448 7020 w
(functions) 2900 7020 w
(that) 3388 7020 w
(manage) 3614 7020 w
(threads) 4032 7020 w
(of) 4432 7020 w
(execution) 4565 7020 w
(and) 720 7140 w
(pass) 937 7140 w
(messages) 1194 7140 w
(between) 1706 7140 w
(them.) 2150 7140 w
(Most) 2499 7140 w
(of) 2771 7140 w
(these) 2906 7140 w
(functions) 3205 7140 w
(implement) 3694 7140 w
(language) 4250 7140 w
(opera\255) 4731 7140 w
(tors) 720 7260 w
(and) 951 7260 w
(are) 1172 7260 w
(implicitly) 1365 7260 w
(called) 1846 7260 w
(by) 2169 7260 w
(the) 2324 7260 w
(compiler,) 2519 7260 w
(but) 3014 7260 w
(some,) 3216 7260 w
(such) 3549 7260 w
(as) 3815 7260 w
(those) 3961 7260 w
(that) 4268 7260 w
(manipulate) 4499 7260 w
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
10 /LucidaSansUnicode00 f
(\255 2 \255) 2783 480 w
(locks, can be invoked explicitly by the application program.) 720 840 w
(An) 720 996 w
(Alef) 886 996 w
(program) 1112 996 w
(consists) 1563 996 w
(of) 1991 996 w
(one) 2124 996 w
(or) 2339 996 w
(more) 2477 996 w
(processes) 2764 996 w
(each) 3281 996 w
(of) 3541 996 w
(which) 3675 996 w
(contains) 3992 996 w
(one) 4436 996 w
(or) 4651 996 w
(more) 4789 996 w
(tasks.) 720 1116 w
10 /LucidaSans-Italic f
(Processes) 1080 1116 w
10 /LucidaSansUnicode00 f
(are) 1590 1116 w
(threads) 1786 1116 w
(of) 2195 1116 w
(execution) 2337 1116 w
(that) 2856 1116 w
(are) 3091 1116 w
(preemptively) 3287 1116 w
(scheduled) 3958 1116 w
(by) 4495 1116 w
(the) 4654 1116 w
(sys\255) 4853 1116 w
(tem) 720 1236 w
(and) 943 1236 w
(may) 1160 1236 w
(execute) 1397 1236 w
(in) 1813 1236 w
(parallel) 1941 1236 w
(on) 2335 1236 w
(a) 2495 1236 w
(multi-processor.) 2587 1236 w
10 /LucidaSans-Italic f
(Tasks) 3472 1236 w
10 /LucidaSansUnicode00 f
(are) 3788 1236 w
(controlled) 3977 1236 w
(by) 4504 1236 w
(the) 4656 1236 w
(Alef) 4849 1236 w
(run-time) 720 1356 w
(and) 1194 1356 w
(execute) 1409 1356 w
(cooperatively.) 1823 1356 w
(The) 2565 1356 w
(first) 2781 1356 w
(task) 3011 1356 w
(of) 3247 1356 w
(each) 3380 1356 w
(program) 3639 1356 w
(is) 4090 1356 w
(implicitly) 4205 1356 w
(created) 4681 1356 w
(when) 720 1476 w
(the) 1019 1476 w
(program) 1216 1476 w
(starts;) 1674 1476 w
(it) 2020 1476 w
(begins) 2128 1476 w
(execution) 2493 1476 w
(at) 3010 1476 w
(the) 3145 1476 w
(function) 3343 1476 w
(named) 3787 1476 w
10 /LucidaTypewriter f
(main) 4159 1476 w
10 /LucidaSansUnicode00 f
(.) 4447 1476 w
(A) 4554 1476 w
(process) 4666 1476 w
(may) 720 1596 w
(create) 955 1596 w
(additional) 1286 1596 w
(processes) 1804 1596 w
(and) 2319 1596 w
(tasks) 2533 1596 w
(each) 2819 1596 w
(of) 3077 1596 w
(which) 3209 1596 w
(begins) 3524 1596 w
(execution) 3881 1596 w
(at) 4390 1596 w
(a) 4516 1596 w
(specified) 4605 1596 w
(function.) 720 1716 w
(Threads) 1221 1716 w
(of) 1648 1716 w
(execution) 1782 1716 w
(often) 2293 1716 w
(communicate) 2582 1716 w
(on) 3268 1716 w
10 /LucidaSans-Italic f
(channels) 3427 1716 w
10 /LucidaSansUnicode00 f
(as) 3891 1716 w
(illustrated) 4034 1716 w
(in) 4560 1716 w
(the) 4688 1716 w
(fol\255) 4880 1716 w
(lowing diagram:) 720 1836 w
900 2718 900 1998 Dl
900 1998 2340 1998 Dl
2340 1998 2340 2718 Dl
2340 2718 900 2718 Dl
(Process 1) 1390 2090 w
1044 2358 432 432 De
(Main) 1144 2378 w
1764 2358 432 432 De
(Task 2) 1819 2378 w
3420 3078 3420 2358 Dl
3420 2358 4860 2358 Dl
4860 2358 4860 3078 Dl
4860 3078 3420 3078 Dl
(Process 2) 3910 2450 w
3924 2718 432 432 De
(Task 1) 3979 2738 w
900 3798 900 3078 Dl
900 3078 3060 3078 Dl
3060 3078 3060 3798 Dl
3060 3798 900 3798 Dl
(Process 3) 1750 3170 w
1044 3438 432 432 De
(Task 1) 1099 3458 w
1764 3438 432 432 De
(Task 2) 1819 3458 w
2484 3438 432 432 De
(Task 3) 2539 3458 w
1800 2358 1440 2358 Dl
1512 2340 1440 2358 Dl
1512 2376 1440 2358 Dl
1260 2538 1260 3258 Dl
1242 3186 1260 3258 Dl
1278 3186 1260 3258 Dl
1440 3438 1800 3438 Dl
1728 3456 1800 3438 Dl
1728 3420 1800 3438 Dl
3962 2688 2157 2388 Dl
2231 2381 2157 2386 Dl
2225 2417 2157 2388 Dl
3978 2798 2860 3356 Dl
2917 3309 2861 3357 Dl
2933 3341 2861 3356 Dl
2556 3330 1404 2466 Dl
1472 2494 1404 2466 Dl
1450 2523 1404 2466 Dl
(Channel) 2035 2918 w
(This) 720 3996 w
(section) 966 3996 w
(provides) 1354 3996 w
(an) 1811 3996 w
(overview) 1970 3996 w
(of) 2436 3996 w
(Alef) 2576 3996 w
10 /LucidaSansUnicode20 f
(\031) 2767 3996 w
10 /LucidaSansUnicode00 f
(s) 2799 3996 w
(process) 2892 3996 w
(creation) 3308 3996 w
(and) 3742 3996 w
(communication) 3964 3996 w
(primi\255) 4752 3996 w
(tives.) 720 4116 w
(Later sections then expand on this groundwork.) 1041 4116 w
(Alef) 720 4272 w
(provides) 970 4272 w
(convenient) 1445 4272 w
(mechanisms) 2033 4272 w
(for) 2696 4272 w
(starting) 2895 4272 w
(threads) 3329 4272 w
(of) 3754 4272 w
(execution.) 3912 4272 w
(The) 4511 4272 w
10 /LucidaTypewriter f
(proc) 4752 4272 w
10 /LucidaSansUnicode00 f
(primitive) 720 4392 w
(creates) 1220 4392 w
(a) 1638 4392 w
10 /LucidaSans-Italic f
(process) 1764 4392 w
10 /LucidaSansUnicode00 f
(that) 2202 4392 w
(begins) 2464 4392 w
(execution) 2858 4392 w
(at) 3403 4392 w
(the) 3565 4392 w
(function) 3790 4392 w
(supplied) 4261 4392 w
(as) 4747 4392 w
(its) 4923 4392 w
(operand.) 720 4512 w
(For example, the statement:) 1217 4512 w
9 /LucidaTypewriter f
(proc) 1528 4682 w
(func\(1,) 1853 4682 w
(2\);) 2373 4682 w
10 /LucidaSansUnicode00 f
(starts) 720 4862 w
(a) 1027 4862 w
(process) 1117 4862 w
(at) 1526 4862 w
(the) 1653 4862 w
(function) 1843 4862 w
(named) 2279 4862 w
10 /LucidaTypewriter f
(func) 2643 4862 w
10 /LucidaSansUnicode00 f
(and) 2966 4862 w
(passes) 3181 4862 w
(it) 3543 4862 w
(two) 3644 4862 w
(arguments.) 3854 4862 w
(The) 4473 4862 w
(current) 4690 4862 w
(process continues execution at the statement following the) 720 4982 w
10 /LucidaTypewriter f
(proc) 3629 4982 w
10 /LucidaSansUnicode00 f
(statement.) 3949 4982 w
(An) 720 5138 w
(Alef) 884 5138 w
10 /LucidaSans-Italic f
(channel) 1108 5138 w
10 /LucidaSansUnicode00 f
(is) 1520 5138 w
(a) 1633 5138 w
(mechanism) 1721 5138 w
(for) 2306 5138 w
(passing) 2478 5138 w
(data) 2885 5138 w
(between) 3129 5138 w
(threads) 3570 5138 w
(of) 3969 5138 w
(execution.) 4101 5138 w
(A) 4674 5138 w
(chan\255) 4777 5138 w
(nel) 720 5258 w
(is) 901 5258 w
(similar) 1015 5258 w
(to) 1376 5258 w
(a) 1508 5258 w
(pipe,) 1597 5258 w
(but) 1874 5258 w
(unlike) 2070 5258 w
(a) 2400 5258 w
(pipe,) 2489 5258 w
(which) 2766 5258 w
(is) 3081 5258 w
(typeless,) 3195 5258 w
(a) 3656 5258 w
(channel) 3744 5258 w
(can) 4154 5258 w
(only) 4355 5258 w
(transport) 4592 5258 w
(the single type specified in its declaration.) 720 5378 w
(The) 2842 5378 w
10 /LucidaTypewriter f
(chan) 3055 5378 w
10 /LucidaSansUnicode00 f
(statement) 3375 5378 w
9 /LucidaTypewriter f
(chan\(int\)) 1528 5548 w
(c;) 2178 5548 w
10 /LucidaSansUnicode00 f
(declares) 720 5728 w
(a) 1166 5728 w
(channel) 1265 5728 w
(named) 1686 5728 w
10 /LucidaTypewriter f
(c) 2059 5728 w
10 /LucidaSansUnicode00 f
(that) 2175 5728 w
(transports) 2410 5728 w
(integer) 2954 5728 w
(values.) 3342 5728 w
(Unlike) 3756 5728 w
(variables,) 4104 5728 w
(channels) 4612 5728 w
(are) 720 5848 w
(not) 907 5848 w
(allocated) 1102 5848 w
(when) 1573 5848 w
(they) 1865 5848 w
(are) 2107 5848 w
(declared;) 2294 5848 w
(instead,) 2775 5848 w
(the) 3195 5848 w
10 /LucidaTypewriter f
(alloc) 3385 5848 w
10 /LucidaSansUnicode00 f
(primitive) 3780 5848 w
(must) 4244 5848 w
(be) 4522 5848 w
(used) 4676 5848 w
(to) 4942 5848 w
(allocate and initialize a channel:) 720 5968 w
9 /LucidaTypewriter f
(alloc) 1528 6138 w
(c;) 1918 6138 w
(/*) 2568 6138 w
(allocate) 2763 6138 w
(channel) 3348 6138 w
(named) 3868 6138 w
('c') 4258 6138 w
(*/) 4518 6138 w
10 /LucidaSansUnicode00 f
(The) 720 6318 w
(send) 952 6318 w
(operator,) 1235 6318 w
10 /LucidaTypewriter f
(<-=) 1733 6318 w
10 /LucidaSansUnicode00 f
(,) 1949 6318 w
(transmits) 2032 6318 w
(the) 2539 6318 w
(result) 2746 6318 w
(of) 3074 6318 w
(the) 3224 6318 w
(expression) 3431 6318 w
(supplied) 4014 6318 w
(as) 4482 6318 w
(its) 4640 6318 w
(right) 4809 6318 w
(operand on the channel specified as its left operand:) 720 6438 w
9 /LucidaTypewriter f
(c) 1528 6608 w
(<-=) 1658 6608 w
(1+1;) 1918 6608 w
(/*) 2568 6608 w
(send) 2763 6608 w
(a) 3088 6608 w
(2) 3218 6608 w
(on) 3348 6608 w
(channel) 3543 6608 w
(`c') 4063 6608 w
(*/) 4323 6608 w
10 /LucidaSansUnicode00 f
(The) 720 6788 w
(unary) 957 6788 w
(receive) 1285 6788 w
(operator,) 1682 6788 w
10 /LucidaTypewriter f
(<-) 2186 6788 w
10 /LucidaSansUnicode00 f
(,) 2330 6788 w
(receives) 2419 6788 w
(a) 2868 6788 w
(message) 2980 6788 w
(on) 3461 6788 w
(the) 3641 6788 w
(channel) 3853 6788 w
(supplied) 4287 6788 w
(as) 4760 6788 w
(its) 4923 6788 w
(operand.) 720 6908 w
(The) 1221 6908 w
(received) 1438 6908 w
(value) 1877 6908 w
(may) 2166 6908 w
(then) 2401 6908 w
(be) 2653 6908 w
(manipulated) 2807 6908 w
(by) 3446 6908 w
(other) 3596 6908 w
(operators;) 3888 6908 w
(for) 4421 6908 w
(example,) 4595 6908 w
(it can be assigned to a variable or used as an operand in an expression:) 720 7028 w
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
10 /LucidaSansUnicode00 f
(\255 3 \255) 2783 480 w
9 /LucidaTypewriter f
(int) 1528 830 w
(i;) 1788 830 w
(i) 1528 1050 w
(=) 1658 1050 w
(<-c;) 1788 1050 w
(/*) 2568 1050 w
(assign) 2763 1050 w
(value) 3218 1050 w
(received) 3608 1050 w
(on) 4193 1050 w
(c) 4388 1050 w
(to) 4518 1050 w
(i) 4713 1050 w
(*/) 4843 1050 w
(func\(<-c\);) 1528 1160 w
(/*) 2568 1160 w
(pass) 2763 1160 w
(value) 3088 1160 w
(received) 3478 1160 w
(on) 4063 1160 w
(c) 4258 1160 w
(to) 4388 1160 w
(func) 4583 1160 w
(*/) 4908 1160 w
10 /LucidaSansUnicode00 f
(We) 720 1450 w
(can) 905 1450 w
(combine) 1116 1450 w
(processes) 1574 1450 w
(and) 2098 1450 w
(channels) 2321 1450 w
(to) 2792 1450 w
(implement) 2933 1450 w
(a) 3494 1450 w
(simple) 3592 1450 w
(message) 3957 1450 w
(passing) 4425 1450 w
(pro\255) 4842 1450 w
(gram:) 720 1570 w
9 /LucidaTypewriter f
(#include) 1008 1740 w
(<alef.h>) 2048 1740 w
(void) 1008 1960 w
(receive\(chan\(byte*\)) 1008 2070 w
(c\)) 2308 2070 w
({) 1008 2180 w
(byte) 1528 2290 w
(*s;) 1853 2290 w
(s) 1528 2510 w
(=) 1658 2510 w
(<-c;) 1788 2510 w
(print\("%s\\n",) 1528 2620 w
(s\);) 2438 2620 w
(terminate\(nil\);) 1528 2730 w
(}) 1008 2840 w
(void) 1008 3060 w
(main\(void\)) 1008 3170 w
({) 1008 3280 w
(chan\(byte*\)) 1528 3390 w
(c;) 2308 3390 w
(alloc) 1528 3610 w
(c;) 1918 3610 w
(proc) 1528 3720 w
(receive\(c\);) 1853 3720 w
(c) 1528 3940 w
(<-=) 1658 3940 w
("hello) 1918 3940 w
(world";) 2373 3940 w
(print\("done\\n"\);) 1528 4050 w
(terminate\(nil\);) 1528 4160 w
(}) 1008 4270 w
10 /LucidaSansUnicode00 f
(The) 720 4450 w
(main) 943 4450 w
(process) 1224 4450 w
(declares) 1640 4450 w
(and) 2084 4450 w
(allocates) 2306 4450 w
(a) 2772 4450 w
(channel) 2869 4450 w
(that) 3288 4450 w
(transports) 3522 4450 w
(a) 4064 4450 w
(string) 4162 4450 w
(address.) 4487 4450 w
(It) 4974 4450 w
(then) 720 4570 w
(creates) 972 4570 w
(a) 1354 4570 w
(new) 1444 4570 w
(process) 1674 4570 w
(with) 2083 4570 w
(the) 2323 4570 w
(channel) 2513 4570 w
(as) 2925 4570 w
(its) 3066 4570 w
(argument) 3217 4570 w
(and) 3719 4570 w
(sends) 3933 4570 w
(the) 4250 4570 w
(address) 4439 4570 w
(of) 4853 4570 w
(a) 4985 4570 w
(string) 720 4690 w
(on) 1056 4690 w
(the) 1233 4690 w
(channel) 1442 4690 w
(before) 1873 4690 w
(printing) 2241 4690 w
(a) 2680 4690 w
(message) 2789 4690 w
(and) 3267 4690 w
(terminating.) 3501 4690 w
(The) 4182 4690 w
(new) 4417 4690 w
(process) 4666 4690 w
(begins) 720 4810 w
(execution) 1080 4810 w
(in) 1592 4810 w
(function) 1719 4810 w
10 /LucidaTypewriter f
(receive) 2156 4810 w
10 /LucidaSansUnicode00 f
(,) 2660 4810 w
(where) 2728 4810 w
(it) 3056 4810 w
(blocks) 3158 4810 w
(on) 3507 4810 w
(the) 3666 4810 w
(channel) 3857 4810 w
(until) 4270 4810 w
(a) 4525 4810 w
(message) 4616 4810 w
(arrives) 720 4930 w
(and) 1078 4930 w
(then) 1291 4930 w
(prints) 1541 4930 w
(the) 1857 4930 w
(string) 2045 4930 w
(before) 2360 4930 w
(terminating.) 2707 4930 w
(The) 3367 4930 w
(order) 3581 4930 w
(in) 3876 4930 w
(which) 4001 4930 w
(the) 4316 4930 w
(print) 4505 4930 w
(state\255) 4771 4930 w
(ments) 720 5050 w
(execute) 1054 5050 w
(is) 1468 5050 w
(indeterminate,) 1583 5050 w
(depending) 2326 5050 w
(on) 2877 5050 w
(such) 3035 5050 w
(external) 3296 5050 w
(factors) 3728 5050 w
(as) 4096 5050 w
(system) 4237 5050 w
(load,) 4611 5050 w
(the) 4885 5050 w
(number of processors, and system scheduling policy.) 720 5170 w
(This) 720 5326 w
(example) 958 5326 w
(illustrates) 1404 5326 w
(a) 1915 5326 w
(control) 2004 5326 w
(structure) 2380 5326 w
(common) 2852 5326 w
(to) 3307 5326 w
(Alef) 3439 5326 w
(programs:) 3664 5326 w
(an) 4197 5326 w
(executive) 4348 5326 w
(pro\255) 4842 5326 w
(cess) 720 5446 w
(starts) 969 5446 w
(other) 1281 5446 w
(threads) 1577 5446 w
(of) 1981 5446 w
(execution) 2118 5446 w
(and) 2632 5446 w
(communicates) 2851 5446 w
(with) 3591 5446 w
(them) 3835 5446 w
(via) 4122 5446 w
(channels.) 4297 5446 w
(Sub\255) 4828 5446 w
(sequent) 720 5566 w
(examples) 1158 5566 w
(elaborate) 1673 5566 w
(on) 2177 5566 w
(this) 2351 5566 w
(basic) 2581 5566 w
(architecture) 2881 5566 w
(to) 3510 5566 w
(illustrate) 3659 5566 w
(the) 4136 5566 w
(capabilities) 4343 5566 w
(of) 4942 5566 w
(channels and the Alef process control model.) 720 5686 w
10 /LucidaSans-Demi f
(Types) 720 5926 w
10 /LucidaSansUnicode00 f
(Alef) 720 6082 w
10 /LucidaSansUnicode20 f
(\031) 911 6082 w
10 /LucidaSansUnicode00 f
(s) 943 6082 w
(basic) 1041 6082 w
(types) 1338 6082 w
(look) 1645 6082 w
(similar) 1902 6082 w
(to) 2277 6082 w
(those) 2423 6082 w
(of) 2738 6082 w
(C) 2884 6082 w
(but) 3001 6082 w
(some) 3211 6082 w
(behave) 3520 6082 w
(differently.) 3912 6082 w
(The) 4523 6082 w
10 /LucidaTypewriter f
(byte) 4752 6082 w
10 /LucidaSansUnicode00 f
(data) 720 6202 w
(type) 965 6202 w
(is) 1208 6202 w
(a) 1322 6202 w
(combination) 1411 6202 w
(of) 2048 6202 w
(C) 2180 6202 w
10 /LucidaSansUnicode20 f
(\031) 2249 6202 w
10 /LucidaSansUnicode00 f
(s) 2281 6202 w
10 /LucidaTypewriter f
(char) 2366 6202 w
10 /LucidaSansUnicode00 f
(and) 2688 6202 w
10 /LucidaTypewriter f
(unsigned) 2902 6202 w
(char) 3512 6202 w
10 /LucidaSansUnicode00 f
(types) 3834 6202 w
(with) 4127 6202 w
(the) 4366 6202 w
(semantics) 4555 6202 w
(of) 720 6322 w
(the) 853 6322 w
(latter.) 1043 6322 w
(The) 1397 6322 w
(sizes) 1613 6322 w
(of) 1892 6322 w
(some) 2026 6322 w
(integer) 2323 6322 w
(types) 2702 6322 w
(also) 2997 6322 w
(differ;) 3229 6322 w
10 /LucidaTypewriter f
(ints) 3560 6322 w
10 /LucidaSansUnicode00 f
(and) 3884 6322 w
10 /LucidaTypewriter f
(lints) 4100 6322 w
10 /LucidaSansUnicode00 f
(are) 4496 6322 w
(at) 4684 6322 w
(least) 4812 6322 w
(32) 720 6442 w
(bits) 881 6442 w
(and) 1096 6442 w
(64) 1311 6442 w
(bits) 1472 6442 w
(long.) 1687 6442 w
(The) 2000 6442 w
(single) 2216 6442 w
(floating) 2540 6442 w
(point) 2946 6442 w
(type,) 3232 6442 w
10 /LucidaTypewriter f
(float) 3506 6442 w
10 /LucidaSansUnicode00 f
(,) 3866 6442 w
(is) 3932 6442 w
(always) 4046 6442 w
(double) 4399 6442 w
(preci\255) 4767 6442 w
(sion.) 720 6562 w
(A) 720 6718 w
(complex) 824 6718 w
(type) 1273 6718 w
(is) 1516 6718 w
(a) 1632 6718 w
(collection) 1723 6718 w
(of) 2225 6718 w
(basic) 2359 6718 w
(types) 2644 6718 w
(or) 2939 6718 w
(complex) 3077 6718 w
(types.) 3527 6718 w
(Alef) 3886 6718 w
(provides) 4113 6718 w
(four) 4565 6718 w
(com\255) 4802 6718 w
(plex) 720 6838 w
(types:) 979 6838 w
10 /LucidaTypewriter f
(union) 1319 6838 w
10 /LucidaSansUnicode00 f
(,) 1679 6838 w
10 /LucidaTypewriter f
(aggr) 1760 6838 w
10 /LucidaSansUnicode00 f
(,) 2048 6838 w
10 /LucidaTypewriter f
(adt) 2129 6838 w
10 /LucidaSansUnicode00 f
(,) 2345 6838 w
(and) 2426 6838 w
10 /LucidaTypewriter f
(tuple) 2655 6838 w
10 /LucidaSansUnicode00 f
(.) 3015 6838 w
10 /LucidaTypewriter f
(Unions) 3128 6838 w
10 /LucidaSansUnicode00 f
(and) 3609 6838 w
10 /LucidaTypewriter f
(aggrs) 3838 6838 w
10 /LucidaSansUnicode00 f
(are) 4247 6838 w
(similar) 4448 6838 w
(to) 4824 6838 w
(C) 4971 6838 w
10 /LucidaTypewriter f
(unions) 720 6958 w
10 /LucidaSansUnicode00 f
(and) 1197 6958 w
10 /LucidaTypewriter f
(structs) 1422 6958 w
10 /LucidaSansUnicode00 f
(.) 1926 6958 w
10 /LucidaTypewriter f
(Adts) 2035 6958 w
10 /LucidaSansUnicode00 f
(and) 2368 6958 w
10 /LucidaTypewriter f
(tuples) 2593 6958 w
10 /LucidaSansUnicode00 f
(are) 3070 6958 w
(new) 3267 6958 w
(and) 3507 6958 w
(are) 3732 6958 w
(described) 3929 6958 w
(in) 4448 6958 w
(later) 4585 6958 w
(sec\255) 4849 6958 w
(tions.) 720 7078 w
(An) 720 7234 w
10 /LucidaTypewriter f
(aggr) 931 7234 w
10 /LucidaSansUnicode00 f
(statement) 1300 7234 w
(is) 1865 7234 w
(similar) 2026 7234 w
(to) 2434 7234 w
(a) 2613 7234 w
(combination) 2749 7234 w
(of) 3433 7234 w
(C) 3612 7234 w
10 /LucidaTypewriter f
(struct) 3762 7234 w
10 /LucidaSansUnicode00 f
(and) 4275 7234 w
10 /LucidaTypewriter f
(typedef) 4536 7234 w
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
10 /LucidaSansUnicode00 f
(\255 4 \255) 2783 480 w
(statements.) 720 840 w
(The Alef declaration:) 1351 840 w
9 /LucidaTypewriter f
(aggr) 1008 1010 w
(Point) 1333 1010 w
({) 1723 1010 w
(int) 1528 1120 w
(x;) 1788 1120 w
(int) 1528 1230 w
(y;) 1788 1230 w
(};) 1008 1340 w
10 /LucidaSansUnicode00 f
(is equivalent to the C statement) 720 1520 w
9 /LucidaTypewriter f
(typedef) 1008 1690 w
(struct) 1528 1690 w
({) 1983 1690 w
(int) 1528 1800 w
(x;) 1788 1800 w
(int) 1528 1910 w
(y;) 1788 1910 w
(}) 1008 2020 w
(Point;) 1138 2020 w
10 /LucidaSansUnicode00 f
(An) 720 2200 w
(Alef) 885 2200 w
(complex) 1111 2200 w
(type) 1560 2200 w
(cannot) 1803 2200 w
(be) 2166 2200 w
(declared) 2320 2200 w
(and) 2769 2200 w
(defined) 2984 2200 w
(in) 3385 2200 w
(the) 3511 2200 w
(same) 3701 2200 w
(statement;) 3991 2200 w
(it) 4542 2200 w
(must) 4643 2200 w
(be) 4921 2200 w
(declared) 720 2320 w
(first) 1176 2320 w
(and) 1413 2320 w
(bound) 1634 2320 w
(to) 1986 2320 w
(a) 2125 2320 w
(variable) 2221 2320 w
(subsequently.) 2642 2320 w
(Unlike) 3391 2320 w
(C,) 3735 2320 w
(the) 3877 2320 w
(members) 4073 2320 w
(of) 4567 2320 w
(a) 4706 2320 w
(com\255) 4802 2320 w
(plex) 720 2440 w
(type) 962 2440 w
(may) 1203 2440 w
(be) 1437 2440 w
(named) 1590 2440 w
(or) 1953 2440 w
(unnamed.) 2089 2440 w
(An) 2640 2440 w
(unnamed) 2805 2440 w
(member) 3292 2440 w
(declaration) 3728 2440 w
(contains) 4301 2440 w
(a) 4743 2440 w
(type) 4832 2440 w
(specification) 720 2560 w
(but) 1375 2560 w
(no) 1581 2560 w
(following) 1748 2560 w
(tag.) 2239 2560 w
(A) 2501 2560 w
(complex) 2613 2560 w
(type) 3070 2560 w
(may) 3321 2560 w
(contain) 3564 2560 w
(many) 3964 2560 w
(unnamed) 4269 2560 w
(mem\255) 4765 2560 w
(bers,) 720 2680 w
(but) 1005 2680 w
(there) 1209 2680 w
(can) 1503 2680 w
(be) 1714 2680 w
(only) 1876 2680 w
(one) 2123 2680 w
(unnamed) 2345 2680 w
(member) 2841 2680 w
(of) 3286 2680 w
(each) 3427 2680 w
(type.) 3694 2680 w
(For) 4009 2680 w
(example,) 4208 2680 w
(we) 4696 2680 w
(can) 4872 2680 w
(declare a) 720 2800 w
10 /LucidaTypewriter f
(Circle) 1190 2800 w
9 /LucidaTypewriter f
(aggr) 1008 2970 w
(Circle) 1333 2970 w
({) 1788 2970 w
(int) 1528 3080 w
(radius;) 1788 3080 w
(Point;) 1528 3190 w
(};) 1008 3300 w
(Circle) 1008 3410 w
(c;) 1463 3410 w
10 /LucidaSansUnicode00 f
(consisting of an unnamed) 720 3590 w
(center) 2012 3590 w
(point) 2348 3590 w
(and) 2633 3590 w
(a) 2846 3590 w
(radius) 2934 3590 w
(but) 3268 3590 w
(we) 3463 3590 w
(must) 3629 3590 w
(name) 3905 3590 w
(the) 4204 3590 w
(end) 4392 3590 w
(points) 4606 3590 w
(of) 4942 3590 w
(a) 720 3710 w
10 /LucidaTypewriter f
(Line) 807 3710 w
9 /LucidaTypewriter f
(aggr) 1008 3880 w
(Line) 1333 3880 w
({) 1658 3880 w
(Point) 1528 3990 w
(p1;) 1918 3990 w
(Point) 1528 4100 w
(p2;) 1918 4100 w
(};) 1008 4210 w
(Line) 1008 4320 w
(ln;) 1333 4320 w
10 /LucidaSansUnicode00 f
(because there can) 720 4500 w
10 /LucidaSansUnicode20 f
(\031) 1598 4500 w
10 /LucidaSansUnicode00 f
(t be two unnamed) 1630 4500 w
10 /LucidaTypewriter f
(Point) 2542 4500 w
10 /LucidaSansUnicode00 f
(members in the aggregate.) 2934 4500 w
(Named) 720 4656 w
(members) 1094 4656 w
(of) 1580 4656 w
(an) 1711 4656 w
(Alef) 1861 4656 w
(complex) 2085 4656 w
(type) 2532 4656 w
(are) 2773 4656 w
(referenced) 2958 4656 w
(using) 3510 4656 w
(C) 3809 4656 w
10 /LucidaSansUnicode20 f
(\031) 3878 4656 w
10 /LucidaSansUnicode00 f
(s) 3910 4656 w
(syntax.) 3994 4656 w
(The) 4410 4656 w
10 /LucidaTypewriter f
(.) 4625 4656 w
10 /LucidaSansUnicode00 f
(opera\255) 4731 4656 w
(tor) 720 4776 w
(selects) 894 4776 w
(the) 1260 4776 w
(member) 1450 4776 w
(specified) 1887 4776 w
(by) 2357 4776 w
(its) 2507 4776 w
(right) 2658 4776 w
(operand) 2923 4776 w
(from) 3358 4776 w
(the) 3624 4776 w
(complex) 3813 4776 w
(type) 4261 4776 w
(on) 4503 4776 w
(the) 4660 4776 w
(left;) 4849 4776 w
(the) 720 4896 w
10 /LucidaTypewriter f
(->) 913 4896 w
10 /LucidaSansUnicode00 f
(operator) 1095 4896 w
(selects) 1548 4896 w
(the) 1917 4896 w
(member) 2110 4896 w
(from) 2550 4896 w
(a) 2820 4896 w
(pointer) 2913 4896 w
(to) 3300 4896 w
(the) 3436 4896 w
(type.) 3629 4896 w
(When) 3939 4896 w
(a) 4243 4896 w
(member) 4336 4896 w
(refer\255) 4776 4896 w
(ence) 720 5016 w
(does) 1021 5016 w
(not) 1327 5016 w
(match) 1562 5016 w
(any) 1935 5016 w
(named) 2179 5016 w
(member,) 2583 5016 w
(the) 3092 5016 w
(unnamed) 3322 5016 w
(members) 3850 5016 w
(are) 4378 5016 w
(searched) 4605 5016 w
(breadth-first) 720 5136 w
(for) 1387 5136 w
(a) 1563 5136 w
(member) 1655 5136 w
(with) 2094 5136 w
(the) 2336 5136 w
(desired) 2529 5136 w
(name.) 2926 5136 w
(In) 3294 5136 w
(effect,) 3423 5136 w
(the) 3767 5136 w
(members) 3960 5136 w
(of) 4451 5136 w
(unnamed) 4587 5136 w
(inner) 720 5256 w
(complex) 1009 5256 w
(types,) 1462 5256 w
(to) 1792 5256 w
(arbitrary) 1929 5256 w
(depth,) 2382 5256 w
(may) 2734 5256 w
(be) 2973 5256 w
(referenced) 3131 5256 w
(as) 3689 5256 w
(if) 3834 5256 w
(they) 3938 5256 w
(were) 4183 5256 w
(members) 4451 5256 w
(of) 4942 5256 w
(the) 720 5376 w
(containing) 923 5376 w
(complex) 1481 5376 w
(type) 1943 5376 w
(as) 2199 5376 w
(long) 2353 5376 w
(as) 2615 5376 w
(their) 2769 5376 w
(names) 3043 5376 w
(are) 3409 5376 w
(unique) 3610 5376 w
(within) 3993 5376 w
(the) 4338 5376 w
(collection.) 4542 5376 w
(For) 720 5496 w
(example,) 918 5496 w
(we) 1405 5496 w
(can) 1580 5496 w
(directly) 1790 5496 w
(refer) 2189 5496 w
(to) 2461 5496 w
(the) 2600 5496 w
(center) 2796 5496 w
(coordinates) 3140 5496 w
(of) 3748 5496 w
(a) 3887 5496 w
10 /LucidaTypewriter f
(Circle) 3983 5496 w
10 /LucidaSansUnicode00 f
(as) 4456 5496 w
10 /LucidaTypewriter f
(c.x) 4603 5496 w
10 /LucidaSansUnicode00 f
(and) 4860 5496 w
10 /LucidaTypewriter f
(c.y) 720 5616 w
10 /LucidaSansUnicode00 f
(but) 1007 5616 w
(references) 1240 5616 w
(to) 1818 5616 w
(the) 1988 5616 w
(end) 2215 5616 w
(coordinates) 2468 5616 w
(of) 3107 5616 w
(a) 3277 5616 w
(line) 3404 5616 w
(must) 3652 5616 w
(be) 3967 5616 w
(fully) 4158 5616 w
(qualified) 4439 5616 w
(as) 4934 5616 w
10 /LucidaTypewriter f
(ln.p1.x) 720 5736 w
10 /LucidaSansUnicode00 f
(,) 1224 5736 w
10 /LucidaTypewriter f
(ln.p1.y) 1288 5736 w
10 /LucidaSansUnicode00 f
(,) 1792 5736 w
10 /LucidaTypewriter f
(ln.p2.x) 1856 5736 w
10 /LucidaSansUnicode00 f
(, and) 2360 5736 w
10 /LucidaTypewriter f
(ln.p2.y) 2636 5736 w
10 /LucidaSansUnicode00 f
(.) 3140 5736 w
(As) 720 5892 w
(in) 874 5892 w
(C,) 999 5892 w
(complex) 1134 5892 w
(types) 1582 5892 w
(can) 1875 5892 w
(be) 2077 5892 w
(assigned,) 2230 5892 w
(but) 2725 5892 w
(Alef) 2921 5892 w
(provides) 3146 5892 w
(special) 3597 5892 w
(promotion) 3966 5892 w
(rules) 4509 5892 w
(when) 4783 5892 w
(the) 720 6012 w
(source) 910 6012 w
(complex) 1267 6012 w
(type) 1716 6012 w
(contains) 1959 6012 w
(unnamed) 2401 6012 w
(members.) 2888 6012 w
(When) 3439 6012 w
(the) 3739 6012 w
(operands) 3928 6012 w
(of) 4414 6012 w
(an) 4546 6012 w
(assign\255) 4697 6012 w
(ment) 720 6132 w
(expression) 1044 6132 w
(evaluate) 1651 6132 w
(to) 2129 6132 w
(different) 2303 6132 w
(complex) 2797 6132 w
(types,) 3287 6132 w
(the) 3654 6132 w
(compiler) 3885 6132 w
(searches) 4385 6132 w
(the) 4885 6132 w
(unnamed) 720 6252 w
(members) 1219 6252 w
(of) 1718 6252 w
(the) 1861 6252 w
(right) 2061 6252 w
(hand) 2337 6252 w
(complex) 2624 6252 w
(type) 3083 6252 w
(breadth-first) 3336 6252 w
(for) 4011 6252 w
(a) 4195 6252 w
(member) 4295 6252 w
(of) 4742 6252 w
(the) 4885 6252 w
(same type as the left hand side and selects that member for assignment.) 720 6372 w
(For example,) 4325 6372 w
9 /LucidaTypewriter f
(Point) 1528 6542 w
(p;) 1918 6542 w
(Circle) 1528 6652 w
(c;) 1983 6652 w
(p) 1528 6872 w
(=) 1658 6872 w
(c;) 1788 6872 w
10 /LucidaSansUnicode00 f
(assigns the unnamed) 720 7052 w
10 /LucidaTypewriter f
(Point) 1785 7052 w
10 /LucidaSansUnicode00 f
(member of) 2177 7052 w
(the) 2742 7052 w
10 /LucidaTypewriter f
(Circle) 2930 7052 w
10 /LucidaSansUnicode00 f
(named) 3395 7052 w
10 /LucidaTypewriter f
(c) 3757 7052 w
10 /LucidaSansUnicode00 f
(to) 3862 7052 w
(the) 3993 7052 w
10 /LucidaTypewriter f
(Point) 4181 7052 w
10 /LucidaSansUnicode00 f
(named) 4574 7052 w
10 /LucidaTypewriter f
(p) 4936 7052 w
10 /LucidaSansUnicode00 f
(.) 5008 7052 w
(The) 720 7172 w
(promotion) 941 7172 w
(rules) 1489 7172 w
(also) 1768 7172 w
(apply) 2004 7172 w
(to) 2306 7172 w
(the) 2444 7172 w
(evaluation) 2639 7172 w
(of) 3177 7172 w
(function) 3315 7172 w
(arguments) 3756 7172 w
(and) 4314 7172 w
(return) 4533 7172 w
(val\255) 4871 7172 w
(ues.) 720 7292 w
(In) 989 7292 w
(the) 1116 7292 w
(first) 1307 7292 w
(case) 1539 7292 w
(arguments) 1789 7292 w
(are) 2345 7292 w
(compared) 2534 7292 w
(to) 3054 7292 w
(the) 3189 7292 w
(formal) 3381 7292 w
(parameters) 3734 7292 w
(in) 4319 7292 w
(the) 4447 7292 w
(function) 4639 7292 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
10 /LucidaSansUnicode00 f
(\255 5 \255) 2783 480 w
(prototype) 720 840 w
(and) 1234 840 w
(promoted,) 1457 840 w
(if) 2007 840 w
(necessary.) 2116 840 w
(In) 2698 840 w
(the) 2832 840 w
(latter) 3030 840 w
(case,) 3328 840 w
(the) 3616 840 w
(return) 3814 840 w
(value) 4156 840 w
(is) 4453 840 w
(evaluated) 4575 840 w
(relative to the type of the function.) 720 960 w
(For example, in) 2478 960 w
9 /LucidaTypewriter f
(int) 1008 1130 w
(eqpt\(Point) 1008 1240 w
(p1,) 1723 1240 w
(Point) 1983 1240 w
(p2\)) 2373 1240 w
({) 1008 1350 w
(return) 1528 1460 w
(p1.x) 1983 1460 w
(==) 2308 1460 w
(p2.x) 2503 1460 w
(&&) 2828 1460 w
(p1.y) 3023 1460 w
(==) 3348 1460 w
(p2.y;) 3543 1460 w
(}) 1008 1570 w
(void) 1008 1790 w
(main\(void\)) 1008 1900 w
({) 1008 2010 w
(Point) 1528 2120 w
(p;) 1918 2120 w
(Circle) 1528 2230 w
(c;) 1983 2230 w
(if\(eqpt\(c,) 1528 2450 w
(p\)\)) 2243 2450 w
(...) 2503 2450 w
(}) 1008 2560 w
10 /LucidaSansUnicode00 f
(the) 720 2740 w
(first) 926 2740 w
(argument) 1172 2740 w
(to) 1691 2740 w
10 /LucidaTypewriter f
(eqpt) 1840 2740 w
10 /LucidaSansUnicode00 f
(is) 2179 2740 w
(synthesized) 2310 2740 w
(by) 2937 2740 w
(promoting) 3103 2740 w
(the) 3663 2740 w
10 /LucidaTypewriter f
(Point) 3869 2740 w
10 /LucidaSansUnicode00 f
(member) 4281 2740 w
(of) 4735 2740 w
(the) 4885 2740 w
10 /LucidaTypewriter f
(Circle) 720 2860 w
10 /LucidaSansUnicode00 f
(aggregate) 1218 2860 w
(to) 1770 2860 w
(the) 1934 2860 w
(type) 2155 2860 w
(of) 2428 2860 w
(the) 2591 2860 w
(formal) 2811 2860 w
(parameter.) 3192 2860 w
(Similarly,) 3818 2860 w
(if) 4326 2860 w
10 /LucidaTypewriter f
(eqpt) 4457 2860 w
10 /LucidaSansUnicode00 f
(were) 4810 2860 w
(changed to accept the addresses of two) 720 2980 w
10 /LucidaTypewriter f
(Points) 2681 2980 w
10 /LucidaSansUnicode00 f
(,) 3113 2980 w
9 /LucidaTypewriter f
(if\(eqpt\(&c,) 1528 3150 w
(&p\)\)) 2308 3150 w
(...) 2633 3150 w
10 /LucidaSansUnicode00 f
(Alef) 720 3330 w
(would) 978 3330 w
(promote) 1337 3330 w
(the) 1816 3330 w
(address) 2038 3330 w
(of) 2485 3330 w
(the) 2650 3330 w
10 /LucidaTypewriter f
(Circle) 2872 3330 w
10 /LucidaSansUnicode00 f
(aggregate) 3371 3330 w
(to) 3924 3330 w
(the) 4089 3330 w
(address) 4311 3330 w
(of) 4758 3330 w
(its) 4923 3330 w
(unnamed) 720 3450 w
10 /LucidaTypewriter f
(Point) 1205 3450 w
10 /LucidaSansUnicode00 f
(member.) 1597 3450 w
(The) 720 3606 w
(ability) 938 3606 w
(to) 1270 3606 w
(directly) 1406 3606 w
(reference) 1802 3606 w
(members) 2296 3606 w
(of) 2787 3606 w
(unnamed) 2923 3606 w
(inner) 3414 3606 w
(complex) 3702 3606 w
(types) 4154 3606 w
(allows) 4451 3606 w
(us) 4791 3606 w
(to) 4942 3606 w
(avoid) 720 3726 w
(the) 1020 3726 w
(C) 1215 3726 w
(requirement) 1324 3726 w
(of) 1960 3726 w
(attaching) 2098 3726 w
(dummy) 2588 3726 w
(names) 2991 3726 w
(to) 3348 3726 w
(nested) 3486 3726 w
(complex) 3851 3726 w
(types) 4305 3726 w
(and) 4604 3726 w
(then) 4823 3726 w
(having) 720 3846 w
(to) 1080 3846 w
(specify) 1216 3846 w
(dummy) 1593 3846 w
(qualifiers) 1994 3846 w
(on) 2485 3846 w
(each) 2647 3846 w
(member) 2910 3846 w
(reference.) 3351 3846 w
(Consider) 3910 3846 w
(the) 4381 3846 w
(definition) 4575 3846 w
(of a new complex type that is either a) 720 3966 w
10 /LucidaTypewriter f
(Line) 2585 3966 w
10 /LucidaSansUnicode00 f
(or a) 2905 3966 w
10 /LucidaTypewriter f
(Circle) 3126 3966 w
10 /LucidaSansUnicode00 f
(:) 3558 3966 w
9 /LucidaTypewriter f
(aggr) 1008 4136 w
(Shape) 1333 4136 w
({) 1723 4136 w
(int) 1528 4246 w
(type;) 2048 4246 w
(union) 1528 4356 w
({) 1918 4356 w
(Circle;) 2048 4466 w
(Line;) 2048 4576 w
(};) 1528 4686 w
(};) 1008 4796 w
(Shape) 1008 4906 w
(s;) 1398 4906 w
10 /LucidaSansUnicode00 f
(Since) 720 5086 w
(the) 1006 5086 w
10 /LucidaTypewriter f
(union) 1195 5086 w
10 /LucidaSansUnicode00 f
(,) 1555 5086 w
10 /LucidaTypewriter f
(Line) 1621 5086 w
10 /LucidaSansUnicode00 f
(,) 1909 5086 w
(and) 1975 5086 w
10 /LucidaTypewriter f
(Circle) 2189 5086 w
10 /LucidaSansUnicode00 f
(members) 2655 5086 w
(are) 3142 5086 w
(unnamed,) 3328 5086 w
(we) 3848 5086 w
(avoid) 4016 5086 w
(unwieldy) 4311 5086 w
(refer\255) 4776 5086 w
(ences) 720 5206 w
(like) 1057 5206 w
10 /LucidaTypewriter f
(s.dummy.circ.pt.x) 1289 5206 w
10 /LucidaSansUnicode00 f
(;) 2513 5206 w
10 /LucidaTypewriter f
(s.x) 2605 5206 w
10 /LucidaSansUnicode00 f
(can) 2881 5206 w
(only) 3109 5206 w
(refer) 3373 5206 w
(to) 3664 5206 w
(the) 3822 5206 w
10 /LucidaSans-Italic f
(x) 4037 5206 w
10 /LucidaSansUnicode00 f
(coordinate) 4151 5206 w
(of) 4727 5206 w
(the) 4885 5206 w
10 /LucidaTypewriter f
(Circle) 720 5326 w
10 /LucidaSansUnicode00 f
(member,) 1206 5326 w
(and) 1694 5326 w
10 /LucidaTypewriter f
(s.p1.x) 1928 5326 w
10 /LucidaSansUnicode00 f
(unambiguously) 2414 5326 w
(selects) 3211 5326 w
(the) 3596 5326 w
10 /LucidaSans-Italic f
(x) 3805 5326 w
10 /LucidaSansUnicode00 f
(coordinate) 3913 5326 w
(of) 4483 5326 w
(the) 4635 5326 w
(first) 4845 5326 w
10 /LucidaTypewriter f
(Point) 720 5446 w
10 /LucidaSansUnicode00 f
(of the) 1112 5446 w
10 /LucidaTypewriter f
(Line) 1429 5446 w
10 /LucidaSansUnicode00 f
(member.) 1749 5446 w
(An) 720 5602 w
(unnamed) 903 5602 w
(member) 1408 5602 w
(can) 1862 5602 w
(be) 2082 5602 w
(directly) 2253 5602 w
(referenced) 2663 5602 w
(by) 3234 5602 w
(specifying) 3401 5602 w
(the) 3946 5602 w
(type) 4154 5602 w
(name) 4415 5602 w
(of) 4734 5602 w
(the) 4885 5602 w
(member.) 720 5722 w
(For example,) 1218 5722 w
9 /LucidaTypewriter f
(Shape) 1528 5892 w
(s;) 1918 5892 w
(memset\(&s.Circle,) 1528 6112 w
(0,) 2698 6112 w
(sizeof\(s.Circle\)\);) 2893 6112 w
10 /LucidaSansUnicode00 f
(clears the) 720 6292 w
10 /LucidaTypewriter f
(Circle) 1222 6292 w
10 /LucidaSansUnicode00 f
(member of the) 1686 6292 w
10 /LucidaTypewriter f
(Shape) 2437 6292 w
10 /LucidaSansUnicode00 f
(aggregate.) 2829 6292 w
10 /LucidaSans-Demi f
(Tuples) 720 6532 w
10 /LucidaSansUnicode00 f
(A) 720 6688 w
10 /LucidaSans-Italic f
(tuple) 837 6688 w
10 /LucidaSansUnicode00 f
(is) 1128 6688 w
(a) 1256 6688 w
(complex) 1359 6688 w
(type) 1822 6688 w
(whose) 2079 6688 w
(members) 2435 6688 w
(are) 2937 6688 w
(all) 3138 6688 w
(unnamed.) 3300 6688 w
(Most) 3866 6688 w
(programs) 4150 6688 w
(process) 4666 6688 w
(tuples) 720 6808 w
(as) 1058 6808 w
(a) 1204 6808 w
(unit;) 1299 6808 w
(if) 1561 6808 w
(the) 1667 6808 w
(members) 1862 6808 w
(are) 2355 6808 w
(accessed) 2547 6808 w
(often,) 3021 6808 w
(the) 3346 6808 w
(tuple) 3541 6808 w
(should) 3827 6808 w
(be) 4194 6808 w
(an) 4352 6808 w
10 /LucidaTypewriter f
(aggr) 4508 6808 w
10 /LucidaSansUnicode00 f
(with) 4835 6808 w
(named) 720 6928 w
(members.) 1088 6928 w
(Tuples) 1644 6928 w
(are) 2007 6928 w
(often) 2198 6928 w
(used) 2490 6928 w
(to) 2761 6928 w
(bundle) 2898 6928 w
(several) 3272 6928 w
(values) 3651 6928 w
(so) 3995 6928 w
(they) 4147 6928 w
(can) 4394 6928 w
(be) 4602 6928 w
(trans\255) 4761 6928 w
(ported on a channel, passed as an argument, or returned from a function as a unit.) 720 7048 w
(A) 720 7204 w
(tuple) 830 7204 w
(declaration) 1118 7204 w
(consists) 1698 7204 w
(of) 2132 7204 w
(the) 2271 7204 w
10 /LucidaTypewriter f
(tuple) 2467 7204 w
10 /LucidaSansUnicode00 f
(keyword) 2868 7204 w
(followed) 3317 7204 w
(by) 3771 7204 w
(a) 3927 7204 w
(parenthesized) 4024 7204 w
(list) 4754 7204 w
(of) 4942 7204 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
10 /LucidaSansUnicode00 f
(\255 6 \255) 2783 480 w
(type specifications for each member:) 720 840 w
9 /LucidaTypewriter f
(tuple\(int,) 1528 1010 w
(byte*,) 2243 1010 w
(int\)) 2698 1010 w
(t;) 3023 1010 w
10 /LucidaSansUnicode00 f
(defines) 720 1190 w
(a) 1112 1190 w
(tuple) 1205 1190 w
(named) 1490 1190 w
10 /LucidaTypewriter f
(t) 1857 1190 w
10 /LucidaSansUnicode00 f
(containing) 1967 1190 w
(two) 2515 1190 w
(integers) 2728 1190 w
(and) 3160 1190 w
(an) 3378 1190 w
(address.) 3533 1190 w
(The) 4015 1190 w
10 /LucidaTypewriter f
(tuple) 4234 1190 w
10 /LucidaSansUnicode00 f
(keyword) 4632 1190 w
(can) 720 1310 w
(be) 925 1310 w
(omitted) 1081 1310 w
(when) 1494 1310 w
(the) 1787 1310 w
(syntax) 1978 1310 w
(is) 2332 1310 w
(unambiguous,) 2448 1310 w
(but) 3178 1310 w
(it) 3376 1310 w
10 /LucidaSansUnicode20 f
(\031) 3442 1310 w
10 /LucidaSansUnicode00 f
(s) 3474 1310 w
(easier) 3561 1310 w
(to) 3885 1310 w
(supply) 4019 1310 w
(it) 4375 1310 w
(in) 4477 1310 w
(all) 4604 1310 w
(decla\255) 4753 1310 w
(rations than to remember when it isn) 720 1430 w
10 /LucidaSansUnicode20 f
(\031) 2526 1430 w
10 /LucidaSansUnicode00 f
(t needed.) 2558 1430 w
(Tuples can be nested to arbitrary depth:) 3079 1430 w
9 /LucidaTypewriter f
(tuple\(int,) 1528 1600 w
(tuple\(byte,) 2243 1600 w
(byte*\),) 3023 1600 w
(int\)) 3543 1600 w
(t;) 3868 1600 w
10 /LucidaSansUnicode00 f
(declares a tuple containing an integer, a tuple, and an integer.) 720 1780 w
(Tuples) 720 1936 w
(may) 1101 1936 w
(be) 1358 1936 w
(used) 1534 1936 w
(in) 1823 1936 w
(any) 1971 1936 w
(context) 2197 1936 w
(appropriate) 2619 1936 w
(for) 3240 1936 w
(a) 3436 1936 w
(complex) 3548 1936 w
(type:) 4020 1936 w
(as) 4318 1936 w
(assignment) 4482 1936 w
(operands,) 720 2056 w
(as) 1254 2056 w
(function) 1410 2056 w
(arguments,) 1861 2056 w
(as) 2462 2056 w
(function) 2617 2056 w
(return) 3067 2056 w
(values,) 3415 2056 w
(or) 3801 2056 w
(as) 3952 2056 w
(channel) 4107 2056 w
(messages.) 4533 2056 w
(The) 720 2176 w
10 /LucidaTypewriter f
(sizeof) 938 2176 w
10 /LucidaSansUnicode00 f
(operator) 1407 2176 w
(yields) 1859 2176 w
(the) 2176 2176 w
(size) 2368 2176 w
(of) 2598 2176 w
(a) 2733 2176 w
(tuple) 2826 2176 w
(in) 3111 2176 w
(bytes.) 3240 2176 w
(As) 3601 2176 w
(with) 3759 2176 w
(other) 4002 2176 w
(complex) 4297 2176 w
(types,) 4749 2176 w
(tuples are always passed by value.) 720 2296 w
(A) 720 2452 w
(tuple) 830 2452 w
(declaration) 1118 2452 w
(declares) 1699 2452 w
(a) 2143 2452 w
(tuple) 2240 2452 w
(data) 2529 2452 w
(type) 2781 2452 w
(and) 3031 2452 w
(binds) 3253 2452 w
(it) 3563 2452 w
(to) 3671 2452 w
(one) 3811 2452 w
(or) 4032 2452 w
(more) 4176 2452 w
(variables) 4469 2452 w
(of) 4942 2452 w
(that) 720 2572 w
(type.) 945 2572 w
(Alef) 1251 2572 w
(also) 1476 2572 w
(provides) 1706 2572 w
(a) 2156 2572 w
(tuple) 2245 2572 w
(operator) 2525 2572 w
(that) 2973 2572 w
(constructs) 3197 2572 w
(an) 3734 2572 w
(unnamed) 3884 2572 w
(tuple) 4370 2572 w
(contain\255) 4650 2572 w
(ing) 720 2692 w
(its) 910 2692 w
(operands.) 1064 2692 w
(Syntactically,) 1617 2692 w
(the) 2279 2692 w
(tuple) 2471 2692 w
(operator) 2755 2692 w
(is) 3207 2692 w
(specified) 3324 2692 w
(as) 3796 2692 w
(a) 3939 2692 w
(parenthesized) 4032 2692 w
(list) 4758 2692 w
(of) 4942 2692 w
(two or more expressions:) 720 2812 w
9 /LucidaTypewriter f
(\(1+2,) 1528 2982 w
("abc",) 1918 2982 w
(var\)) 2373 2982 w
10 /LucidaSansUnicode00 f
(defines) 720 3162 w
(an) 1107 3162 w
(unnamed) 1257 3162 w
(tuple) 1743 3162 w
(containing) 2023 3162 w
(an) 2566 3162 w
10 /LucidaTypewriter f
(int) 2716 3162 w
10 /LucidaSansUnicode00 f
(,) 2932 3162 w
(a) 2997 3162 w
10 /LucidaTypewriter f
(byte) 3085 3162 w
10 /LucidaSansUnicode00 f
(pointer,) 3406 3162 w
(and) 3820 3162 w
(the) 4033 3162 w
(value) 4221 3162 w
(of) 4509 3162 w
(the) 4641 3162 w
(vari\255) 4830 3162 w
(able) 720 3282 w
(named) 958 3282 w
10 /LucidaTypewriter f
(var) 1321 3282 w
10 /LucidaSansUnicode00 f
(.) 1537 3282 w
(Although) 1635 3282 w
(a) 2113 3282 w
(single) 2202 3282 w
(expression) 2525 3282 w
(enclosed) 3090 3282 w
(in) 3553 3282 w
(parentheses) 3678 3282 w
(may) 4302 3282 w
(look) 4536 3282 w
(like) 4779 3282 w
(a) 4985 3282 w
(tuple with one member, it is parsed as a parenthesized scalar.) 720 3402 w
(A) 720 3558 w
(tuple) 822 3558 w
(may) 1102 3558 w
(be) 1335 3558 w
(the) 1487 3558 w
(source) 1675 3558 w
(or) 2030 3558 w
(destination) 2166 3558 w
(operand) 2742 3558 w
(of) 3177 3558 w
(an) 3309 3558 w
(assignment) 3460 3558 w
(expression.) 4052 3558 w
(As) 4681 3558 w
(with) 4835 3558 w
(other) 720 3678 w
(assignment) 1015 3678 w
(expressions,) 1611 3678 w
(the) 2263 3678 w
(result) 2456 3678 w
(of) 2770 3678 w
(a) 2906 3678 w
(tuple) 2999 3678 w
(assignment) 3284 3678 w
(is) 3880 3678 w
(the) 3998 3678 w
(value) 4191 3678 w
(of) 4482 3678 w
(the) 4617 3678 w
(right) 4809 3678 w
(hand) 720 3798 w
(side.) 1016 3798 w
(When) 1333 3798 w
(the) 1653 3798 w
(destination) 1862 3798 w
(operand) 2458 3798 w
(is) 2913 3798 w
(a) 3047 3798 w
(tuple) 3157 3798 w
(variable,) 3459 3798 w
(the) 3926 3798 w
(source) 4136 3798 w
(must) 4513 3798 w
(be) 4811 3798 w
(a) 4985 3798 w
(named) 720 3918 w
(tuple) 1086 3918 w
(of) 1370 3918 w
(the) 1504 3918 w
(same) 1695 3918 w
(type) 1986 3918 w
(or) 2230 3918 w
(an) 2368 3918 w
(unnamed) 2521 3918 w
(tuple.) 3010 3918 w
(In) 3357 3918 w
(the) 3484 3918 w
(latter) 3675 3918 w
(case,) 3966 3918 w
(the) 4247 3918 w
(type) 4438 3918 w
(of) 4682 3918 w
(each) 4816 3918 w
(member) 720 4038 w
(of) 1159 4038 w
(the) 1294 4038 w
(unnamed) 1486 4038 w
(tuple) 1976 4038 w
(must) 2260 4038 w
(exactly) 2541 4038 w
(match) 2920 4038 w
(the) 3256 4038 w
(type) 3449 4038 w
(of) 3695 4038 w
(the) 3831 4038 w
(corresponding) 4024 4038 w
(mem\255) 4765 4038 w
(ber) 720 4158 w
(of) 921 4158 w
(the) 1060 4158 w
(destination) 1256 4158 w
(tuple.) 1839 4158 w
(The) 2191 4158 w
(correspondence) 2412 4158 w
(can) 3227 4158 w
(be) 3435 4158 w
(forced) 3594 4158 w
(by) 3943 4158 w
(casting) 4098 4158 w
(the) 4485 4158 w
(individ\255) 4680 4158 w
(ual) 720 4278 w
(members) 900 4278 w
(of) 1387 4278 w
(the) 1519 4278 w
(unnamed) 1708 4278 w
(tuple) 2195 4278 w
(to) 2476 4278 w
(the) 2608 4278 w
(proper) 2797 4278 w
(types) 3156 4278 w
(or) 3449 4278 w
(by) 3585 4278 w
(casting) 3734 4278 w
(the) 4115 4278 w
(unnamed) 4305 4278 w
(tuple) 4793 4278 w
(to the type of the destination tuple.) 720 4398 w
(For example, the code fragment) 2511 4398 w
9 /LucidaTypewriter f
(tuple\(int,) 1528 4568 w
(int,) 2243 4568 w
(byte*\)) 2568 4568 w
(t;) 3023 4568 w
(byte) 1528 4678 w
(i;) 1853 4678 w
(t) 1528 4898 w
(=) 1658 4898 w
(\(0,) 1788 4898 w
(\(int\)) 2048 4898 w
(i,) 2438 4898 w
("abc"\);) 2633 4898 w
(t) 1528 5008 w
(=) 1658 5008 w
(\(tuple) 1788 5008 w
(\(int,) 2243 5008 w
(int,) 2633 5008 w
(byte*\)\)) 2958 5008 w
(\(0,) 3478 5008 w
(i,) 3738 5008 w
("abc"\);) 3933 5008 w
10 /LucidaSansUnicode00 f
(illustrates) 720 5188 w
(two) 1243 5188 w
(equivalent) 1464 5188 w
(ways) 2011 5188 w
(of) 2292 5188 w
(assigning) 2436 5188 w
(values) 2945 5188 w
(to) 3296 5188 w
(the) 3440 5188 w
(tuple) 3641 5188 w
(named) 3935 5188 w
10 /LucidaTypewriter f
(t) 4311 5188 w
10 /LucidaSansUnicode00 f
(.) 4383 5188 w
(Notice) 4494 5188 w
(that) 4849 5188 w
(the) 720 5308 w
(variable) 932 5308 w
(named) 1369 5308 w
10 /LucidaTypewriter f
(i) 1755 5308 w
10 /LucidaSansUnicode00 f
(must) 1883 5308 w
(be) 2182 5308 w
(explicitly) 2357 5308 w
(converted) 2849 5308 w
(from) 3384 5308 w
(a) 3672 5308 w
10 /LucidaTypewriter f
(byte) 3783 5308 w
10 /LucidaSansUnicode00 f
(to) 4127 5308 w
(an) 4281 5308 w
10 /LucidaTypewriter f
(int) 4454 5308 w
10 /LucidaSansUnicode00 f
(before) 4726 5308 w
(assignment.) 720 5428 w
(Either) 1383 5428 w
(method) 1703 5428 w
(is) 2117 5428 w
(acceptable;) 2239 5428 w
(the) 2829 5428 w
(cast) 3026 5428 w
(is) 3262 5428 w
(simply) 3384 5428 w
(applied) 3743 5428 w
(at) 4143 5428 w
(different) 4277 5428 w
(points) 4737 5428 w
(during the evaluation of the right hand tuple.) 720 5548 w
(When) 720 5704 w
(an) 1019 5704 w
(unnamed) 1169 5704 w
(tuple) 1655 5704 w
(appears) 1936 5704 w
(on) 2354 5704 w
(the) 2511 5704 w
(left) 2700 5704 w
(hand) 2893 5704 w
(side) 3169 5704 w
(of) 3402 5704 w
(an) 3534 5704 w
(assignment) 3685 5704 w
(statement) 4277 5704 w
(all) 4795 5704 w
(of) 4942 5704 w
(its) 720 5824 w
(members) 881 5824 w
(must) 1378 5824 w
(be) 1665 5824 w
(variables) 1828 5824 w
(or) 2303 5824 w
(the) 2448 5824 w
(keyword) 2646 5824 w
10 /LucidaTypewriter f
(nil) 3097 5824 w
10 /LucidaSansUnicode00 f
(.) 3313 5824 w
(In) 3420 5824 w
(this) 3554 5824 w
(case) 3776 5824 w
(each) 4032 5824 w
(member) 4299 5824 w
(of) 4744 5824 w
(the) 4885 5824 w
(source) 720 5944 w
(tuple) 1077 5944 w
(is) 1359 5944 w
(assigned) 1474 5944 w
(to) 1938 5944 w
(the) 2071 5944 w
(variable) 2262 5944 w
(in) 2678 5944 w
(the) 2805 5944 w
(corresponding) 2996 5944 w
(member) 3735 5944 w
(of) 4173 5944 w
(the) 4307 5944 w
(destination) 4498 5944 w
(tuple;) 720 6064 w
(in) 1033 6064 w
(effect,) 1158 6064 w
(the) 1498 6064 w
(right) 1687 6064 w
(hand) 1952 6064 w
(tuple) 2228 6064 w
(is) 2509 6064 w
(decomposed) 2623 6064 w
(into) 3274 6064 w
(its) 3496 6064 w
(constituent) 3646 6064 w
(members.) 4224 6064 w
(When) 4774 6064 w
(a) 720 6184 w
(member) 825 6184 w
(of) 1277 6184 w
(the) 1425 6184 w
(destination) 1630 6184 w
(tuple) 2222 6184 w
(is) 2520 6184 w
10 /LucidaTypewriter f
(nil) 2651 6184 w
10 /LucidaSansUnicode00 f
(,) 2867 6184 w
(the) 2950 6184 w
(corresponding) 3156 6184 w
(member) 3910 6184 w
(of) 4363 6184 w
(the) 4512 6184 w
(source) 4718 6184 w
(tuple) 720 6304 w
(is) 1015 6304 w
(discarded.) 1143 6304 w
(If) 1727 6304 w
(the) 1841 6304 w
(types) 2044 6304 w
(of) 2351 6304 w
(corresponding) 2496 6304 w
(members) 3246 6304 w
(differ,) 3746 6304 w
(the) 4088 6304 w
(source) 4290 6304 w
(value) 4659 6304 w
(is) 4960 6304 w
(promoted) 720 6424 w
(to) 1256 6424 w
(the) 1415 6424 w
(type) 1631 6424 w
(of) 1900 6424 w
(the) 2059 6424 w
(destination.) 2275 6424 w
(This) 2943 6424 w
(differs) 3210 6424 w
(from) 3586 6424 w
(assignments) 3880 6424 w
(to) 4551 6424 w
(named) 4711 6424 w
(tuples, where promotion never occurs and explicit casts are necessary.) 720 6544 w
(For example,) 4225 6544 w
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
10 /LucidaSansUnicode00 f
(\255 7 \255) 2783 480 w
9 /LucidaTypewriter f
(float) 1528 830 w
(a;) 1918 830 w
(byte) 1528 940 w
(*b;) 1853 940 w
(tuple\(int,) 1528 1050 w
(int,) 2243 1050 w
(byte*\)) 2568 1050 w
(t;) 3023 1050 w
(t) 1528 1270 w
(=) 1658 1270 w
(\(100,) 1788 1270 w
(200,) 2178 1270 w
("xyz"\);) 2503 1270 w
(\(nil,) 1528 1380 w
(a,) 1918 1380 w
(b\)) 2113 1380 w
(=) 2308 1380 w
(t;) 2438 1380 w
10 /LucidaSansUnicode00 f
(assigns 200.0 to the variable named) 720 1560 w
10 /LucidaTypewriter f
(a) 2519 1560 w
10 /LucidaSansUnicode00 f
(and the string "xyz" to) 2623 1560 w
10 /LucidaTypewriter f
(b) 3742 1560 w
10 /LucidaSansUnicode00 f
(.) 3814 1560 w
(Aggregates) 720 1716 w
(and) 1309 1716 w
(unnamed) 1527 1716 w
(tuples) 2018 1716 w
(may) 2354 1716 w
(be) 2592 1716 w
(assigned) 2749 1716 w
(to) 3216 1716 w
(each) 3352 1716 w
(other.) 3614 1716 w
(When) 3974 1716 w
(an) 4279 1716 w
(aggregate) 4435 1716 w
(is) 4960 1716 w
(assigned) 720 1836 w
(to) 1186 1836 w
(a) 1321 1836 w
(tuple,) 1413 1836 w
(the) 1729 1836 w
(members) 1921 1836 w
(of) 2410 1836 w
(the) 2544 1836 w
(aggregate,) 2735 1836 w
(named) 3289 1836 w
(and) 3654 1836 w
(unnamed,) 3870 1836 w
(are) 4391 1836 w
(assigned,) 4579 1836 w
(after promotion, to the corresponding variables in the destination tuple.) 720 1956 w
(For example,) 4292 1956 w
9 /LucidaTypewriter f
(Circle) 1528 2126 w
(c;) 1983 2126 w
(Point) 1528 2236 w
(p;) 1918 2236 w
(int) 1528 2346 w
(rad;) 1788 2346 w
(\(rad,) 1528 2566 w
(p\)) 1918 2566 w
(=) 2113 2566 w
(c;) 2243 2566 w
10 /LucidaSansUnicode00 f
(decomposes) 720 2746 w
(a) 1362 2746 w
10 /LucidaTypewriter f
(Circle) 1453 2746 w
10 /LucidaSansUnicode00 f
(into) 1921 2746 w
(its) 2146 2746 w
(constituent) 2300 2746 w
(radius) 2882 2746 w
(and) 3220 2746 w
(center) 3437 2746 w
(point.) 3777 2746 w
(When) 4130 2746 w
(an) 4433 2746 w
(unnamed) 4587 2746 w
(tuple) 720 2866 w
(is) 1014 2866 w
(assigned) 1140 2866 w
(to) 1615 2866 w
(an) 1759 2866 w
(aggregate,) 1922 2866 w
(the) 2486 2866 w
(members) 2687 2866 w
(of) 3186 2866 w
(the) 3330 2866 w
(aggregate) 3531 2866 w
(are) 4063 2866 w
(loaded) 4261 2866 w
(with) 4634 2866 w
(the) 4885 2866 w
(corresponding) 720 2986 w
(values) 1469 2986 w
(of) 1820 2986 w
(the) 1964 2986 w
(tuple.) 2165 2986 w
(The) 2522 2986 w
(types) 2749 2986 w
(of) 3055 2986 w
(the) 3200 2986 w
(source) 3402 2986 w
(and) 3771 2986 w
(destination) 3998 2986 w
(members) 4587 2986 w
(must) 720 3106 w
(match) 1004 3106 w
(exactly,) 1343 3106 w
(either) 1757 3106 w
(by) 2079 3106 w
(casting) 2235 3106 w
(each) 2623 3106 w
(member) 2888 3106 w
(of) 3331 3106 w
(the) 3470 3106 w
(tuple) 3666 3106 w
(or) 3954 3106 w
(by) 4096 3106 w
(casting) 4251 3106 w
(the) 4638 3106 w
(con\255) 4833 3106 w
(structed tuple to the type of the aggregate.) 720 3226 w
(For example,) 2885 3226 w
9 /LucidaTypewriter f
(Circle) 1528 3396 w
(c;) 1983 3396 w
(c) 1528 3616 w
(=) 1658 3616 w
(\(Circle\)\(3,) 1788 3616 w
(\(1.0,1.0\)\);) 2568 3616 w
(c) 1528 3726 w
(=) 1658 3726 w
(\(3,) 1788 3726 w
(\(Point\)\(1.0,1.0\)\);) 2048 3726 w
10 /LucidaSansUnicode00 f
(illustrates) 720 3906 w
(two) 1241 3906 w
(equivalent) 1460 3906 w
(ways) 2005 3906 w
(of) 2284 3906 w
(loading) 2426 3906 w
(a) 2831 3906 w
10 /LucidaTypewriter f
(Circle) 2930 3906 w
10 /LucidaSansUnicode00 f
(aggregate) 3406 3906 w
(using) 3936 3906 w
(casts) 4247 3906 w
(to) 4537 3906 w
(convert) 4680 3906 w
(the) 720 4026 w
10 /LucidaTypewriter f
(float) 907 4026 w
10 /LucidaSansUnicode00 f
(coordinates to integers.) 1299 4026 w
(Notice that the statement) 2518 4026 w
9 /LucidaTypewriter f
(c) 1528 4196 w
(=) 1658 4196 w
(\(3,) 1788 4196 w
(\(1,1\)\);) 2048 4196 w
10 /LucidaSansUnicode00 f
(is) 720 4376 w
(acceptable) 838 4376 w
(only) 1393 4376 w
(because) 1636 4376 w
(the) 2069 4376 w
(types) 2263 4376 w
(of) 2561 4376 w
(the) 2698 4376 w
(members) 2892 4376 w
(of) 3384 4376 w
(the) 3521 4376 w
(source) 3715 4376 w
(tuple) 4076 4376 w
(exactly) 4362 4376 w
(match) 4742 4376 w
(the) 720 4496 w
(types) 942 4496 w
(of) 1268 4496 w
(the) 1433 4496 w
(members) 1655 4496 w
(of) 2175 4496 w
(the) 2340 4496 w
10 /LucidaTypewriter f
(Circle) 2562 4496 w
10 /LucidaSansUnicode00 f
(aggregate.) 3061 4496 w
(An) 3678 4496 w
(aggregate) 3876 4496 w
(may) 4429 4496 w
(not) 4695 4496 w
(be) 4921 4496 w
(assigned) 720 4616 w
(to) 1185 4616 w
(a) 1319 4616 w
(named) 1410 4616 w
(tuple) 1775 4616 w
(or) 2058 4616 w
(vice-versa;) 2196 4616 w
(only) 2765 4616 w
(unnamed) 3005 4616 w
(tuples) 3494 4616 w
(may) 3828 4616 w
(be) 4064 4616 w
(used) 4220 4616 w
(with) 4489 4616 w
(aggre\255) 4731 4616 w
(gates in assignment expressions.) 720 4736 w
(When the value assigned to a member of a tuple can) 720 4892 w
(affect) 3300 4892 w
(the) 3606 4892 w
(evaluation) 3794 4892 w
(of) 4325 4892 w
(members) 4456 4892 w
(of) 4942 4892 w
(the) 720 5012 w
(source) 932 5012 w
(tuple,) 1311 5012 w
(the) 1647 5012 w
(compiler) 1859 5012 w
(detects) 2338 5012 w
(the) 2745 5012 w
(dependency) 2956 5012 w
(and) 3596 5012 w
(performs) 3832 5012 w
(the) 4331 5012 w
(evaluation) 4542 5012 w
(based on the original values of the right hand members.) 720 5132 w
(Thus, the code fragment) 3522 5132 w
9 /LucidaTypewriter f
(int) 1528 5302 w
(a,) 1788 5302 w
(b;) 1983 5302 w
(\(b,a\)) 1528 5522 w
(=) 1918 5522 w
(\(a,b\);) 2048 5522 w
10 /LucidaSansUnicode00 f
(correctly swaps the values of the variables) 720 5702 w
10 /LucidaTypewriter f
(a) 2804 5702 w
10 /LucidaSansUnicode00 f
(and) 2908 5702 w
10 /LucidaTypewriter f
(b) 3120 5702 w
10 /LucidaSansUnicode00 f
(.) 3192 5702 w
(The) 720 5858 w
(promotion) 954 5858 w
(rules) 1515 5858 w
(governing) 1807 5858 w
(the) 2348 5858 w
(assignment) 2557 5858 w
(of) 3169 5858 w
(tuples) 3321 5858 w
(also) 3673 5858 w
(apply) 3923 5858 w
(when) 4239 5858 w
(a) 4550 5858 w
(tuple) 4659 5858 w
(is) 4960 5858 w
(passed) 720 5978 w
(as) 1103 5978 w
(a) 1253 5978 w
(function) 1352 5978 w
(argument) 1797 5978 w
(or) 2309 5978 w
(is) 2455 5978 w
(returned) 2579 5978 w
(by) 3040 5978 w
(a) 3198 5978 w
(function.) 3296 5978 w
(Arguments) 3804 5978 w
(are) 4380 5978 w
(evaluated) 4575 5978 w
(relative) 720 6098 w
(to) 1110 6098 w
(the) 1243 6098 w
(corresponding) 1434 6098 w
(formal) 2173 6098 w
(parameter) 2525 6098 w
(in) 3058 6098 w
(the) 3185 6098 w
(function) 3376 6098 w
(prototype) 3813 6098 w
(and) 4320 6098 w
(return) 4536 6098 w
(val\255) 4871 6098 w
(ues) 720 6218 w
(are) 956 6218 w
(matched) 1175 6218 w
(against) 1659 6218 w
(the) 2077 6218 w
(return) 2299 6218 w
(type) 2664 6218 w
(of) 2938 6218 w
(the) 3102 6218 w
(containing) 3323 6218 w
(function.) 3899 6218 w
(Members) 4430 6218 w
(of) 4942 6218 w
(unnamed) 720 6338 w
(tuples) 1217 6338 w
(are) 1559 6338 w
(promoted) 1755 6338 w
(when) 2274 6338 w
(the) 2575 6338 w
(tuple) 2774 6338 w
(is) 3065 6338 w
(passed) 3190 6338 w
(into) 3574 6338 w
(or) 3808 6338 w
(returned) 3955 6338 w
(from) 4418 6338 w
(a) 4695 6338 w
(func\255) 4795 6338 w
(tion.) 720 6458 w
(However,) 1014 6458 w
(when) 1504 6458 w
(a) 1802 6458 w
(named) 1898 6458 w
(tuple) 2268 6458 w
(is) 2556 6458 w
(supplied) 2677 6458 w
(as) 3134 6458 w
(an) 3280 6458 w
(argument) 3437 6458 w
(or) 3945 6458 w
(returned) 4087 6458 w
(by) 4545 6458 w
(a) 4700 6458 w
(func\255) 4795 6458 w
(tion,) 720 6578 w
(the) 977 6578 w
(types) 1168 6578 w
(of) 1463 6578 w
(its) 1597 6578 w
(members) 1750 6578 w
(must) 2239 6578 w
(exactly) 2518 6578 w
(match) 2895 6578 w
(the) 3229 6578 w
(types) 3420 6578 w
(of) 3715 6578 w
(the) 3849 6578 w
(members) 4040 6578 w
(of) 4529 6578 w
(the) 4663 6578 w
(cor\255) 4854 6578 w
(responding formal parameter or the function return type.) 720 6698 w
(Unnamed) 720 6854 w
(tuples) 1217 6854 w
(are) 1552 6854 w
(especially) 1741 6854 w
(useful) 2249 6854 w
(for) 2583 6854 w
(bundling) 2759 6854 w
(several) 3228 6854 w
(values) 3605 6854 w
(so) 3947 6854 w
(they) 4096 6854 w
(can) 4340 6854 w
(be) 4545 6854 w
(passed) 4701 6854 w
(into) 720 6974 w
(or) 948 6974 w
(returned) 1089 6974 w
(from) 1546 6974 w
(a) 1817 6974 w
(function) 1911 6974 w
(as) 2351 6974 w
(a) 2496 6974 w
(unit.) 2590 6974 w
(This) 2883 6974 w
(strategy) 3127 6974 w
(narrows) 3557 6974 w
(the) 3984 6974 w
(function) 4177 6974 w
(interface) 4616 6974 w
(without requiring dummy variables to hold constant information.) 720 7094 w
(In the code fragment) 3940 7094 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Page: 8 8
/saveobj save def
mark
8 pagesetup
10 /LucidaSansUnicode00 f
(\255 8 \255) 2783 480 w
9 /LucidaTypewriter f
(Point) 1008 830 w
(midpoint\(Point) 1008 940 w
(p1,) 1983 940 w
(Point) 2243 940 w
(p2\)) 2633 940 w
({) 1008 1050 w
(return) 1528 1160 w
(\(\(p1.x+p2.x\)/2,\(p1.y+p2.y\)/2\);) 1983 1160 w
(}) 1008 1270 w
(void) 1008 1490 w
(main\(void\)) 1008 1600 w
({) 1008 1710 w
(Point) 1528 1820 w
(p;) 1918 1820 w
(p) 1528 2040 w
(=) 1658 2040 w
(midpoint\(\(1,1\),) 1788 2040 w
(\(3,1\)\);) 2828 2040 w
(}) 1008 2150 w
10 /LucidaSansUnicode00 f
(the) 720 2330 w
(arguments) 925 2330 w
(to) 1494 2330 w
(function) 1642 2330 w
10 /LucidaTypewriter f
(midpoint) 2093 2330 w
10 /LucidaSansUnicode00 f
(and) 2719 2330 w
(its) 2949 2330 w
(return) 3117 2330 w
(value) 3467 2330 w
(are) 3772 2330 w
(synthesized) 3975 2330 w
(from) 4602 2330 w
(the) 4885 2330 w
(constituent coordinates.) 720 2450 w
(Unnamed) 720 2606 w
(tuples) 1227 2606 w
(are) 1572 2606 w
(also) 1771 2606 w
(ideal) 2014 2606 w
(for) 2293 2606 w
(returning) 2479 2606 w
(several) 2978 2606 w
(unrelated) 3365 2606 w
(values) 3873 2606 w
(from) 4225 2606 w
(a) 4504 2606 w
(function.) 4607 2606 w
(Consider) 720 2726 w
(the) 1203 2726 w
(library) 1409 2726 w
(function) 1770 2726 w
10 /LucidaTypewriter f
(strtoui) 2222 2726 w
10 /LucidaSansUnicode00 f
(,) 2726 2726 w
(which) 2808 2726 w
(converts) 3139 2726 w
(a) 3600 2726 w
(text) 3705 2726 w
(string) 3946 2726 w
(to) 4278 2726 w
(an) 4426 2726 w
(unsigned) 4593 2726 w
(binary) 720 2846 w
(value.) 1069 2846 w
(It) 1434 2846 w
(accepts) 1547 2846 w
(a) 1958 2846 w
(pointer) 2060 2846 w
(to) 2456 2846 w
(the) 2601 2846 w
(string,) 2803 2846 w
(a) 3164 2846 w
(pointer) 3266 2846 w
(to) 3662 2846 w
(a) 3807 2846 w
(pointer) 3909 2846 w
(and) 4305 2846 w
(an) 4532 2846 w
(integer) 4697 2846 w
(base.) 720 2966 w
(It) 1044 2966 w
(returns) 1145 2966 w
(a) 1530 2966 w
(binary) 1620 2966 w
(value) 1957 2966 w
(and) 2246 2966 w
(updates) 2461 2966 w
(the) 2883 2966 w
(second) 3073 2966 w
(argument) 3451 2966 w
(to) 3953 2966 w
(point) 4085 2966 w
(to) 4371 2966 w
(the) 4503 2966 w
(charac\255) 4692 2966 w
(ter) 720 3086 w
(in) 892 3086 w
(the) 1021 3086 w
(string) 1214 3086 w
(following) 1534 3086 w
(the) 2019 3086 w
(last) 2212 3086 w
(digit) 2422 3086 w
(of) 2680 3086 w
(the) 2816 3086 w
(extracted) 3009 3086 w
(number.) 3504 3086 w
(A) 3983 3086 w
(tuple) 4090 3086 w
(containing) 4375 3086 w
(an) 4923 3086 w
(error code, the binary value, and the new string pointer simplifies the function interface:) 720 3206 w
9 /LucidaTypewriter f
(tuple\(int,) 1008 3376 w
(uint,) 1723 3376 w
(byte*\)) 2113 3376 w
(strtoui\(byte*) 1008 3486 w
(str,) 1918 3486 w
(int) 2243 3486 w
(base\)) 2503 3486 w
({) 1008 3596 w
(int) 1528 3706 w
(val;) 1788 3706 w
(while\(*str) 1528 3926 w
(!=) 2243 3926 w
(0) 2438 3926 w
(&&) 2568 3926 w
(whitespace\(*str\)\)) 2763 3926 w
(str++;) 2048 4036 w
(if\(str) 1528 4146 w
(==) 1983 4146 w
(nil) 2178 4146 w
(||) 2438 4146 w
(*str) 2633 4146 w
(==) 2958 4146 w
(0\)) 3153 4146 w
(return\(0,) 2048 4256 w
(0,) 2698 4256 w
(str\);) 2893 4256 w
(while\(*str) 1528 4366 w
(&&) 2243 4366 w
(!whitespace\(*str\)\)) 2438 4366 w
({) 3673 4366 w
(if\(!validdigit\(*str,) 2048 4476 w
(base\)\)) 3413 4476 w
(return) 2568 4586 w
(\(-1,) 3023 4586 w
(val,) 3348 4586 w
(str+1\);) 3673 4586 w
(/*) 2048 4696 w
(extract) 2243 4696 w
(digit) 2763 4696 w
(into) 3153 4696 w
(val) 3478 4696 w
(*/) 3738 4696 w
(str++;) 2048 4806 w
(}) 1528 4916 w
(return\(1,) 1528 5026 w
(val,) 2178 5026 w
(str\);) 2503 5026 w
(}) 1008 5136 w
10 /LucidaSansUnicode00 f
(The code to extract numbers from a string would be:) 720 5316 w
9 /LucidaTypewriter f
(int) 1528 5486 w
(ret;) 1788 5486 w
(uint) 1528 5596 w
(val;) 1853 5596 w
(byte) 1528 5706 w
(*p,) 1853 5706 w
(*newp;) 2113 5706 w
(while\(*p\)) 1528 5926 w
({) 2178 5926 w
(\(ret,) 2048 6036 w
(val,) 2438 6036 w
(newp\)) 2763 6036 w
(=) 3153 6036 w
(strtoui\(p,) 3283 6036 w
(10\);) 3998 6036 w
(if\(ret) 2048 6146 w
(==) 2503 6146 w
(0\)) 2698 6146 w
(break;) 2568 6256 w
(if\(ret) 2048 6366 w
(<) 2503 6366 w
(0\)) 2633 6366 w
({) 2828 6366 w
(*newp) 2568 6476 w
(=) 2958 6476 w
(0;) 3088 6476 w
(print\("bad) 2568 6586 w
(number) 3283 6586 w
(%s\\n",) 3738 6586 w
(p\);) 4193 6586 w
(}) 2048 6696 w
(else) 2178 6696 w
(print\("%d\\n",) 2568 6806 w
(val\);) 3478 6806 w
(p) 2048 6916 w
(=) 2178 6916 w
(newp;) 2308 6916 w
(}) 1528 7026 w
10 /LucidaSansUnicode00 f
(A) 720 7206 w
(tuple) 824 7206 w
(is) 1106 7206 w
(displayed) 1221 7206 w
(by) 1717 7206 w
(assigning) 1868 7206 w
(it) 2367 7206 w
(to) 2469 7206 w
(an) 2603 7206 w
(unnamed) 2756 7206 w
(tuple) 3245 7206 w
(and) 3528 7206 w
(then) 3744 7206 w
(printing) 3997 7206 w
(the) 4418 7206 w
(variables) 4609 7206 w
cleartomark
showpage
saveobj restore
%%EndPage: 8 8
%%Page: 9 9
/saveobj save def
mark
9 pagesetup
10 /LucidaSansUnicode00 f
(\255 9 \255) 2783 480 w
(of that tuple.) 720 840 w
(For example,) 1416 840 w
9 /LucidaTypewriter f
(tuple\(int,) 1528 1010 w
(byte*,) 2243 1010 w
(byte*\)) 2698 1010 w
(func\(\);) 3153 1010 w
(int) 1528 1120 w
(a;) 1788 1120 w
(byte) 1528 1230 w
(*b,) 1853 1230 w
(*c;) 2113 1230 w
(\(a,) 1528 1450 w
(b,) 1788 1450 w
(c\)) 1983 1450 w
(=) 2178 1450 w
(func\(\);) 2308 1450 w
(print\("tuple) 1528 1560 w
(=) 2373 1560 w
(\(%d) 2503 1560 w
(%s) 2763 1560 w
(%s\)\\n",) 2958 1560 w
(a,) 3478 1560 w
(b,) 3673 1560 w
(c\);) 3868 1560 w
10 /LucidaSansUnicode00 f
(prints the values of the tuple returned by) 720 1740 w
10 /LucidaTypewriter f
(func) 2752 1740 w
10 /LucidaSansUnicode00 f
(.) 3040 1740 w
10 /LucidaSans-Demi f
(Processes) 720 1980 w
10 /LucidaSansUnicode00 f
(An) 720 2136 w
(Alef) 887 2136 w
(process) 1115 2136 w
(is) 1526 2136 w
(a) 1643 2136 w
(preemptively) 1735 2136 w
(scheduled) 2399 2136 w
(thread) 2929 2136 w
(of) 3280 2136 w
(execution.) 3415 2136 w
(An) 3991 2136 w
(Alef) 4159 2136 w
(program) 4387 2136 w
(may) 4840 2136 w
(have) 720 2256 w
(as) 996 2256 w
(many) 1153 2256 w
(processes) 1466 2256 w
(as) 1998 2256 w
(desired,) 2155 2256 w
(subject) 2597 2256 w
(to) 2998 2256 w
(system) 3147 2256 w
(restrictions) 3538 2256 w
(on) 4135 2256 w
(the) 4309 2256 w
(number) 4515 2256 w
(of) 4942 2256 w
(active) 720 2376 w
(processes) 1039 2376 w
(per) 1559 2376 w
(user.) 1758 2376 w
(The) 2071 2376 w
10 /LucidaTypewriter f
(proc) 2291 2376 w
10 /LucidaSansUnicode00 f
(primitive) 2618 2376 w
(accepts) 3086 2376 w
(a) 3489 2376 w
(list) 3583 2376 w
(of) 3768 2376 w
(function) 3905 2376 w
(invocations) 4345 2376 w
(as) 4934 2376 w
(its) 720 2496 w
(operand.) 872 2496 w
(It) 1372 2496 w
(scans) 1473 2496 w
(the) 1778 2496 w
(list) 1968 2496 w
(from) 2149 2496 w
(left) 2416 2496 w
(to) 2610 2496 w
(right,) 2743 2496 w
(starting) 3041 2496 w
(a) 3449 2496 w
(new) 3538 2496 w
(process) 3767 2496 w
(for) 4175 2496 w
(each) 4348 2496 w
(member.) 4606 2496 w
(The) 720 2616 w
(new) 936 2616 w
(process) 1166 2616 w
(begins) 1575 2616 w
(execution) 1933 2616 w
(at) 2443 2616 w
(the) 2570 2616 w
(specified) 2760 2616 w
(function) 3230 2616 w
(with) 3666 2616 w
(the) 3906 2616 w
(arguments) 4097 2616 w
(given) 4652 2616 w
(in) 4949 2616 w
(the) 720 2736 w
(invocation.) 909 2736 w
(The) 1506 2736 w
(arguments) 1721 2736 w
(are) 2274 2736 w
(evaluated) 2460 2736 w
(in) 2959 2736 w
(the) 3083 2736 w
(original) 3271 2736 w
(process) 3672 2736 w
(before) 4079 2736 w
(the) 4426 2736 w
(new) 4614 2736 w
(pro\255) 4842 2736 w
(cess is created.) 720 2856 w
(On) 720 3012 w
(multi-processors,) 906 3012 w
(Alef) 1819 3012 w
(processes) 2056 3012 w
(may) 2583 3012 w
(execute) 2829 3012 w
(in) 3254 3012 w
(parallel.) 3391 3012 w
(Since) 3859 3012 w
(the) 4158 3012 w
(processes) 4360 3012 w
(are) 4888 3012 w
(scheduled) 720 3132 w
(by) 1254 3132 w
(the) 1410 3132 w
(operating) 1606 3132 w
(system,) 2113 3132 w
(the) 2526 3132 w
(degree) 2722 3132 w
(of) 3097 3132 w
(parallel) 3236 3132 w
(execution) 3633 3132 w
(and) 4148 3132 w
(process) 4368 3132 w
(inter\255) 4782 3132 w
(leaving) 720 3252 w
(is) 1109 3252 w
(beyond) 1233 3252 w
(the) 1634 3252 w
(scope) 1833 3252 w
(of) 2159 3252 w
(the) 2301 3252 w
(language.) 2500 3252 w
(On) 3051 3252 w
(a) 3235 3252 w
(single) 3334 3252 w
(processor) 3668 3252 w
(system,) 4189 3252 w
(Alef) 4606 3252 w
(pro\255) 4842 3252 w
(cesses) 720 3372 w
(always) 1075 3372 w
(interleave) 1433 3372 w
(execution.) 1945 3372 w
(The) 2523 3372 w
(processes) 2743 3372 w
(comprising) 3263 3372 w
(a) 3843 3372 w
(program) 3936 3372 w
(communicate) 4390 3372 w
(by) 720 3492 w
(exchanging) 877 3492 w
(messages) 1482 3492 w
(on) 2000 3492 w
(channels) 2166 3492 w
(or) 2637 3492 w
(by) 2782 3492 w
(accessing) 2940 3492 w
(shared) 3451 3492 w
(data.) 3822 3492 w
(The) 4139 3492 w
(Alef) 4363 3492 w
(language) 4597 3492 w
(definition) 720 3612 w
(does) 1231 3612 w
(not) 1508 3612 w
(specify) 1714 3612 w
(whether) 2099 3612 w
(processes) 2536 3612 w
(share) 3063 3612 w
(a) 3374 3612 w
(common) 3475 3612 w
(address) 3942 3612 w
(space,) 4367 3612 w
(but) 4720 3612 w
(all) 4927 3612 w
(current) 720 3732 w
(implementations) 1119 3732 w
(use) 1981 3732 w
(the) 2199 3732 w
(shared) 2403 3732 w
(memory) 2780 3732 w
(model.) 3225 3732 w
(Programs) 3640 3732 w
(that) 4149 3732 w
(communicate) 4390 3732 w
(via) 720 3852 w
(shared) 894 3852 w
(data) 1260 3852 w
(tend) 1508 3852 w
(to) 1764 3852 w
(be) 1900 3852 w
(smaller) 2057 3852 w
(and) 2449 3852 w
(faster) 2667 3852 w
(but) 2982 3852 w
(may) 3182 3852 w
(not) 3420 3852 w
(be) 3618 3852 w
(portable) 3775 3852 w
(to) 4218 3852 w
(an) 4354 3852 w
(Alef) 4509 3852 w
(imple\255) 4737 3852 w
(mentation) 720 3972 w
(that) 1247 3972 w
(does) 1474 3972 w
(not) 1741 3972 w
(support) 1937 3972 w
(shared) 2351 3972 w
(memory.) 2715 3972 w
(Message) 3211 3972 w
(passing) 3664 3972 w
(programs) 4073 3972 w
(work) 4576 3972 w
(well) 4849 3972 w
(for) 720 4092 w
(all) 900 4092 w
(memory) 1054 4092 w
(models) 1491 4092 w
(and) 1885 4092 w
(are) 2106 4092 w
(usually) 2299 4092 w
(easier) 2679 4092 w
(to) 3007 4092 w
(debug) 3145 4092 w
(because) 3491 4092 w
(channels) 3925 4092 w
(provide) 4393 4092 w
(most) 4798 4092 w
(of) 720 4212 w
(the) 853 4212 w
(process) 1044 4212 w
(synchronization.) 1454 4212 w
(The) 2326 4212 w
(examples) 2543 4212 w
(in) 3043 4212 w
(this) 3170 4212 w
(document) 3385 4212 w
(assume) 3906 4212 w
(a) 4310 4212 w
(shared) 4401 4212 w
(mem\255) 4765 4212 w
(ory implementation.) 720 4332 w
(When) 720 4488 w
(the) 1032 4488 w
10 /LucidaTypewriter f
(proc) 1233 4488 w
10 /LucidaSansUnicode00 f
(primitive) 1567 4488 w
(starts) 2042 4488 w
(a) 2360 4488 w
(new) 2462 4488 w
(process) 2704 4488 w
(neither) 3125 4488 w
(process) 3515 4488 w
(is) 3936 4488 w
(dominant;) 4063 4488 w
(Alef) 4604 4488 w
(pro\255) 4842 4488 w
(cesses) 720 4608 w
(are) 1070 4608 w
(more) 1256 4608 w
(siblings) 1541 4608 w
(than) 1951 4608 w
(parent) 2201 4608 w
(and) 2549 4608 w
(child.) 2763 4608 w
(One) 3095 4608 w
(process) 3325 4608 w
(may) 3732 4608 w
(control) 3965 4608 w
(another) 4340 4608 w
(with) 4747 4608 w
(a) 4985 4608 w
(protocol, but that interaction is determined by the application, not the language.) 720 4728 w
(A) 720 4884 w
(program) 822 4884 w
(must) 1271 4884 w
(explicitly) 1547 4884 w
(terminate) 2016 4884 w
(all) 2515 4884 w
(processes) 2661 4884 w
(to) 3175 4884 w
(completely) 3306 4884 w
(stop) 3866 4884 w
(execution.) 4112 4884 w
(When) 4685 4884 w
(a) 4985 4884 w
(process) 720 5004 w
(terminates,) 1146 5004 w
(other) 1746 5004 w
(processes) 2054 5004 w
(in) 2586 5004 w
(the) 2728 5004 w
(program) 2934 5004 w
(are) 3401 5004 w
(not) 3604 5004 w
(notified) 3815 5004 w
(and) 4240 5004 w
(continue) 4471 5004 w
(to) 4942 5004 w
(execute.) 720 5124 w
(Several) 1199 5124 w
(library) 1578 5124 w
(functions) 1924 5124 w
(terminate) 2412 5124 w
(threads) 2914 5124 w
(of) 3315 5124 w
(execution.) 3449 5124 w
(The) 4024 5124 w
10 /LucidaTypewriter f
(exits) 4242 5124 w
10 /LucidaSansUnicode00 f
(function) 4639 5124 w
(calls) 720 5244 w
(the) 984 5244 w
(termination) 1188 5244 w
(functions) 1798 5244 w
(previously) 2298 5244 w
(registered) 2842 5244 w
(with) 3382 5244 w
10 /LucidaTypewriter f
(atexit) 3635 5244 w
10 /LucidaSansUnicode00 f
(before) 4115 5244 w
(terminating) 4477 5244 w
(the) 720 5364 w
(process) 914 5364 w
(and) 1327 5364 w
(all) 1546 5364 w
(of) 1698 5364 w
(its) 1835 5364 w
(tasks.) 1991 5364 w
(The) 2346 5364 w
10 /LucidaTypewriter f
(terminate) 2566 5364 w
10 /LucidaSansUnicode00 f
(function) 3253 5364 w
(terminates) 3693 5364 w
(a) 4249 5364 w
(thread) 4343 5364 w
(of) 4696 5364 w
(exe\255) 4834 5364 w
(cution;) 720 5484 w
(when) 1120 5484 w
(the) 1443 5484 w
(last) 1664 5484 w
(thread) 1902 5484 w
(in) 2282 5484 w
(the) 2439 5484 w
(last) 2660 5484 w
(process) 2898 5484 w
(is) 3338 5484 w
(terminated,) 3484 5484 w
10 /LucidaTypewriter f
(terminate) 4111 5484 w
10 /LucidaSansUnicode00 f
(calls) 4825 5484 w
10 /LucidaTypewriter f
(exits) 720 5604 w
10 /LucidaSansUnicode00 f
(.) 1080 5604 w
(Alef) 1182 5604 w
(library) 1411 5604 w
(functions) 1759 5604 w
(assume) 2249 5604 w
(that) 2655 5604 w
(application-supplied) 2885 5604 w
(exit) 3932 5604 w
(functions) 4154 5604 w
(are) 4645 5604 w
(only) 4836 5604 w
(invoked) 720 5724 w
(at program termination so an application must ensure that) 1134 5724 w
10 /LucidaTypewriter f
(exits) 4017 5724 w
10 /LucidaSansUnicode00 f
(is only called) 4409 5724 w
(by) 720 5844 w
(the) 888 5844 w
(last) 1096 5844 w
(process) 1321 5844 w
(to) 1748 5844 w
(terminate.) 1899 5844 w
(In) 2482 5844 w
(general,) 2626 5844 w
(only) 3072 5844 w
(one) 3329 5844 w
(process) 3561 5844 w
(in) 3988 5844 w
(a) 4133 5844 w
(program) 4242 5844 w
(should) 4712 5844 w
(explicitly) 720 5964 w
(call) 1195 5964 w
10 /LucidaTypewriter f
(exits) 1398 5964 w
10 /LucidaSansUnicode00 f
(;) 1758 5964 w
(others) 1829 5964 w
(should) 2176 5964 w
(use) 2543 5964 w
10 /LucidaTypewriter f
(terminate) 2751 5964 w
10 /LucidaSansUnicode00 f
(.) 3399 5964 w
(When) 3502 5964 w
(a) 3806 5964 w
(process) 3899 5964 w
(or) 4311 5964 w
(task) 4451 5964 w
(returns) 4690 5964 w
(from) 720 6084 w
(the) 990 6084 w
(function) 1183 6084 w
(started) 1622 6084 w
(by) 2001 6084 w
(the) 2155 6084 w
10 /LucidaTypewriter f
(proc) 2349 6084 w
10 /LucidaSansUnicode00 f
(or) 2676 6084 w
10 /LucidaTypewriter f
(task) 2817 6084 w
10 /LucidaSansUnicode00 f
(statement) 3144 6084 w
(it) 3667 6084 w
(calls) 3772 6084 w
10 /LucidaTypewriter f
(terminate) 4026 6084 w
10 /LucidaSansUnicode00 f
(implic\255) 4713 6084 w
(itly.) 720 6204 w
(Alef) 720 6360 w
(processes) 974 6360 w
(are) 1518 6360 w
(well) 1734 6360 w
(suited) 1989 6360 w
(for) 2351 6360 w
(decoupling) 2554 6360 w
(the) 3156 6360 w
(time-critical) 3375 6360 w
(processing) 4034 6360 w
(of) 4625 6360 w
(asyn\255) 4787 6360 w
(chronous) 720 6480 w
(events) 1206 6480 w
(from) 1555 6480 w
(a) 1822 6480 w
(long-running) 1912 6480 w
(calculation.) 2599 6480 w
(Instead) 3219 6480 w
(of) 3607 6480 w
(polling) 3740 6480 w
(for) 4110 6480 w
(events) 4284 6480 w
(during) 4632 6480 w
(a) 4985 6480 w
(computation,) 720 6600 w
(an) 1400 6600 w
(Alef) 1554 6600 w
(program) 1782 6600 w
(uses) 2235 6600 w
(a) 2492 6600 w
(slave) 2584 6600 w
(process) 2864 6600 w
(to) 3275 6600 w
(service) 3410 6600 w
(the) 3783 6600 w
(events) 3975 6600 w
(while) 4326 6600 w
(the) 4616 6600 w
(mas\255) 4808 6600 w
(ter) 720 6720 w
(process) 890 6720 w
(continues) 1300 6720 w
(the) 1807 6720 w
(calculation.) 1998 6720 w
(The) 2619 6720 w
(slave) 2836 6720 w
(process) 3115 6720 w
(blocks) 3525 6720 w
(in) 3874 6720 w
(a) 4001 6720 w
(system) 4092 6720 w
(call) 4468 6720 w
(until) 4668 6720 w
(an) 4923 6720 w
(event) 720 6840 w
(occurs,) 1036 6840 w
(handles) 1438 6840 w
(it,) 1869 6840 w
(and) 2020 6840 w
(sends) 2253 6840 w
(a) 2589 6840 w
(message) 2697 6840 w
(on) 3174 6840 w
(a) 3350 6840 w
(channel) 3458 6840 w
(to) 3888 6840 w
(the) 4039 6840 w
(master) 4247 6840 w
(process,) 4634 6840 w
(which) 720 6960 w
(services) 1071 6960 w
(it) 1528 6960 w
(when) 1664 6960 w
(convenient.) 1991 6960 w
(The) 2653 6960 w
(event) 2904 6960 w
(interface) 3237 6960 w
(in) 3731 6960 w
(the) 3891 6960 w
(master) 4115 6960 w
(process) 4517 6960 w
(is) 4960 6960 w
(expressed) 720 7080 w
(entirely) 1252 7080 w
(in) 1648 7080 w
(terms) 1774 7080 w
(of) 2087 7080 w
(channel) 2220 7080 w
(operations;) 2632 7080 w
(in) 3215 7080 w
(effect,) 3341 7080 w
(the) 3682 7080 w
(system) 3872 7080 w
(call) 4247 7080 w
(is) 4446 7080 w
(converted) 4561 7080 w
(to a channel message.) 720 7200 w
cleartomark
showpage
saveobj restore
%%EndPage: 9 9
%%Page: 10 10
/saveobj save def
mark
10 pagesetup
10 /LucidaSansUnicode00 f
(\255 10 \255) 2752 480 w
(Consider) 720 840 w
(a) 1193 840 w
(program) 1289 840 w
(that) 1746 840 w
(must) 1979 840 w
(accept) 2264 840 w
(keyboard) 2619 840 w
(input) 3110 840 w
(while) 3405 840 w
(engaged) 3700 840 w
(in) 4158 840 w
(a) 4291 840 w
(long-running) 4388 840 w
(calculation.) 720 960 w
(We could implement the keyboard handler as a slave process:) 1337 960 w
9 /LucidaTypewriter f
(void) 1008 1130 w
(kbdproc\(chan\(int\)) 1008 1240 w
(kbdc\)) 2178 1240 w
({) 1008 1350 w
(byte) 1528 1460 w
(c;) 1853 1460 w
(int) 1528 1570 w
(n,) 1788 1570 w
(fd,) 1983 1570 w
(ctlfd;) 2243 1570 w
(fd) 1528 1790 w
(=) 1723 1790 w
(open\("/dev/cons",) 1853 1790 w
(OREAD\);) 3023 1790 w
(ctlfd) 1528 1900 w
(=) 1918 1900 w
(open\("/dev/consctl",) 2048 1900 w
(OWRITE\);) 3413 1900 w
(write\(ctlfd,) 1528 2010 w
("rawon",) 2373 2010 w
(5\);) 2958 2010 w
(/*) 3608 2010 w
(set) 3803 2010 w
(raw) 4063 2010 w
(mode) 4323 2010 w
(*/) 4648 2010 w
(for\(;;\)) 1528 2120 w
({) 2048 2120 w
(n) 2048 2230 w
(=) 2178 2230 w
(read\(fd,) 2308 2230 w
(&c,) 2893 2230 w
(1\);) 3153 2230 w
(if\(n) 2048 2340 w
(<=) 2373 2340 w
(0) 2568 2340 w
(||) 2698 2340 w
(c) 2893 2340 w
(==) 3023 2340 w
(0x04\)) 3218 2340 w
({) 3608 2340 w
(kbdc) 2568 2450 w
(<-=) 2893 2450 w
(-1;) 3153 2450 w
(return;) 2568 2560 w
(}) 2048 2670 w
(n) 2048 2780 w
(=) 2178 2780 w
(processinput\(c\);) 2308 2780 w
(if\(n\)) 2048 2890 w
(kbdc) 2568 3000 w
(<-=) 2893 3000 w
(n;) 3153 3000 w
(}) 1528 3110 w
(}) 1008 3220 w
10 /LucidaTypewriter f
(Kbdproc) 720 3400 w
10 /LucidaSansUnicode00 f
(opens) 1262 3400 w
(the) 1593 3400 w
(keyboard,) 1786 3400 w
(sets) 2305 3400 w
(it) 2538 3400 w
(to) 2642 3400 w
(raw) 2778 3400 w
(mode,) 2989 3400 w
(then) 3332 3400 w
(continually) 3587 3400 w
(reads) 4154 3400 w
(bytes,) 4458 3400 w
(pass\255) 4787 3400 w
(ing) 720 3520 w
(each) 913 3520 w
(to) 1177 3520 w
(function) 1315 3520 w
10 /LucidaTypewriter f
(processinput) 1756 3520 w
10 /LucidaSansUnicode00 f
(for) 2660 3520 w
(low-level) 2839 3520 w
(processing.) 3326 3520 w
(The) 3957 3520 w
(exact) 4178 3520 w
(form) 4477 3520 w
(of) 4748 3520 w
(the) 4885 3520 w
(processing is not of interest; it) 720 3640 w
(could) 2245 3640 w
(be) 2544 3640 w
(something) 2696 3640 w
(like) 3242 3640 w
(accumulating) 3447 3640 w
(multiple) 4128 3640 w
(bytes) 4559 3640 w
(into) 4851 3640 w
(a) 720 3760 w
(single) 817 3760 w
(character) 1148 3760 w
(or) 1639 3760 w
(recognizing) 1783 3760 w
(escape) 2397 3760 w
(sequences.) 2771 3760 w
(Valid) 3384 3760 w
(input) 3666 3760 w
(values) 3960 3760 w
(are) 4306 3760 w
(sent) 4499 3760 w
(to) 4746 3760 w
(the) 4885 3760 w
(executive) 720 3880 w
(process) 1244 3880 w
(on) 1682 3880 w
(the) 1869 3880 w
(channel) 2088 3880 w
(supplied) 2529 3880 w
(as) 3009 3880 w
(the) 3180 3880 w
(argument.) 3400 3880 w
(When) 3997 3880 w
(EOF) 4328 3880 w
(\(0x04\)) 4579 3880 w
(is) 4960 3880 w
(detected) 720 4000 w
(or) 1172 4000 w
(an) 1307 4000 w
(error) 1457 4000 w
(occurs,) 1730 4000 w
(the slave process sends a negative value on the channel and) 2112 4000 w
(exits.) 720 4120 w
(The executive process) 1050 4120 w
9 /LucidaTypewriter f
(void) 1008 4290 w
(main\(void\)) 1008 4400 w
({) 1008 4510 w
(int) 1528 4620 w
(r;) 1788 4620 w
(chan\(int\)) 1528 4730 w
(kbd;) 2178 4730 w
(alloc) 1528 4950 w
(kbd;) 1918 4950 w
(proc) 1528 5060 w
(kbdproc\(kbd\);) 1853 5060 w
(for\(;;\)) 1528 5280 w
({) 2048 5280 w
(r) 2048 5390 w
(=) 2178 5390 w
(<-kbd;) 2308 5390 w
(if\(r) 2048 5500 w
(<) 2373 5500 w
(0\)) 2503 5500 w
(terminate\(nil\);) 2568 5610 w
(/*) 2048 5720 w
(process) 2243 5720 w
(the) 2763 5720 w
(input) 3023 5720 w
(value) 3413 5720 w
(*/) 3803 5720 w
(}) 1528 5830 w
(}) 1008 5940 w
10 /LucidaSansUnicode00 f
(allocates) 720 6120 w
(a) 1189 6120 w
(channel,) 1289 6120 w
(starts) 1743 6120 w
(the) 2060 6120 w
(slave) 2261 6120 w
(process) 2550 6120 w
(and) 2970 6120 w
(receives) 3196 6120 w
(integers) 3634 6120 w
(from) 4074 6120 w
(the) 4352 6120 w
(slave) 4553 6120 w
(pro\255) 4842 6120 w
(cess.) 720 6240 w
(The) 1049 6240 w
(actual) 1286 6240 w
(processing) 1631 6240 w
(of) 2214 6240 w
(each) 2368 6240 w
(input) 2648 6240 w
(value) 2957 6240 w
(is) 3267 6240 w
(unimportant:) 3403 6240 w
(for) 4093 6240 w
(example,) 4287 6240 w
(input) 4787 6240 w
(could) 720 6360 w
(be) 1029 6360 w
(accumulated) 1192 6360 w
(into) 1850 6360 w
(a) 2083 6360 w
(command) 2182 6360 w
(and) 2704 6360 w
(executed.) 2928 6360 w
(What) 3478 6360 w
(is) 3762 6360 w
(important) 3886 6360 w
(is) 4408 6360 w
(that) 4532 6360 w
(time-) 4767 6360 w
(critical) 720 6480 w
(keystroke) 1090 6480 w
(processing) 1608 6480 w
(is) 2183 6480 w
(confined) 2311 6480 w
(to) 2780 6480 w
(the) 2926 6480 w
(slave) 3129 6480 w
(process,) 3420 6480 w
(which) 3874 6480 w
(executes) 4202 6480 w
(concur\255) 4679 6480 w
(rently) 720 6600 w
(with) 1057 6600 w
(the) 1322 6600 w
(executive) 1537 6600 w
(process.) 2057 6600 w
(Although) 2555 6600 w
(the) 3059 6600 w
(processes) 3274 6600 w
(execute) 3816 6600 w
(asynchronously,) 4256 6600 w
(their) 720 6720 w
(interaction) 983 6720 w
(is) 1541 6720 w
(synchronous:) 1659 6720 w
(the) 2345 6720 w
(executive) 2538 6720 w
(process) 3036 6720 w
(blocks) 3448 6720 w
(until) 3799 6720 w
(data) 4055 6720 w
(is) 4302 6720 w
(received) 4419 6720 w
(and) 4860 6720 w
(the slave blocks in the send when the executive is not receiving.) 720 6840 w
(We) 720 6996 w
(can) 908 6996 w
(extend) 1122 6996 w
(the) 1503 6996 w
(program) 1705 6996 w
(to) 2168 6996 w
(accept) 2313 6996 w
(mouse) 2673 6996 w
(input) 3043 6996 w
(by) 3343 6996 w
(adding) 3505 6996 w
(a) 3886 6996 w
(slave) 3988 6996 w
(process) 4278 6996 w
(for) 4699 6996 w
(the) 4885 6996 w
(mouse.) 720 7116 w
(It sends an) 1139 7116 w
10 /LucidaTypewriter f
(Mevent) 1701 7116 w
10 /LucidaSansUnicode00 f
(aggregate) 2165 7116 w
cleartomark
showpage
saveobj restore
%%EndPage: 10 10
%%Page: 11 11
/saveobj save def
mark
11 pagesetup
10 /LucidaSansUnicode00 f
(\255 11 \255) 2752 480 w
9 /LucidaTypewriter f
(aggr) 1008 830 w
(Mevent) 1333 830 w
({) 1788 830 w
(Point;) 1528 940 w
(int) 1528 1050 w
(buttons;) 2048 1050 w
(};) 1008 1160 w
10 /LucidaSansUnicode00 f
(containing) 720 1340 w
(the) 1276 1340 w
(mouse) 1477 1340 w
(coordinates) 1846 1340 w
(and) 2459 1340 w
(the) 2685 1340 w
(button) 2886 1340 w
(state) 3254 1340 w
(on) 3537 1340 w
(a) 3707 1340 w
(channel) 3809 1340 w
(to) 4233 1340 w
(the) 4378 1340 w
(executive) 4580 1340 w
(process) 720 1460 w
(each) 1140 1460 w
(time) 1410 1460 w
(a) 1671 1460 w
(mouse) 1771 1460 w
(event) 2139 1460 w
(occurs.) 2447 1460 w
(The) 2873 1460 w
(executive) 3099 1460 w
(process) 3604 1460 w
(must) 4023 1460 w
(simultaneously) 4311 1460 w
(receive) 720 1580 w
(on) 1103 1580 w
(the) 1269 1580 w
(channels) 1467 1580 w
(from) 1938 1580 w
(the) 2213 1580 w
(mouse) 2411 1580 w
(and) 2777 1580 w
(keyboard) 3000 1580 w
(slave) 3492 1580 w
(processes.) 3778 1580 w
(The) 4366 1580 w
(Alef) 4590 1580 w
10 /LucidaTypewriter f
(alt) 4824 1580 w
10 /LucidaSansUnicode00 f
(statement) 720 1700 w
(provides) 1250 1700 w
(this) 1712 1700 w
(functionality.) 1937 1700 w
(Its) 2650 1700 w
(syntax) 2812 1700 w
(is) 3175 1700 w
(similar) 3300 1700 w
(to) 3672 1700 w
(that) 3815 1700 w
(of) 4051 1700 w
(a) 4194 1700 w
10 /LucidaTypewriter f
(switch) 4294 1700 w
10 /LucidaSansUnicode00 f
(state\255) 4771 1700 w
(ment:) 720 1820 w
9 /LucidaTypewriter f
(alt) 1008 1990 w
({) 1268 1990 w
(case) 1008 2100 w
(<-c0:) 1333 2100 w
(/*) 2048 2100 w
(receive) 2243 2100 w
(&) 2763 2100 w
(discard) 2893 2100 w
(input) 3413 2100 w
(on) 3803 2100 w
(channel) 3998 2100 w
(c0) 4518 2100 w
(*/) 4713 2100 w
(break;) 1528 2210 w
(case) 1008 2320 w
(r) 1333 2320 w
(=) 1463 2320 w
(<-c1:) 1593 2320 w
(/*) 2048 2320 w
(receive) 2243 2320 w
(input) 2763 2320 w
(on) 3153 2320 w
(channel) 3348 2320 w
(c1) 3868 2320 w
(into) 4063 2320 w
(r*/) 4388 2320 w
(break;) 1528 2430 w
(case) 1008 2540 w
(c2) 1333 2540 w
(<-=) 1528 2540 w
(1:) 1788 2540 w
(/*) 2048 2540 w
(send) 2243 2540 w
(1) 2568 2540 w
(on) 2698 2540 w
(c2) 2893 2540 w
(when) 3088 2540 w
(there) 3413 2540 w
(is) 3803 2540 w
(a) 3998 2540 w
(receiver*/) 4128 2540 w
(break;) 1528 2650 w
(}) 1008 2760 w
10 /LucidaSansUnicode00 f
(Each) 720 2940 w
(case) 984 2940 w
(is) 1239 2940 w
(associated) 1361 2940 w
(with) 1912 2940 w
(a) 2159 2940 w
(send) 2256 2940 w
(or) 2530 2940 w
(receive) 2674 2940 w
(operation) 3057 2940 w
(on) 3565 2940 w
(a) 3731 2940 w
(different) 3829 2940 w
(channel.) 4290 2940 w
(When) 4774 2940 w
(no) 720 3060 w
(channel) 889 3060 w
(is) 1312 3060 w
(ready,) 1438 3060 w
(the) 1783 3060 w
(process) 1984 3060 w
(blocks) 2404 3060 w
(until) 2763 3060 w
(a) 3028 3060 w
(channel) 3129 3060 w
(operation) 3552 3060 w
(can) 4062 3060 w
(succeed.) 4275 3060 w
(When) 4774 3060 w
(only) 720 3180 w
(one) 971 3180 w
(channel) 1197 3180 w
(is) 1621 3180 w
(ready,) 1748 3180 w
(the) 2094 3180 w
10 /LucidaTypewriter f
(case) 2296 3180 w
10 /LucidaSansUnicode00 f
(statement) 2631 3180 w
(associated) 3162 3180 w
(with) 3718 3180 w
(it) 3970 3180 w
(is) 4083 3180 w
(selected) 4210 3180 w
(and) 4657 3180 w
(the) 4885 3180 w
(operation) 720 3300 w
(is) 1226 3300 w
(executed.) 1347 3300 w
(When) 1894 3300 w
(more) 2201 3300 w
(than) 2492 3300 w
(one) 2748 3300 w
(channel) 2967 3300 w
(is) 3384 3300 w
(ready,) 3504 3300 w
(a) 3843 3300 w
(case) 3938 3300 w
(associated) 4191 3300 w
(with) 4740 3300 w
(a) 4985 3300 w
(ready) 720 3420 w
(channel) 1027 3420 w
(is) 1444 3420 w
(selected) 1564 3420 w
(at) 2003 3420 w
(random.) 2135 3420 w
(The) 2614 3420 w
10 /LucidaTypewriter f
(alt) 2835 3420 w
10 /LucidaSansUnicode00 f
(statement) 3092 3420 w
(does) 3617 3420 w
(not) 3889 3420 w
(have) 4090 3420 w
(a) 4356 3420 w
(special) 4452 3420 w
(case) 4827 3420 w
(corresponding) 720 3540 w
(to) 1458 3540 w
(the) 1591 3540 w
10 /LucidaTypewriter f
(default) 1781 3540 w
10 /LucidaSansUnicode00 f
(case) 2320 3540 w
(in) 2568 3540 w
(a) 2693 3540 w
10 /LucidaTypewriter f
(switch) 2782 3540 w
10 /LucidaSansUnicode00 f
(statement;) 3248 3540 w
(all) 3798 3540 w
(cases) 3945 3540 w
(must) 4243 3540 w
(depend) 4520 3540 w
(on) 4917 3540 w
(channel send and receive operations.) 720 3660 w
(The mouse slave process is similar to the keyboard slave process:) 720 3816 w
9 /LucidaTypewriter f
(void) 1008 3986 w
(mouseproc\(chan\(Mevent\)) 1008 4096 w
(mc\)) 2503 4096 w
({) 1008 4206 w
(int) 1528 4316 w
(fd,) 1788 4316 w
(n;) 2048 4316 w
(byte) 1528 4426 w
(buf[1024];) 1853 4426 w
(Mevent) 1528 4536 w
(m;) 1983 4536 w
(fd) 1528 4756 w
(=) 1723 4756 w
(open\("/dev/mouse",) 1853 4756 w
(OREAD\);) 3088 4756 w
(for\(;;\)) 1528 4866 w
({) 2048 4866 w
(n) 2048 4976 w
(=) 2178 4976 w
(read\(fd,) 2308 4976 w
(buf,) 2893 4976 w
(sizeof\(buf\)\);) 3218 4976 w
(if\(n) 2048 5086 w
(<=) 2373 5086 w
(0\)) 2568 5086 w
(continue;) 2568 5196 w
(m) 2048 5306 w
(=) 2178 5306 w
(decodemouse\(buf,) 2308 5306 w
(n\);) 3413 5306 w
(mc) 2048 5416 w
(<-=) 2243 5416 w
(m;) 2503 5416 w
(}) 1528 5526 w
(}) 1008 5636 w
10 /LucidaSansUnicode00 f
(After) 720 5816 w
(opening) 1021 5816 w
(the) 1478 5816 w
(mouse) 1695 5816 w
(device,) 2080 5816 w
(the) 2481 5816 w
(process) 2698 5816 w
(continually) 3134 5816 w
(reads) 3725 5816 w
(the) 4053 5816 w
(device,) 4270 5816 w
(invokes) 4671 5816 w
10 /LucidaTypewriter f
(decodemouse) 720 5936 w
10 /LucidaSansUnicode00 f
(to) 1548 5936 w
(decode) 1682 5936 w
(the) 2068 5936 w
(buffer) 2259 5936 w
(into) 2591 5936 w
(an) 2816 5936 w
10 /LucidaTypewriter f
(Mevent) 2969 5936 w
10 /LucidaSansUnicode00 f
(aggregate,) 3437 5936 w
(and) 3991 5936 w
(sends) 4207 5936 w
(that) 4526 5936 w
(to) 4752 5936 w
(the) 4885 5936 w
(executive process on the channel supplied as its argument.) 720 6056 w
(The) 720 6212 w
(executive) 943 6212 w
(process) 1445 6212 w
(allocates) 1861 6212 w
(two) 2327 6212 w
(channels,) 2544 6212 w
(starts) 3046 6212 w
(the) 3360 6212 w
(slave) 3557 6212 w
(processes,) 3843 6212 w
(and) 4399 6212 w
(uses) 4622 6212 w
(the) 4885 6212 w
10 /LucidaTypewriter f
(alt) 720 6332 w
10 /LucidaSansUnicode00 f
(statement to select between keyboard events and mouse events on the channels:) 968 6332 w
cleartomark
showpage
saveobj restore
%%EndPage: 11 11
%%Page: 12 12
/saveobj save def
mark
12 pagesetup
10 /LucidaSansUnicode00 f
(\255 12 \255) 2752 480 w
9 /LucidaTypewriter f
(void) 1008 830 w
(main\(void\)) 1008 940 w
({) 1008 1050 w
(int) 1528 1160 w
(r;) 1788 1160 w
(Mevent) 1528 1270 w
(m;) 1983 1270 w
(chan\(int\)) 1528 1380 w
(kbd;) 2178 1380 w
(chan\(Mevent\)) 1528 1490 w
(mouse;) 2373 1490 w
(alloc) 1528 1710 w
(kbd,) 1918 1710 w
(mouse;) 2243 1710 w
(proc) 1528 1820 w
(kbdproc\(kbd\),) 1853 1820 w
(mouseproc\(mouse\);) 2763 1820 w
(for\(;;\)) 1528 2040 w
({) 2048 2040 w
(alt) 2048 2150 w
({) 2308 2150 w
(case) 2048 2260 w
(r) 2373 2260 w
(=) 2503 2260 w
(<-kbd:) 2633 2260 w
(if\(r) 2568 2370 w
(<) 2893 2370 w
(0\)) 3023 2370 w
(terminate\(nil\);) 3088 2480 w
(/*) 2568 2590 w
(process) 2763 2590 w
(keyboard) 3283 2590 w
(input) 3868 2590 w
(*/) 4258 2590 w
(break;) 2568 2700 w
(case) 2048 2810 w
(m) 2373 2810 w
(=) 2503 2810 w
(<-mouse:) 2633 2810 w
(/*) 2568 2920 w
(process) 2763 2920 w
(mouse) 3283 2920 w
(event) 3673 2920 w
(*/) 4063 2920 w
(break;) 2568 3030 w
(}) 2048 3140 w
(}) 1528 3250 w
(}) 1008 3360 w
10 /LucidaSansUnicode00 f
(The) 720 3540 w
(introduction) 954 3540 w
(of) 1602 3540 w
(the) 1753 3540 w
(second) 1961 3540 w
(input) 2358 3540 w
(device) 2664 3540 w
(exposes) 3024 3540 w
(a) 3476 3540 w
(deficiency) 3584 3540 w
(in) 4124 3540 w
(the) 4269 3540 w
(termination) 4478 3540 w
(strategy.) 720 3660 w
(On) 1211 3660 w
(end-of-file) 1387 3660 w
(or) 1969 3660 w
(an) 2107 3660 w
(error,) 2260 3660 w
(the) 2568 3660 w
(keyboard) 2759 3660 w
(slave) 3244 3660 w
(process) 3523 3660 w
(sends) 3933 3660 w
(a) 4252 3660 w
(negative) 4342 3660 w
(value) 4786 3660 w
(to) 720 3780 w
(the) 871 3780 w
(executive) 1079 3780 w
(process) 1592 3780 w
(and) 2019 3780 w
(terminates.) 2252 3780 w
(The) 2886 3780 w
(executive) 3120 3780 w
(also) 3633 3780 w
(terminates,) 3883 3780 w
(leaving) 4486 3780 w
(the) 4885 3780 w
(mouse) 720 3900 w
(slave) 1088 3900 w
(process) 1376 3900 w
(dangling.) 1794 3900 w
(We) 2326 3900 w
(remedy) 2512 3900 w
(this) 2917 3900 w
(by) 3140 3900 w
(saving) 3299 3900 w
(the) 3654 3900 w
(process) 3853 3900 w
(numbers) 4271 3900 w
(of) 4743 3900 w
(the) 4885 3900 w
(slave) 720 4020 w
(processes) 1017 4020 w
(in) 1552 4020 w
(global) 1697 4020 w
(variables) 2050 4020 w
(and) 2535 4020 w
(introduce) 2769 4020 w
(a) 3285 4020 w
(new) 3394 4020 w
(channel) 3643 4020 w
(used) 4074 4020 w
(exclusively) 4360 4020 w
(to) 4942 4020 w
(communicate) 720 4140 w
(a) 1404 4140 w
(termination) 1493 4140 w
(condition.) 2089 4140 w
(The) 2642 4140 w
(executive) 2857 4140 w
(adds) 3351 4140 w
(the) 3617 4140 w
(new) 3806 4140 w
(channel) 4035 4140 w
(to) 4445 4140 w
(the) 4576 4140 w
(selec\255) 4764 4140 w
(tion in the) 720 4260 w
10 /LucidaTypewriter f
(alt) 1251 4260 w
10 /LucidaSansUnicode00 f
(statement, and kills all slave processes when a value is received on it:) 1499 4260 w
9 /LucidaTypewriter f
(int) 1008 4430 w
(kbdpid,) 2048 4430 w
(mousepid;) 2568 4430 w
(void) 1008 4650 w
(kbdproc\(chan\(int\)) 1008 4760 w
(kbdc,) 2178 4760 w
(chan\(int\)) 2568 4760 w
(termc\)) 3218 4760 w
({) 1008 4870 w
(byte) 1528 4980 w
(c;) 1853 4980 w
(int) 1528 5090 w
(n,) 1788 5090 w
(fd,) 1983 5090 w
(ctlfd;) 2243 5090 w
(kbdpid) 1528 5310 w
(=) 1983 5310 w
(getpid\(\);) 2113 5310 w
(fd) 1528 5420 w
(=) 1723 5420 w
(open\("/dev/cons",) 1853 5420 w
(OREAD\);) 3023 5420 w
(ctlfd) 1528 5530 w
(=) 1918 5530 w
(open\("/dev/consctl",) 2048 5530 w
(OWRITE\);) 3413 5530 w
(write\(ctlfd,) 1528 5640 w
("rawon",) 2373 5640 w
(5\);) 2958 5640 w
(/*) 3608 5640 w
(set) 3803 5640 w
(raw) 4063 5640 w
(mode) 4323 5640 w
(*/) 4648 5640 w
(for\(;;\)) 1528 5870 w
({) 2048 5870 w
(n) 2048 5980 w
(=) 2178 5980 w
(read\(fd,) 2308 5980 w
(&c,) 2893 5980 w
(1\);) 3153 5980 w
(if\(n) 2048 6090 w
(<=) 2373 6090 w
(0) 2568 6090 w
(||) 2698 6090 w
(c) 2893 6090 w
(==) 3023 6090 w
(EOF\)) 3218 6090 w
({) 3543 6090 w
(termc) 2568 6200 w
(<-=) 2958 6200 w
(-1;) 3218 6200 w
(return;) 2568 6310 w
(}) 2048 6420 w
(n) 2048 6530 w
(=) 2178 6530 w
(processinput\(c\);) 2308 6530 w
(if\(n\)) 2048 6640 w
(kbdc) 2568 6750 w
(<-=) 2893 6750 w
(n;) 3153 6750 w
(}) 1528 6860 w
(}) 1008 6970 w
cleartomark
showpage
saveobj restore
%%EndPage: 12 12
%%Page: 13 13
/saveobj save def
mark
13 pagesetup
10 /LucidaSansUnicode00 f
(\255 13 \255) 2752 480 w
9 /LucidaTypewriter f
(void) 1008 830 w
(mouseproc\(chan\(Mevent\)) 1008 940 w
(mc,) 2503 940 w
(chan\(int\)) 2763 940 w
(termc\)) 3413 940 w
({) 1008 1050 w
(int) 1528 1160 w
(fd,) 1788 1160 w
(n;) 2048 1160 w
(byte) 1528 1270 w
(buf[1024];) 1853 1270 w
(Mevent) 1528 1380 w
(m;) 1983 1380 w
(mousepid) 1528 1600 w
(=) 2113 1600 w
(getpid\(\);) 2243 1600 w
(fd) 1528 1710 w
(=) 1723 1710 w
(open\("/dev/mouse",) 1853 1710 w
(OREAD\);) 3088 1710 w
(for\(;;\)) 1528 1820 w
({) 2048 1820 w
(n) 2048 1930 w
(=) 2178 1930 w
(read\(fd,) 2308 1930 w
(buf,) 2893 1930 w
(sizeof\(buf\)\);) 3218 1930 w
(if\(n) 2048 2040 w
(<) 2373 2040 w
(0\)) 2503 2040 w
({) 2698 2040 w
(termc) 2568 2150 w
(<-=) 2958 2150 w
(1;) 3218 2150 w
(return;) 2568 2260 w
(}) 2048 2370 w
(m) 2048 2480 w
(=) 2178 2480 w
(decodemouse\(buf,) 2308 2480 w
(n\);) 3413 2480 w
(mc) 2048 2590 w
(<-=) 2243 2590 w
(m;) 2503 2590 w
(}) 1528 2700 w
(}) 1008 2810 w
(void) 1008 3040 w
(main\(void\)) 1008 3150 w
({) 1008 3260 w
(int) 1528 3370 w
(r;) 1788 3370 w
(Mevent) 1528 3480 w
(m;) 1983 3480 w
(chan\(int\)) 1528 3590 w
(kbd,) 2178 3590 w
(term;) 2503 3590 w
(chan\(Mevent\)) 1528 3700 w
(mouse;) 2373 3700 w
(alloc) 1528 3920 w
(kbd,) 1918 3920 w
(mouse,) 2243 3920 w
(term;) 2698 3920 w
(proc) 1528 4030 w
(kbdproc\(kbd,) 1853 4030 w
(term\),) 2698 4030 w
(mouseproc\(mouse,) 3153 4030 w
(term\);) 4258 4030 w
(for\(;;\)) 1528 4250 w
({) 2048 4250 w
(alt) 2048 4360 w
({) 2308 4360 w
(case) 2048 4470 w
(<-term:) 2373 4470 w
(/*) 3088 4470 w
(kill) 3283 4470 w
(slave) 3608 4470 w
(processes) 3998 4470 w
(*/) 4648 4470 w
(postnote\(PNPROC,) 2568 4580 w
(mousepid,) 3673 4580 w
("kill"\);) 4323 4580 w
(postnote\(PNPROC,) 2568 4690 w
(kbdpid,) 3673 4690 w
("kill"\);) 4193 4690 w
(exits\(nil\);) 2568 4800 w
(case) 2048 4910 w
(r) 2373 4910 w
(=) 2503 4910 w
(<-kbd:) 2633 4910 w
(/*) 2568 5020 w
(process) 2763 5020 w
(keyboard) 3283 5020 w
(input) 3868 5020 w
(*/) 4258 5020 w
(break;) 2568 5130 w
(case) 2048 5240 w
(m) 2373 5240 w
(=) 2503 5240 w
(<-mouse:) 2633 5240 w
(/*) 2568 5350 w
(process) 2763 5350 w
(mouse) 3283 5350 w
(event) 3673 5350 w
(*/) 4063 5350 w
(break;) 2568 5460 w
(}) 2048 5570 w
(}) 1528 5680 w
(}) 1008 5790 w
10 /LucidaSansUnicode00 f
(As) 720 5970 w
(in) 891 5970 w
(the) 1033 5970 w
(previous) 1239 5970 w
(example,) 1705 5970 w
(low-level) 2202 5970 w
(input) 2701 5970 w
(processing) 3006 5970 w
(is) 3585 5970 w
(confined) 3717 5970 w
(to) 4190 5970 w
(the) 4340 5970 w
(slave) 4547 5970 w
(pro\255) 4842 5970 w
(cesses) 720 6090 w
(and) 1076 6090 w
(the) 1296 6090 w
(executive) 1491 6090 w
(just) 1991 6090 w
(selects) 2210 6090 w
(among) 2580 6090 w
(inputs) 2952 6090 w
(and) 3295 6090 w
(processes) 3514 6090 w
(the) 4034 6090 w
(data.) 4228 6090 w
(New) 4541 6090 w
(input) 4787 6090 w
(sources) 720 6210 w
(can) 1143 6210 w
(be) 1361 6210 w
(added) 1530 6210 w
(by) 1880 6210 w
(allocating) 2045 6210 w
(a) 2565 6210 w
(channel,) 2670 6210 w
(writing) 3129 6210 w
(a) 3516 6210 w
(slave) 3621 6210 w
(process,) 3914 6210 w
(and) 4370 6210 w
(adding) 4600 6210 w
(a) 4985 6210 w
10 /LucidaTypewriter f
(case) 720 6330 w
10 /LucidaSansUnicode00 f
(to) 1043 6330 w
(the) 1176 6330 w
10 /LucidaTypewriter f
(alt) 1366 6330 w
10 /LucidaSansUnicode00 f
(statement.) 1617 6330 w
(In) 2200 6330 w
(this) 2326 6330 w
(example,) 2540 6330 w
(most) 3020 6330 w
(of) 3297 6330 w
(the) 3430 6330 w
(processing) 3620 6330 w
(takes) 4181 6330 w
(place) 4472 6330 w
(in) 4760 6330 w
(the) 4885 6330 w
(master) 720 6450 w
(process.) 1091 6450 w
(Using) 1567 6450 w
(channel) 1878 6450 w
(messages) 2293 6450 w
(to) 2806 6450 w
(represent) 2942 6450 w
(device) 3443 6450 w
(events) 3788 6450 w
(insulates) 4141 6450 w
(that) 4612 6450 w
(pro\255) 4842 6450 w
(cess) 720 6570 w
(from) 962 6570 w
(the) 1227 6570 w
(details) 1415 6570 w
(of the system interface, frees it from time constraints, and allows it) 1768 6570 w
(to) 720 6690 w
(use) 854 6690 w
(Alef) 1059 6690 w
10 /LucidaSansUnicode20 f
(\031) 1250 6690 w
10 /LucidaSansUnicode00 f
(s) 1282 6690 w
(channel) 1369 6690 w
(operations) 1782 6690 w
(to) 2334 6690 w
(demultiplex) 2468 6690 w
(several) 3082 6690 w
(event) 3458 6690 w
(streams.) 3758 6690 w
(This) 4243 6690 w
(structure) 4485 6690 w
(is) 4960 6690 w
(common to many Alef programs that handle multiple input sources.) 720 6810 w
cleartomark
showpage
saveobj restore
%%EndPage: 13 13
%%Page: 14 14
/saveobj save def
mark
14 pagesetup
10 /LucidaSansUnicode00 f
(\255 14 \255) 2752 480 w
10 /LucidaSans-Demi f
(Asynchronous Channels) 720 840 w
10 /LucidaSansUnicode00 f
(So) 720 996 w
(far) 892 996 w
(the) 1082 996 w
(channels) 1294 996 w
(in) 1779 996 w
(our) 1927 996 w
(examples) 2148 996 w
(have) 2669 996 w
(been) 2951 996 w
(synchronous:) 3245 996 w
(a) 3950 996 w
(sender) 4063 996 w
(blocks) 4450 996 w
(until) 4821 996 w
(another) 720 1116 w
(thread) 1128 1116 w
(of) 1476 1116 w
(execution) 1607 1116 w
(attempts) 2115 1116 w
(to) 2577 1116 w
(receive) 2708 1116 w
(on) 3082 1116 w
(the) 3238 1116 w
(channel.) 3426 1116 w
(This) 3900 1116 w
(mode) 4138 1116 w
(of) 4444 1116 w
(operation) 4575 1116 w
(may) 720 1236 w
(be) 965 1236 w
(inappropriate;) 1129 1236 w
(when) 1862 1236 w
(the) 2165 1236 w
(processing) 2366 1236 w
(in) 2939 1236 w
(the) 3076 1236 w
(master) 3277 1236 w
(process) 3656 1236 w
(is) 4076 1236 w
(lengthy,) 4202 1236 w
(the) 4640 1236 w
(key\255) 4841 1236 w
(board slave process blocks after the first character of type-ahead.) 720 1356 w
(Alef) 720 1512 w
(provides) 951 1512 w
(asynchronous) 1407 1512 w
(channels) 2118 1512 w
(to) 2586 1512 w
(decouple) 2724 1512 w
(the) 3205 1512 w
(sending) 3401 1512 w
(and) 3827 1512 w
(receiving) 4048 1512 w
(processes.) 4527 1512 w
(An) 720 1632 w
(asynchronous) 884 1632 w
(channel) 1588 1632 w
(behaves) 1998 1632 w
(like) 2426 1632 w
(a) 2631 1632 w
(queue) 2719 1632 w
(with) 3051 1632 w
(a) 3289 1632 w
(capacity) 3377 1632 w
(specified in the channel) 3803 1632 w
10 /LucidaSansUnicode20 f
(\031) 4957 1632 w
10 /LucidaSansUnicode00 f
(s) 4989 1632 w
(declaration.) 720 1752 w
(Messages) 1366 1752 w
(are) 1877 1752 w
(accepted) 2072 1752 w
(until) 2547 1752 w
(all) 2810 1752 w
(slots) 2967 1752 w
(in) 3240 1752 w
(the) 3375 1752 w
(queue) 3574 1752 w
(are) 3917 1752 w
(occupied;) 4113 1752 w
(a) 4625 1752 w
(subse\255) 4724 1752 w
(quent) 720 1872 w
(attempt) 1043 1872 w
(to) 1464 1872 w
(send) 1605 1872 w
(blocks) 1880 1872 w
(until) 2235 1872 w
(a) 2496 1872 w
(receiver) 2593 1872 w
(removes) 3017 1872 w
(a) 3469 1872 w
(message.) 3566 1872 w
(If) 4096 1872 w
(the) 4204 1872 w
(channel) 4401 1872 w
(is) 4820 1872 w
(of) 4942 1872 w
(sufficient) 720 1992 w
(capacity,) 1217 1992 w
(senders) 1688 1992 w
(never) 2114 1992 w
(block) 2427 1992 w
(and) 2735 1992 w
(the) 2961 1992 w
(sending) 3162 1992 w
(and) 3594 1992 w
(receiving) 3821 1992 w
(processes) 4306 1992 w
(exe\255) 4834 1992 w
(cute) 720 2112 w
(asynchronously.) 961 2112 w
(The) 1812 2112 w
(receive) 2027 2112 w
(operation) 2402 2112 w
(is) 2901 2112 w
(the) 3015 2112 w
(same) 3204 2112 w
(for) 3493 2112 w
(both) 3666 2112 w
(synchronous) 3923 2112 w
(and) 4573 2112 w
(asyn\255) 4787 2112 w
(chronous) 720 2232 w
(of) 1208 2232 w
(channels;) 1343 2232 w
(if) 1840 2232 w
(a) 1943 2232 w
(message) 2036 2232 w
(is) 2498 2232 w
(present,) 2616 2232 w
(it) 3052 2232 w
(is) 3156 2232 w
(received,) 3274 2232 w
(if) 3748 2232 w
(not,) 3852 2232 w
(the) 4082 2232 w
(receiver) 4275 2232 w
(blocks.) 4695 2232 w
(Asynchronous) 720 2352 w
(channels) 1451 2352 w
(not) 1925 2352 w
(only) 2131 2352 w
(facilitate) 2381 2352 w
(parallel) 2842 2352 w
(execution) 3245 2352 w
(but) 3766 2352 w
(also) 3974 2352 w
(insulate) 4216 2352 w
(the) 4642 2352 w
(pro\255) 4842 2352 w
(cessing from many races.) 720 2472 w
(An) 720 2628 w
(asynchronous) 886 2628 w
(channel) 1592 2628 w
(is) 2004 2628 w
(declared) 2119 2628 w
(by) 2568 2628 w
(appending) 2718 2628 w
(a) 3268 2628 w
(capacity) 3358 2628 w
(specification,) 3786 2628 w
(which) 4464 2628 w
(looks) 4780 2628 w
(like an array dimension, following the channel type.) 720 2748 w
(Thus,) 3298 2748 w
9 /LucidaTypewriter f
(chan\(int\)[100]) 1528 2918 w
(kbd;) 2503 2918 w
10 /LucidaSansUnicode00 f
(defines) 720 3098 w
(an) 1107 3098 w
(asynchronous) 1257 3098 w
(channel) 1961 3098 w
(with) 2372 3098 w
(a) 2611 3098 w
(capacity) 2700 3098 w
(of) 3127 3098 w
(100) 3259 3098 w
(integer) 3482 3098 w
(messages.) 3859 3098 w
(The) 4432 3098 w
(capacity) 4647 3098 w
(specification) 720 3218 w
(is) 1373 3218 w
(not) 1495 3218 w
(part) 1697 3218 w
(of) 1934 3218 w
(the) 2073 3218 w
(channel) 2269 3218 w
(type) 2687 3218 w
(information;) 2936 3218 w
(instead,) 3576 3218 w
(it) 4002 3218 w
(is) 4109 3218 w
(an) 4230 3218 w
(attribute) 4388 3218 w
(of) 4846 3218 w
(a) 4985 3218 w
(channel) 720 3338 w
(variable) 1131 3338 w
(that) 1545 3338 w
(is) 1770 3338 w
(applied) 1884 3338 w
(when) 2276 3338 w
(the) 2567 3338 w
(variable) 2756 3338 w
(is) 3170 3338 w
(allocated.) 3284 3338 w
(If) 3818 3338 w
(the) 3918 3338 w
(variable) 4108 3338 w
(is) 4523 3338 w
(not) 4638 3338 w
(allo\255) 4833 3338 w
(cated,) 720 3458 w
(for) 1049 3458 w
(instance,) 1223 3458 w
(if) 1693 3458 w
(it) 1794 3458 w
(is) 1895 3458 w
(assigned) 2010 3458 w
(a) 2474 3458 w
(previously) 2564 3458 w
(allocated) 3095 3458 w
(channel,) 3566 3458 w
(it) 4010 3458 w
(inherits) 4110 3458 w
(the) 4511 3458 w
(type) 4700 3458 w
(of) 4942 3458 w
(that) 720 3578 w
(channel) 965 3578 w
(regardless) 1396 3578 w
(of) 1955 3578 w
(the) 2107 3578 w
(type) 2316 3578 w
(in) 2578 3578 w
(its) 2723 3578 w
(own) 2894 3578 w
(declaration.) 3148 3578 w
(This) 3805 3578 w
(distinction) 4064 3578 w
(allows) 4629 3578 w
(a) 4985 3578 w
(channel) 720 3698 w
(variable) 1150 3698 w
(to) 1583 3698 w
(reference) 1734 3698 w
(either) 2243 3698 w
(synchronous) 2577 3698 w
(or) 3246 3698 w
(asynchronous) 3401 3698 w
(instantiations) 4125 3698 w
(of) 4835 3698 w
(a) 4985 3698 w
(channel.) 720 3818 w
(The) 1206 3818 w
(compiler) 1433 3818 w
(accepts) 1902 3818 w
(a) 2312 3818 w
(capacity) 2413 3818 w
(specification) 2852 3818 w
(in) 3509 3818 w
(any) 3646 3818 w
(channel) 3861 3818 w
(declaration,) 4284 3818 w
(for) 4901 3818 w
(example,) 720 3938 w
(as) 1200 3938 w
(a) 1340 3938 w
(formal) 1429 3938 w
(parameter) 1779 3938 w
(or) 2310 3938 w
(the) 2446 3938 w
(type) 2635 3938 w
(returned) 2877 3938 w
(by) 3329 3938 w
(a) 3478 3938 w
(function,) 3567 3938 w
(but) 4034 3938 w
(the) 4230 3938 w
(only) 4419 3938 w
(declara\255) 4657 3938 w
(tion that matters is the one governing the last allocation of the channel.) 720 4058 w
(We) 720 4214 w
(can) 899 4214 w
(support) 1104 4214 w
(type-ahead) 1520 4214 w
(in) 2115 4214 w
(our) 2244 4214 w
(example) 2446 4214 w
(by) 2897 4214 w
(using) 3050 4214 w
(an) 3354 4214 w
(asynchronous) 3509 4214 w
(channel) 4218 4214 w
(between) 4633 4214 w
(the) 720 4334 w
(keyboard) 910 4334 w
(and) 1394 4334 w
(executive) 1609 4334 w
(processes.) 2104 4334 w
(We) 2684 4334 w
(need) 2861 4334 w
(only) 3133 4334 w
(change) 3372 4334 w
(the) 3754 4334 w
(keyboard) 3943 4334 w
(channel) 4426 4334 w
(dec\255) 4837 4334 w
(laration) 720 4454 w
(in) 1123 4454 w
(the) 1248 4454 w
(main) 1437 4454 w
(function;) 1710 4454 w
(the) 2177 4454 w
(send) 2366 4454 w
(and) 2632 4454 w
(receive) 2846 4454 w
(operations) 3222 4454 w
(and) 3773 4454 w
(the) 3988 4454 w
(declaration) 4178 4454 w
(of) 4752 4454 w
(the) 4885 4454 w
(keyboard) 720 4574 w
(channel) 1211 4574 w
(parameter) 1630 4574 w
(of) 2169 4574 w
(the) 2308 4574 w
(keyboard) 2504 4574 w
(slave) 2994 4574 w
(process) 3278 4574 w
(remain) 3693 4574 w
(the) 4070 4574 w
(same.) 4266 4574 w
(Support\255) 4626 4574 w
(ing) 720 4694 w
(type-ahead) 907 4694 w
(may) 1498 4694 w
(be) 1733 4694 w
(justified) 1887 4694 w
(but) 2316 4694 w
(it) 2513 4694 w
(is) 2614 4694 w
(not) 2729 4694 w
(obvious) 2924 4694 w
(that) 3338 4694 w
(mouse-ahead) 3564 4694 w
(is) 4271 4694 w
(equally) 4386 4694 w
(desir\255) 4767 4694 w
(able.) 720 4814 w
10 /LucidaSans-Demi f
(Tasks) 720 5090 w
10 /LucidaSansUnicode00 f
(In) 720 5246 w
(addition) 854 5246 w
(to) 1296 5246 w
(processes,) 1437 5246 w
(Alef) 1993 5246 w
(provides) 2228 5246 w
(a) 2688 5246 w
(synchronously) 2787 5246 w
(scheduled) 3528 5246 w
(thread) 4065 5246 w
(of) 4423 5246 w
(execution) 4565 5246 w
(called) 720 5366 w
(a) 1037 5366 w
10 /LucidaSans-Italic f
(task) 1126 5366 w
10 /LucidaSansUnicode00 f
(.) 1332 5366 w
(Every) 1430 5366 w
(Alef) 1719 5366 w
(process) 1944 5366 w
(consists) 2352 5366 w
(of) 2779 5366 w
(one) 2911 5366 w
(or) 3123 5366 w
(more) 3258 5366 w
(tasks;) 3542 5366 w
(in) 3859 5366 w
(the) 3983 5366 w
(trivial) 4171 5366 w
(case,) 4476 5366 w
(a) 4754 5366 w
(pro\255) 4842 5366 w
(cess) 720 5486 w
(has) 967 5486 w
(a) 1173 5486 w
(single) 1266 5486 w
(task) 1593 5486 w
(that) 1832 5486 w
(is) 2061 5486 w
(always) 2179 5486 w
(selected) 2536 5486 w
(for) 2973 5486 w
(execution.) 3150 5486 w
(Alef) 3727 5486 w
(tasks) 3957 5486 w
(are) 4248 5486 w
(co-routines:) 4439 5486 w
(when) 720 5606 w
(one) 1015 5606 w
(has) 1232 5606 w
(control,) 1438 5606 w
(other) 1850 5606 w
(tasks) 2144 5606 w
(in) 2433 5606 w
(the) 2561 5606 w
(process) 2753 5606 w
(remain) 3164 5606 w
(blocked) 3537 5606 w
(until) 3955 5606 w
(the) 4211 5606 w
(selected) 4403 5606 w
(task) 4839 5606 w
(gives) 720 5726 w
(up) 1011 5726 w
(control) 1177 5726 w
(by) 1560 5726 w
(receiving) 1716 5726 w
(or) 2195 5726 w
(sending) 2338 5726 w
(on) 2764 5726 w
(a) 2928 5726 w
(channel,) 3024 5726 w
(blocking) 3474 5726 w
(on) 3930 5726 w
(a) 4094 5726 w
(QLock) 4191 5726 w
(\(described) 4534 5726 w
(later\),) 720 5846 w
(terminating) 1054 5846 w
(execution,) 1668 5846 w
(or) 2226 5846 w
(starting) 2379 5846 w
(another) 2804 5846 w
(task.) 3229 5846 w
(When) 3545 5846 w
(no) 3862 5846 w
(task) 4036 5846 w
(in) 4288 5846 w
(a) 4430 5846 w
(process) 4536 5846 w
(is) 4960 5846 w
(ready,) 720 5966 w
(the) 1057 5966 w
(Alef) 1250 5966 w
(run-time) 1479 5966 w
(blocks) 1955 5966 w
(until) 2306 5966 w
(an) 2563 5966 w
(external) 2718 5966 w
(event) 3154 5966 w
(makes) 3456 5966 w
(one) 3808 5966 w
(or) 4026 5966 w
(more) 4167 5966 w
(of) 4457 5966 w
(the) 4594 5966 w
(tasks) 4788 5966 w
(runnable.) 720 6086 w
(When) 1260 6086 w
(a) 1572 6086 w
(task) 1673 6086 w
(executes) 1920 6086 w
(a) 2395 6086 w
(system) 2495 6086 w
(call) 2880 6086 w
(that) 3089 6086 w
(blocks) 3325 6086 w
(or) 3683 6086 w
(takes) 3830 6086 w
(a) 4132 6086 w
(long) 4232 6086 w
(time,) 4491 6086 w
(other) 4783 6086 w
(tasks) 720 6206 w
(in) 1008 6206 w
(the) 1135 6206 w
(process) 1326 6206 w
(are) 1736 6206 w
(prevented) 1924 6206 w
(from) 2446 6206 w
(executing.) 2714 6206 w
(In) 3291 6206 w
(general,) 3419 6206 w
(when) 3849 6206 w
(a) 4143 6206 w
(thread) 4235 6206 w
(of) 4586 6206 w
(execu\255) 4721 6206 w
(tion) 720 6326 w
(can) 942 6326 w
(block) 1143 6326 w
(indefinitely) 1438 6326 w
(in) 2012 6326 w
(a) 2136 6326 w
(system) 2224 6326 w
(call, it should probably be implemented as an Alef) 2597 6326 w
(process.) 720 6446 w
(An) 720 6602 w
(algorithm) 889 6602 w
(can) 1396 6602 w
(often) 1602 6602 w
(be) 1893 6602 w
(implemented) 2050 6602 w
(using) 2725 6602 w
(either) 3029 6602 w
(tasks) 3348 6602 w
(or) 3638 6602 w
(processes.) 3778 6602 w
(Both) 4361 6602 w
(are) 4617 6602 w
(ideal) 4808 6602 w
(for) 720 6722 w
(encapsulating) 909 6722 w
(a) 1633 6722 w
(computation) 1738 6722 w
(but) 2398 6722 w
(when) 2609 6722 w
(parallel) 2915 6722 w
(execution) 3321 6722 w
(and) 3845 6722 w
(blocking) 4074 6722 w
(considera\255) 4538 6722 w
(tions) 720 6842 w
(are) 1018 6842 w
(unimportant,) 1228 6842 w
(tasks) 1920 6842 w
(are) 2230 6842 w
(usually) 2440 6842 w
(preferable.) 2838 6842 w
(Tasks) 3457 6842 w
(are) 3793 6842 w
(cheap) 4003 6842 w
(to) 4348 6842 w
(create) 4505 6842 w
(and) 4860 6842 w
(schedule;) 720 6962 w
(processes) 1239 6962 w
(are) 1777 6962 w
(more) 1986 6962 w
(appropriate) 2294 6962 w
(for) 2915 6962 w
(long-running) 3111 6962 w
(computations) 3819 6962 w
(where) 4537 6962 w
(the) 4885 6962 w
(startup) 720 7082 w
(expense) 1114 7082 w
(can) 1568 7082 w
(be) 1785 7082 w
(amortized.) 1953 7082 w
(The) 2558 7082 w
(task) 2788 7082 w
(scheduling) 3038 7082 w
(mechanism) 3614 7082 w
(provides) 4215 7082 w
(implicit) 4680 7082 w
(synchronization) 720 7202 w
(between) 1583 7202 w
(threads) 2080 7202 w
(of) 2535 7202 w
(execution) 2723 7202 w
(that) 3288 7202 w
(cannot) 3569 7202 w
(be) 3987 7202 w
(guaranteed) 4196 7202 w
(with) 4835 7202 w
cleartomark
showpage
saveobj restore
%%EndPage: 14 14
%%Page: 15 15
/saveobj save def
mark
15 pagesetup
10 /LucidaSansUnicode00 f
(\255 15 \255) 2752 480 w
(preemptive) 720 840 w
(scheduling.) 1325 840 w
(Finally,) 1975 840 w
(tasks) 2376 840 w
(in) 2687 840 w
(the) 2837 840 w
(same) 3051 840 w
(process) 3366 840 w
(always) 3800 840 w
(share) 4179 840 w
(a) 4504 840 w
(common) 4619 840 w
(address space; processes may or may not share memory.) 720 960 w
(The) 720 1116 w
(syntax) 935 1116 w
(of) 1287 1116 w
(task) 1419 1116 w
(creation) 1654 1116 w
(is) 2080 1116 w
(identical) 2195 1116 w
(to) 2641 1116 w
(that) 2774 1116 w
(of) 3000 1116 w
(process) 3133 1116 w
(creation) 3542 1116 w
(except) 3969 1116 w
(the) 4328 1116 w
10 /LucidaTypewriter f
(proc) 4518 1116 w
10 /LucidaSansUnicode00 f
(key\255) 4841 1116 w
(word) 720 1236 w
(is) 995 1236 w
(replaced) 1108 1236 w
(by) 1555 1236 w
(the) 1703 1236 w
10 /LucidaTypewriter f
(task) 1891 1236 w
10 /LucidaSansUnicode00 f
(keyword.) 2212 1236 w
(When) 2717 1236 w
(a) 3016 1236 w
(task) 3104 1236 w
(is) 3338 1236 w
(started,) 3451 1236 w
(control) 3856 1236 w
(always) 4231 1236 w
(passes to) 4583 1236 w
(the) 720 1356 w
(new) 921 1356 w
(task,) 1162 1356 w
(which) 1441 1356 w
(runs) 1768 1356 w
(until) 2030 1356 w
(it) 2295 1356 w
(relinquishes) 2407 1356 w
(control.) 3045 1356 w
(A) 3498 1356 w
(task) 3614 1356 w
(terminates) 3862 1356 w
(by) 4426 1356 w
(returning) 4588 1356 w
(from) 720 1476 w
(its) 995 1476 w
(entry) 1155 1476 w
(function) 1446 1476 w
(or) 1889 1476 w
(by) 2033 1476 w
(calling) 2190 1476 w
10 /LucidaTypewriter f
(terminate) 2549 1476 w
10 /LucidaSansUnicode00 f
(.) 3197 1476 w
(When) 3303 1476 w
(one) 3611 1476 w
(task) 3832 1476 w
(terminates,) 4075 1476 w
(another) 4666 1476 w
(runnable) 720 1596 w
(task) 1197 1596 w
(in) 1445 1596 w
(the) 1583 1596 w
(process) 1785 1596 w
(is) 2206 1596 w
(selected) 2333 1596 w
(for) 2779 1596 w
(execution;) 2965 1596 w
(if) 3519 1596 w
(no) 3632 1596 w
(tasks) 3802 1596 w
(are) 4101 1596 w
(ready,) 4300 1596 w
(the) 4646 1596 w
(Alef) 4849 1596 w
(run-time) 720 1716 w
(blocks) 1204 1716 w
(until) 1563 1716 w
(a) 1828 1716 w
(task) 1929 1716 w
(becomes) 2176 1716 w
(runnable.) 2653 1716 w
(When) 3193 1716 w
(the) 3505 1716 w
(last) 3706 1716 w
(task) 3924 1716 w
(in) 4170 1716 w
(a) 4306 1716 w
(process) 4406 1716 w
(calls) 4825 1716 w
10 /LucidaTypewriter f
(terminate) 720 1836 w
10 /LucidaSansUnicode00 f
(the) 1441 1836 w
(process) 1669 1836 w
(itself) 2116 1836 w
(terminates.) 2428 1836 w
(When) 3082 1836 w
(a) 3421 1836 w
(task) 3549 1836 w
(terminates,) 3823 1836 w
(its) 4445 1836 w
(stack) 4635 1836 w
(is) 4960 1836 w
(reclaimed) 720 1956 w
(but) 1232 1956 w
(other) 1433 1956 w
(resources) 1729 1956 w
(held) 2238 1956 w
(by) 2487 1956 w
(it,) 2641 1956 w
(such) 2778 1956 w
(as) 3043 1956 w
(dynamic) 3188 1956 w
(memory,) 3632 1956 w
(locks,) 4098 1956 w
(or) 4418 1956 w
(open) 4558 1956 w
(files) 4838 1956 w
(are) 720 2076 w
(not) 922 2076 w
(reclaimed.) 1132 2076 w
(If) 1719 2076 w
(a) 1835 2076 w
(task) 1940 2076 w
(calls) 2191 2076 w
10 /LucidaTypewriter f
(exits) 2456 2076 w
10 /LucidaSansUnicode00 f
(,) 2816 2076 w
(the) 2898 2076 w
(process) 3103 2076 w
(and) 3527 2076 w
(all) 3758 2076 w
(of) 3922 2076 w
(its) 4071 2076 w
(tasks) 4239 2076 w
(terminate.) 4542 2076 w
(Here,) 720 2196 w
(all) 1017 2196 w
(held) 1168 2196 w
(resources,) 1416 2196 w
(including) 1956 2196 w
(the) 2443 2196 w
(tasks) 2636 2196 w
10 /LucidaSansUnicode20 f
(\031) 2888 2196 w
10 /LucidaSansUnicode00 f
(stack) 2957 2196 w
(space,) 3246 2196 w
(are) 3591 2196 w
(not) 3780 2196 w
(reclaimed) 3977 2196 w
(and) 4487 2196 w
(remain) 4704 2196 w
(unavailable to other processes.) 720 2316 w
(In) 720 2472 w
(our) 853 2472 w
(example,) 1059 2472 w
(we) 1546 2472 w
(can) 1721 2472 w
(use) 1931 2472 w
(tasks) 2142 2472 w
(to) 2436 2472 w
(partition) 2576 2472 w
(the) 3032 2472 w
(processing) 3229 2472 w
(in) 3799 2472 w
(the) 3933 2472 w
(executive) 4131 2472 w
(process.) 4634 2472 w
(One) 720 2592 w
(task) 978 2592 w
(processes) 1240 2592 w
(keyboard) 1782 2592 w
(inputs,) 2292 2592 w
(another) 2689 2592 w
(handles) 3124 2592 w
(mouse) 3563 2592 w
(inputs,) 3947 2592 w
(and) 4344 2592 w
(the) 4585 2592 w
(main) 4801 2592 w
(thread,) 720 2712 w
(the) 1104 2712 w
(implicit) 1297 2712 w
(task) 1695 2712 w
(inherited) 1934 2712 w
(at) 2407 2712 w
(program) 2538 2712 w
(start-up,) 2993 2712 w
(blocks) 3468 2712 w
(on) 3820 2712 w
(the) 3982 2712 w
(termination) 4176 2712 w
(chan\255) 4777 2712 w
(nel.) 720 2832 w
(The executive process becomes:) 963 2832 w
9 /LucidaTypewriter f
(void) 1008 3002 w
(kbdtask\(chan\(int\)) 1008 3112 w
(kbdc\)) 2178 3112 w
({) 1008 3222 w
(int) 1528 3332 w
(r;) 1788 3332 w
(for\(;;\)) 1528 3552 w
({) 2048 3552 w
(r) 2048 3662 w
(=) 2178 3662 w
(<-kbdc;) 2308 3662 w
(/*) 2048 3772 w
(process) 2243 3772 w
(keyboard) 2763 3772 w
(input) 3348 3772 w
(*/) 3738 3772 w
(}) 1528 3882 w
(}) 1008 3992 w
(void) 1008 4222 w
(mousetask\(chan\(Mevent\)) 1008 4332 w
(mc\)) 2503 4332 w
({) 1008 4442 w
(Mevent) 1528 4552 w
(m;) 1983 4552 w
(for\(;;\)) 1528 4772 w
({) 2048 4772 w
(m) 2048 4882 w
(=) 2178 4882 w
(<-mc;) 2308 4882 w
(/*) 2048 4992 w
(process) 2243 4992 w
(mouse) 2763 4992 w
(input) 3153 4992 w
(*/) 3543 4992 w
(}) 1528 5102 w
(}) 1008 5212 w
(void) 1008 5442 w
(main\(void\)) 1008 5552 w
({) 1008 5662 w
(chan\(int\)[100]) 1528 5772 w
(kbd;) 2503 5772 w
(chan\(int\)) 1528 5882 w
(term;) 2178 5882 w
(chan\(Mevent\)) 1528 5992 w
(mouse;) 2373 5992 w
(alloc) 1528 6222 w
(kbd,) 1918 6222 w
(mouse,) 2243 6222 w
(term;) 2698 6222 w
(proc) 1528 6332 w
(kbdproc\(kbd,) 1853 6332 w
(term\),) 2698 6332 w
(mouseproc\(mouse,) 3153 6332 w
(term\);) 4258 6332 w
(task) 1528 6442 w
(kbdtask\(kbd\),) 1853 6442 w
(mousetask\(mouse\);) 2763 6442 w
(<-term;) 1528 6672 w
(/*) 2568 6672 w
(main) 2763 6672 w
(thread) 3088 6672 w
(blocks) 3543 6672 w
(here) 3998 6672 w
(*/) 4323 6672 w
(postnote\(PNPROC,) 1528 6782 w
(mousepid,) 2633 6782 w
("kill"\);) 3283 6782 w
(postnote\(PNPROC,) 1528 6892 w
(kbdpid,) 2633 6892 w
("kill"\);) 3153 6892 w
(exits\(nil\);) 1528 7002 w
(}) 1008 7112 w
10 /LucidaSansUnicode00 f
(After) 720 7292 w
(starting) 998 7292 w
(the) 1410 7292 w
(keyboard) 1603 7292 w
(and) 2090 7292 w
(mouse) 2308 7292 w
(slave) 2669 7292 w
(processes,) 2950 7292 w
(the) 3502 7292 w
(executive) 3696 7292 w
(passes) 4195 7292 w
(control) 4561 7292 w
(to) 4942 7292 w
cleartomark
showpage
saveobj restore
%%EndPage: 15 15
%%Page: 16 16
/saveobj save def
mark
16 pagesetup
10 /LucidaSansUnicode00 f
(\255 16 \255) 2752 480 w
(the) 720 840 w
(keyboard) 911 840 w
(input) 1396 840 w
(task.) 1685 840 w
(That) 1986 840 w
(task) 2239 840 w
(receives) 2476 840 w
(on) 2904 840 w
(the) 3063 840 w
(keyboard) 3253 840 w
(channel;) 3737 840 w
(if) 4181 840 w
(data) 4282 840 w
(is) 4527 840 w
(present,) 4642 840 w
(it) 720 960 w
(is) 821 960 w
(processed,) 936 960 w
(if) 1496 960 w
(not,) 1597 960 w
(the) 1824 960 w
(task) 2014 960 w
(blocks) 2250 960 w
(and) 2598 960 w
(control) 2813 960 w
(returns) 3190 960 w
(to) 3575 960 w
(the) 3708 960 w
(main) 3899 960 w
(task.) 4174 960 w
(It) 4475 960 w
(starts) 4577 960 w
(the) 4885 960 w
(mouse) 720 1080 w
(task,) 1089 1080 w
(which) 1368 1080 w
(receives) 1695 1080 w
(on) 2132 1080 w
(the) 2300 1080 w
(channel) 2500 1080 w
(from) 2922 1080 w
(the) 3199 1080 w
(mouse) 3399 1080 w
(slave) 3767 1080 w
(process.) 4055 1080 w
(When) 4538 1080 w
(that) 4849 1080 w
(channel) 720 1200 w
(is) 1136 1200 w
(empty,) 1255 1200 w
(control) 1627 1200 w
(transfers) 2008 1200 w
(either) 2478 1200 w
(to) 2798 1200 w
(the) 2935 1200 w
(keyboard) 3129 1200 w
(task,) 3617 1200 w
(if) 3889 1200 w
(a) 3995 1200 w
(message) 4090 1200 w
(is) 4554 1200 w
(present) 4674 1200 w
(in) 720 1320 w
(the) 847 1320 w
(keyboard) 1038 1320 w
(channel,) 1523 1320 w
(or) 1968 1320 w
(back) 2106 1320 w
(to) 2369 1320 w
(the) 2502 1320 w
(main) 2692 1320 w
(task,) 2966 1320 w
(which) 3234 1320 w
(immediately) 3550 1320 w
(blocks) 4177 1320 w
(on) 4525 1320 w
(the) 4683 1320 w
(ter\255) 4873 1320 w
(mination) 720 1440 w
(channel.) 1205 1440 w
(At) 1703 1440 w
(this) 1866 1440 w
(point,) 2102 1440 w
(the) 2443 1440 w
(three) 2655 1440 w
(tasks) 2964 1440 w
(in) 3273 1440 w
(the) 3421 1440 w
(process) 3633 1440 w
(are) 4065 1440 w
(suspended) 4275 1440 w
(and) 4860 1440 w
(remain) 720 1560 w
(so) 1091 1560 w
(until) 1238 1560 w
(data) 1492 1560 w
(is) 1737 1560 w
(available) 1852 1560 w
(on) 2310 1560 w
(one) 2468 1560 w
(or) 2682 1560 w
(more) 2819 1560 w
(of) 3105 1560 w
(the) 3238 1560 w
(channels.) 3428 1560 w
(A) 3954 1560 w
(task) 4057 1560 w
(associated) 4292 1560 w
(with) 4835 1560 w
(a) 720 1680 w
(ready) 824 1680 w
(channel) 1140 1680 w
(is) 1566 1680 w
(selected) 1695 1680 w
(for) 2143 1680 w
(execution) 2331 1680 w
(and) 2855 1680 w
(it) 3085 1680 w
(runs) 3201 1680 w
(until) 3467 1680 w
(it) 3736 1680 w
(relinquishes) 3852 1680 w
(control.) 4493 1680 w
(In) 4949 1680 w
(effect,) 720 1800 w
(we) 1069 1800 w
(use) 1244 1800 w
(the) 1455 1800 w
(Alef) 1652 1800 w
(run-time) 1885 1800 w
(scheduler) 2365 1800 w
(to) 2878 1800 w
(simulate) 3018 1800 w
(the) 3472 1800 w
(operation) 3669 1800 w
(of) 4176 1800 w
(the) 4316 1800 w
10 /LucidaTypewriter f
(alt) 4513 1800 w
10 /LucidaSansUnicode00 f
(state\255) 4771 1800 w
(ment.) 720 1920 w
(The) 1065 1920 w
(keyboard) 1279 1920 w
(and) 1761 1920 w
(mouse) 1974 1920 w
(tasks) 2330 1920 w
(are) 2615 1920 w
(implicitly) 2800 1920 w
(terminated) 3274 1920 w
(when) 3837 1920 w
(the) 4128 1920 w
(main) 4317 1920 w
(task) 4590 1920 w
(calls) 4825 1920 w
10 /LucidaTypewriter f
(exits) 720 2040 w
10 /LucidaSansUnicode00 f
(.) 1080 2040 w
(The) 1179 2040 w
(tasks) 1395 2040 w
(need) 1682 2040 w
(not) 1954 2040 w
(be) 2149 2040 w
(explicitly) 2303 2040 w
(terminated.) 2774 2040 w
(They) 3401 2040 w
(hold) 3668 2040 w
(no) 3917 2040 w
(resource) 4074 2040 w
(except) 4527 2040 w
(the) 4885 2040 w
(memory) 720 2160 w
(occupied) 1152 2160 w
(by) 1624 2160 w
(their) 1775 2160 w
(stacks) 2036 2160 w
(and) 2375 2160 w
(since) 2591 2160 w
(there) 2876 2160 w
(are) 3164 2160 w
(no) 3352 2160 w
(other) 3511 2160 w
(active) 3804 2160 w
(processes,) 4121 2160 w
(there) 4671 2160 w
(is) 4960 2160 w
(no) 720 2280 w
(demand) 881 2280 w
(for) 1311 2280 w
(this) 1488 2280 w
(memory) 1705 2280 w
(and) 2139 2280 w
(it) 2357 2280 w
(will) 2461 2280 w
(be) 2663 2280 w
(freed) 2819 2280 w
(by) 3109 2280 w
(the) 3261 2280 w
(system) 3453 2280 w
(when) 3830 2280 w
(this) 4124 2280 w
(process) 4340 2280 w
(termi\255) 4751 2280 w
(nates.) 720 2400 w
(Notice) 1078 2400 w
(that) 1419 2400 w
(the) 1643 2400 w
(keyboard) 1831 2400 w
(and) 2313 2400 w
(mouse) 2526 2400 w
(slave) 2882 2400 w
(processes) 3158 2400 w
(require) 3673 2400 w
(no) 4055 2400 w
(modification;) 4212 2400 w
(the) 4885 2400 w
(channels insulate them from structural changes in the executive process.) 720 2520 w
10 /LucidaSans-Demi f
(Resource Servers) 720 2760 w
10 /LucidaSansUnicode00 f
(The) 720 2916 w
(interface) 948 2916 w
(to) 1419 2916 w
(many) 1564 2916 w
(system) 1873 2916 w
(services) 2260 2916 w
(does) 2694 2916 w
(not) 2972 2916 w
(mesh) 3179 2916 w
(well) 3488 2916 w
(with) 3726 2916 w
(Alef) 3978 2916 w
10 /LucidaSansUnicode20 f
(\031) 4169 2916 w
10 /LucidaSansUnicode00 f
(s) 4201 2916 w
(multi-threaded) 4299 2916 w
(model) 720 3036 w
(of) 1068 3036 w
(computation.) 1212 3036 w
(We) 1933 3036 w
(have) 2121 3036 w
(already) 2392 3036 w
(used) 2789 3036 w
(a) 3067 3036 w
(process) 3168 3036 w
(to) 3588 3036 w
(convert) 3732 3036 w
(a) 4138 3036 w
(blocking) 4239 3036 w
(system) 4700 3036 w
(call) 720 3156 w
(into) 920 3156 w
(a) 1145 3156 w
(channel) 1236 3156 w
(operation.) 1649 3156 w
(We) 2214 3156 w
(can) 2392 3156 w
(apply) 2597 3156 w
(this) 2896 3156 w
(strategy) 3112 3156 w
(to) 3540 3156 w
(almost) 3675 3156 w
(any) 4038 3156 w
(system) 4244 3156 w
(resource) 4621 3156 w
(by) 720 3276 w
(implementing) 877 3276 w
(a) 1590 3276 w
(server) 1687 3276 w
(for) 2026 3276 w
(the) 2206 3276 w
(resource) 2402 3276 w
(in) 2862 3276 w
(a) 2994 3276 w
(process) 3090 3276 w
(that) 3505 3276 w
(communicates) 3737 3276 w
(with) 4479 3276 w
(clients) 4725 3276 w
(via) 720 3396 w
(channels.) 893 3396 w
(Not) 1423 3396 w
(only) 1633 3396 w
(can) 1875 3396 w
(we) 2081 3396 w
(multiplex) 2252 3396 w
(the) 2749 3396 w
(resource) 2942 3396 w
(among) 3399 3396 w
(several) 3770 3396 w
(clients) 4148 3396 w
(but) 4501 3396 w
(we) 4701 3396 w
(can) 4872 3396 w
(also) 720 3516 w
(implement) 961 3516 w
(the) 1524 3516 w
(client) 1724 3516 w
(interface) 2033 3516 w
(to) 2501 3516 w
(the) 2643 3516 w
(resource) 2842 3516 w
(entirely) 3305 3516 w
(in) 3711 3516 w
(terms) 3846 3516 w
(of) 4168 3516 w
(channel) 4310 3516 w
(opera\255) 4731 3516 w
(tions.) 720 3636 w
(Consider the case of) 720 3792 w
(alarms) 1747 3792 w
(in) 2104 3792 w
(a) 2228 3792 w
(multi-task) 2316 3792 w
(process.) 2858 3792 w
(Since) 3329 3792 w
(the) 3614 3792 w
(system) 3802 3792 w
(provides) 4175 3792 w
(only) 4624 3792 w
(one) 4861 3792 w
(alarm) 720 3912 w
(per) 1030 3912 w
(process,) 1226 3912 w
(two) 1668 3912 w
(tasks) 1879 3912 w
(cannot) 2167 3912 w
(simultaneously) 2531 3912 w
(set) 3296 3912 w
(alarms.) 3476 3912 w
(Further,) 3900 3912 w
(when) 4321 3912 w
(an) 4614 3912 w
(alarm) 4767 3912 w
(expires,) 720 4032 w
(it) 1152 4032 w
(is) 1261 4032 w
(difficult) 1384 4032 w
(to) 1802 4032 w
(guarantee) 1944 4032 w
(that) 2474 4032 w
(the) 2709 4032 w
(proper) 2908 4032 w
(task) 3277 4032 w
(is) 3522 4032 w
(selected) 3646 4032 w
(for) 4089 4032 w
(execution) 4272 4032 w
(since) 4791 4032 w
(that) 720 4152 w
(requires) 966 4152 w
(the) 1419 4152 w
(cooperation) 1628 4152 w
(of) 2259 4152 w
(the) 2411 4152 w
(currently) 2620 4152 w
(executing) 3105 4152 w
(task.) 3635 4152 w
(Finally,) 3954 4152 w
(unlike) 4350 4152 w
(system) 4700 4152 w
(calls,) 720 4272 w
(which) 1009 4272 w
(return) 1332 4272 w
(an) 1673 4272 w
(error) 1832 4272 w
(indication) 2114 4272 w
(when) 2634 4272 w
(interrupted,) 2934 4272 w
(most) 3556 4272 w
(Alef) 3841 4272 w
(run-time) 4075 4272 w
(functions,) 4556 4272 w
(including) 720 4392 w
(channel) 1225 4392 w
(send) 1658 4392 w
(and) 1945 4392 w
(receive) 2180 4392 w
(operations,) 2576 4392 w
(absorb) 3179 4392 w
(signals,) 3568 4392 w
(so) 3994 4392 w
(the) 4161 4392 w
(application) 4371 4392 w
(is) 4960 4392 w
(unlikely) 720 4512 w
(to) 1153 4512 w
(see) 1307 4512 w
(the) 1526 4512 w
(alarm.) 1737 4512 w
(We) 2130 4512 w
(can) 2329 4512 w
(solve) 2554 4512 w
(these) 2860 4512 w
(problems) 3179 4512 w
(by) 3693 4512 w
(implementing) 3865 4512 w
(an) 4593 4512 w
(alarm) 4767 4512 w
(server to administer alarms.) 720 4632 w
(An) 720 4788 w
(alarm) 901 4788 w
(server) 1224 4788 w
(is) 1571 4788 w
(a) 1701 4788 w
(process) 1806 4788 w
(that) 2231 4788 w
(accepts) 2473 4788 w
(alarm) 2888 4788 w
(requests) 3212 4788 w
(on) 3680 4788 w
(a) 3854 4788 w
(common) 3960 4788 w
(channel) 4432 4788 w
(and) 4860 4788 w
(replies) 720 4908 w
(to) 1092 4908 w
(clients) 1237 4908 w
(on) 1599 4908 w
(a) 1769 4908 w
(private) 1871 4908 w
(channel) 2251 4908 w
(when) 2675 4908 w
(the) 2979 4908 w
(alarm) 3181 4908 w
(interval) 3501 4908 w
(expires.) 3908 4908 w
(Alef) 4375 4908 w
(channels) 4612 4908 w
(transport) 720 5028 w
(any) 1212 5028 w
(Alef) 1425 5028 w
(type) 1660 5028 w
(and) 1913 5028 w
(since) 2138 5028 w
(a) 2432 5028 w
(channel) 2532 5028 w
(is) 2954 5028 w
(a) 3079 5028 w
(type,) 3179 5028 w
(we) 3464 5028 w
(can) 3642 5028 w
(send) 3855 5028 w
(the) 4132 5028 w
(identity) 4332 5028 w
(of) 4742 5028 w
(the) 4885 5028 w
(return) 720 5148 w
(channel) 1059 5148 w
(on) 1476 5148 w
(an) 1639 5148 w
(existing) 1795 5148 w
(channel.) 2221 5148 w
(A) 2701 5148 w
(client) 2809 5148 w
(sends) 3112 5148 w
(the) 3434 5148 w
(alarm) 3628 5148 w
(server) 3940 5148 w
(a) 4276 5148 w
(message) 4370 5148 w
(con\255) 4833 5148 w
(taining) 720 5268 w
(the) 1093 5268 w
(number) 1285 5268 w
(of) 1699 5268 w
(milliseconds) 1835 5268 w
(until) 2477 5268 w
(the) 2734 5268 w
(alarm) 2927 5268 w
(occurs) 3238 5268 w
(and) 3593 5268 w
(an) 3811 5268 w
(allocated) 3966 5268 w
(return) 4440 5268 w
(chan\255) 4777 5268 w
(nel.) 720 5388 w
(Since) 977 5388 w
(a) 1275 5388 w
(channel) 1376 5388 w
(message) 1799 5388 w
(must) 2269 5388 w
(be) 2558 5388 w
(singular,) 2723 5388 w
(we) 3192 5388 w
(use) 3371 5388 w
(a) 3586 5388 w
(tuple) 3687 5388 w
(to) 3980 5388 w
(bundle) 4123 5388 w
(the) 4503 5388 w
(values.) 4703 5388 w
(The) 720 5508 w
(alarm) 939 5508 w
(server) 1250 5508 w
(sends) 1586 5508 w
(an) 1908 5508 w
(integer) 2064 5508 w
(value) 2446 5508 w
(on) 2739 5508 w
(the) 2901 5508 w
(return) 3095 5508 w
(channel) 3433 5508 w
(when) 3849 5508 w
(the) 4145 5508 w
(alarm) 4339 5508 w
(expires.) 4651 5508 w
(Notice) 720 5628 w
(that) 1078 5628 w
(the) 1318 5628 w
(alarm) 1522 5628 w
(server) 1844 5628 w
(does) 2190 5628 w
(not) 2470 5628 w
(actually) 2679 5628 w
(generate) 3098 5628 w
(operating) 3572 5628 w
(system) 4087 5628 w
(alarms) 4476 5628 w
(that) 4849 5628 w
(interrupt) 720 5748 w
(its) 1188 5748 w
(clients;) 1345 5748 w
(instead,) 1733 5748 w
(it) 2159 5748 w
(uses) 2266 5748 w
(channel) 2527 5748 w
(messages) 2945 5748 w
(to) 3461 5748 w
(simulate) 3600 5748 w
(the) 4053 5748 w
(expiration) 4249 5748 w
(of) 4784 5748 w
(an) 4923 5748 w
(alarm.) 720 5868 w
(The) 720 6024 w
(alarm) 958 6024 w
(server) 1288 6024 w
(must) 1642 6024 w
(simultaneously) 1942 6024 w
(count) 2728 6024 w
(down) 3058 6024 w
(pending) 3378 6024 w
(alarms) 3832 6024 w
(and) 4213 6024 w
(service) 4451 6024 w
(new) 4845 6024 w
(requests) 720 6144 w
(on) 1187 6144 w
(its) 1360 6144 w
(input) 1527 6144 w
(channel.) 1830 6144 w
(Since) 2321 6144 w
(it) 2623 6144 w
(can) 2739 6144 w
10 /LucidaSansUnicode20 f
(\031) 2907 6144 w
10 /LucidaSansUnicode00 f
(t) 2939 6144 w
(count) 3026 6144 w
(alarms) 3349 6144 w
(while) 3723 6144 w
(blocked) 4025 6144 w
(in) 4455 6144 w
(a) 4595 6144 w
(receive) 4699 6144 w
(operation,) 720 6264 w
(it) 1257 6264 w
(must) 1363 6264 w
(only) 1646 6264 w
(attempt) 1890 6264 w
(to) 2308 6264 w
(receive) 2446 6264 w
(on) 2827 6264 w
(the) 2990 6264 w
(input) 3186 6264 w
(channel) 3480 6264 w
(when) 3898 6264 w
(it) 4196 6264 w
(knows) 4303 6264 w
(that) 4653 6264 w
(the) 4885 6264 w
(operation will not block.) 720 6384 w
(The) 720 6540 w
(unary) 946 6540 w
10 /LucidaTypewriter f
(?) 1263 6540 w
10 /LucidaSansUnicode00 f
(operator) 1380 6540 w
(is) 1840 6540 w
(a) 1965 6540 w
(predicate) 2065 6540 w
(returning) 2561 6540 w
(the) 3058 6540 w
(state) 3259 6540 w
(of) 3541 6540 w
(the) 3685 6540 w
(channel) 3886 6540 w
(supplied) 4309 6540 w
(as) 4771 6540 w
(its) 4923 6540 w
(operand.) 720 6660 w
(When) 1220 6660 w
(the) 1521 6660 w
(operator) 1711 6660 w
(precedes) 2160 6660 w
(the) 2631 6660 w
(channel,) 2820 6660 w
(it) 3263 6660 w
(is) 3363 6660 w
(called) 3477 6660 w
(the) 3794 6660 w
10 /LucidaSans-Italic f
(can-receive) 3983 6660 w
10 /LucidaSansUnicode00 f
(operator,) 4593 6660 w
(and) 720 6780 w
(evaluates) 947 6780 w
(to) 1447 6780 w
(1) 1592 6780 w
(if) 1702 6780 w
(a) 1815 6780 w
(message) 1917 6780 w
(is) 2388 6780 w
(available) 2515 6780 w
(on) 2985 6780 w
(the) 3155 6780 w
(channel.) 3357 6780 w
(The) 3845 6780 w
(postfix) 4073 6780 w
(form) 4459 6780 w
(of) 4739 6780 w
(the) 4885 6780 w
(operator,) 720 6900 w
(called) 1217 6900 w
10 /LucidaSans-Italic f
(can-send) 1550 6900 w
10 /LucidaSansUnicode00 f
(,) 2011 6900 w
(evaluates) 2093 6900 w
(to) 2596 6900 w
(1) 2744 6900 w
(when) 2857 6900 w
(it) 3163 6900 w
(is) 3278 6900 w
(possible) 3407 6900 w
(to) 3859 6900 w
(send) 4006 6900 w
(on) 4287 6900 w
(the) 4459 6900 w
(channel) 4663 6900 w
(without) 720 7020 w
(blocking.) 1147 7020 w
(Because) 1688 7020 w
(the) 2140 7020 w
(check) 2358 7020 w
(of) 2699 7020 w
(channel) 2860 7020 w
(status) 3300 7020 w
(and) 3656 7020 w
(a) 3899 7020 w
(subsequent) 4017 7020 w
(send) 4643 7020 w
(or) 4938 7020 w
(receive) 720 7140 w
(operation) 1105 7140 w
(on) 1614 7140 w
(the) 1781 7140 w
(channel) 1980 7140 w
(are) 2400 7140 w
(not) 2595 7140 w
(atomic,) 2798 7140 w
(the) 3199 7140 w
(can-send) 3397 7140 w
(and) 3898 7140 w
(can-receive) 4121 7140 w
(opera\255) 4731 7140 w
(tors) 720 7260 w
(are) 953 7260 w
(only) 1149 7260 w
(reliable) 1397 7260 w
(when) 1799 7260 w
(there) 2100 7260 w
(is) 2396 7260 w
(no) 2520 7260 w
(opportunity) 2687 7260 w
(for) 3299 7260 w
(transfer) 3482 7260 w
(of) 3906 7260 w
(control) 4048 7260 w
(between) 4434 7260 w
(the) 4885 7260 w
cleartomark
showpage
saveobj restore
%%EndPage: 16 16
%%Page: 17 17
/saveobj save def
mark
17 pagesetup
10 /LucidaSansUnicode00 f
(\255 17 \255) 2752 480 w
(execution) 720 840 w
(of) 1246 840 w
(the) 1395 840 w
(predicate) 1601 840 w
(and) 2102 840 w
(the) 2332 840 w
(channel) 2537 840 w
(operation.) 2964 840 w
(For) 3543 840 w
(example,) 3749 840 w
(although) 4244 840 w
(it) 4724 840 w
(may) 4840 840 w
(look correct, the code segment) 720 960 w
9 /LucidaTypewriter f
(if\(?ch\)) 1528 1130 w
(a) 2048 1240 w
(=) 2178 1240 w
(<-ch;) 2308 1240 w
10 /LucidaSansUnicode00 f
(only) 720 1420 w
(works) 959 1420 w
(when) 1282 1420 w
(there) 1574 1420 w
(is) 1861 1420 w
(a) 1977 1420 w
(single) 2068 1420 w
(receiver) 2393 1420 w
(on) 2811 1420 w
(the) 2970 1420 w
(channel) 3161 1420 w
(or) 3574 1420 w
(when) 3712 1420 w
(the) 4005 1420 w
(channel) 4196 1420 w
(connects) 4609 1420 w
(tasks) 720 1540 w
(in) 1012 1540 w
(the) 1143 1540 w
(same) 1338 1540 w
(process;) 1633 1540 w
(it) 2079 1540 w
(is) 2185 1540 w
(inappropriate) 2305 1540 w
(when) 3000 1540 w
(more) 3297 1540 w
(than) 3588 1540 w
(one) 3843 1540 w
(process) 4061 1540 w
(attempts) 4474 1540 w
(to) 4942 1540 w
(receive) 720 1660 w
(on) 1111 1660 w
(a) 1285 1660 w
(channel) 1391 1660 w
(because) 1819 1660 w
(execution) 2264 1660 w
(can) 2790 1660 w
(be) 3009 1660 w
(preempted) 3179 1660 w
(between) 3758 1660 w
(the) 4216 1660 w
(test) 4422 1660 w
(and) 4654 1660 w
(the) 4885 1660 w
(receive) 720 1780 w
(operation.) 1100 1780 w
(In) 1668 1780 w
(our) 1798 1780 w
(case) 2000 1780 w
(this) 2251 1780 w
(isn) 2468 1780 w
10 /LucidaSansUnicode20 f
(\031) 2610 1780 w
10 /LucidaSansUnicode00 f
(t) 2642 1780 w
(a) 2717 1780 w
(problem) 2810 1780 w
(because) 3254 1780 w
(the) 3686 1780 w
(alarm) 3879 1780 w
(server) 4190 1780 w
(is) 4525 1780 w
(the) 4643 1780 w
(only) 4836 1780 w
(process) 720 1900 w
(attempting) 1134 1900 w
(to) 1705 1900 w
(receive) 1843 1900 w
(on) 2224 1900 w
(its) 2387 1900 w
(input) 2545 1900 w
(channel.) 2839 1900 w
(However,) 3321 1900 w
(we) 3811 1900 w
(illustrate) 3985 1900 w
(the) 4452 1900 w
(solution) 4648 1900 w
(with) 720 2020 w
(a) 981 2020 w
(general) 1092 2020 w
(technique) 1509 2020 w
(that) 2043 2020 w
(accommodates) 2290 2020 w
(multiple) 3073 2020 w
(receivers.) 3526 2020 w
(We) 4078 2020 w
(achieve) 4275 2020 w
(this) 4691 2020 w
(by) 4925 2020 w
(using) 720 2140 w
(an) 1023 2140 w
10 /LucidaTypewriter f
(alt) 1177 2140 w
10 /LucidaSansUnicode00 f
(statement) 1430 2140 w
(and) 1951 2140 w
(an) 2169 2140 w
(asynchronous) 2324 2140 w
(channel) 3033 2140 w
(that) 3448 2140 w
(is) 3677 2140 w
(always) 3795 2140 w
(full) 4152 2140 w
(to) 4347 2140 w
(ensure) 4483 2140 w
(that) 4849 2140 w
(a receive operation will succeed.) 720 2260 w
(In the code fragment) 2359 2260 w
9 /LucidaTypewriter f
(chan\(int\)[1]) 1528 2430 w
(dummy;) 2373 2430 w
(alloc) 1528 2650 w
(dummy;) 1918 2650 w
(dummy) 1528 2760 w
(<-=) 1918 2760 w
(1;) 2178 2760 w
(/*) 3088 2760 w
(fill) 3283 2760 w
(the) 3608 2760 w
(channel) 3868 2760 w
(*/) 4388 2760 w
(while\(?ch\)) 1528 2870 w
(alt) 2048 2980 w
({) 2308 2980 w
(case) 2048 3090 w
(a) 2373 3090 w
(=) 2503 3090 w
(<-ch:) 2633 3090 w
(/*) 2568 3200 w
(process) 2763 3200 w
(message) 3283 3200 w
(*/) 3803 3200 w
(break) 2568 3310 w
(2;) 2958 3310 w
(/*) 3218 3310 w
(break) 3413 3310 w
(from) 3803 3310 w
(while) 4128 3310 w
(loop) 4518 3310 w
(*/) 4843 3310 w
(case) 2048 3420 w
(<-dummy:) 2373 3420 w
(dummy) 2568 3530 w
(<-=) 2958 3530 w
(1;) 3218 3530 w
(/*) 3608 3530 w
(refill) 3803 3530 w
(channel) 4258 3530 w
(*/) 4778 3530 w
(break;) 2568 3640 w
(}) 2048 3750 w
10 /LucidaSansUnicode00 f
(the) 720 3930 w
10 /LucidaTypewriter f
(alt) 932 3930 w
10 /LucidaSansUnicode00 f
(statement) 1205 3930 w
(never) 1746 3930 w
(blocks;) 2070 3930 w
(if) 2472 3930 w
(there) 2596 3930 w
(is) 2906 3930 w
(nothing) 3044 3930 w
(available) 3477 3930 w
(on) 3958 3930 w
(the) 4139 3930 w
(input) 4352 3930 w
(channel) 4663 3930 w
(named) 720 4050 w
10 /LucidaTypewriter f
(ch) 1091 4050 w
10 /LucidaSansUnicode00 f
(,) 1235 4050 w
(the) 1309 4050 w
(case) 1506 4050 w
(associated) 1761 4050 w
(with) 2312 4050 w
(the) 2559 4050 w
(always-full) 2756 4050 w
(channel) 3332 4050 w
(is) 3751 4050 w
(selected,) 3873 4050 w
(the) 4346 4050 w
(channel) 4542 4050 w
(is) 4960 4050 w
(refilled,) 720 4170 w
(and) 1133 4170 w
(the) 1354 4170 w
(loop) 1550 4170 w
(repeats.) 1805 4170 w
(Eventually,) 2269 4170 w
(either) 2830 4170 w
(the) 3152 4170 w
(can-receive) 3348 4170 w
(predicate) 3956 4170 w
(evaluates) 4448 4170 w
(to) 4942 4170 w
(zero) 720 4290 w
(or) 975 4290 w
(data) 1117 4290 w
(appears) 1367 4290 w
(on) 1791 4290 w
(the) 1954 4290 w
(channel.) 2149 4290 w
(In) 2630 4290 w
(the) 2761 4290 w
(latter) 2956 4290 w
(case,) 3251 4290 w
(the) 3536 4290 w
(message) 3730 4290 w
(is) 4193 4290 w
(received) 4312 4290 w
(in) 4755 4290 w
(the) 4885 4290 w
(first) 720 4410 w
(case) 963 4410 w
(of) 1224 4410 w
(the) 1370 4410 w
10 /LucidaTypewriter f
(alt) 1573 4410 w
10 /LucidaSansUnicode00 f
(statement) 1837 4410 w
(and) 2369 4410 w
(the) 2597 4410 w
(special) 2800 4410 w
(form) 3182 4410 w
(of) 3462 4410 w
(the) 3608 4410 w
10 /LucidaTypewriter f
(break) 3811 4410 w
10 /LucidaSansUnicode00 f
(statement) 4219 4410 w
(termi\255) 4751 4410 w
(nates) 720 4530 w
(the) 1023 4530 w
10 /LucidaTypewriter f
(while) 1220 4530 w
10 /LucidaSansUnicode00 f
(loop) 1622 4530 w
(by) 1878 4530 w
(jumping) 2035 4530 w
(out) 2478 4530 w
(of) 2680 4530 w
(two) 2820 4530 w
(levels) 3037 4530 w
(of) 3352 4530 w
(nested) 3491 4530 w
(control.) 3857 4530 w
(Notice) 4304 4530 w
(that) 4653 4530 w
(the) 4885 4530 w
(always-full) 720 4650 w
(channel) 1306 4650 w
(must) 1735 4650 w
(be) 2030 4650 w
(asynchronous,) 2201 4650 w
(otherwise) 2956 4650 w
(the) 3478 4650 w
(thread) 3685 4650 w
(blocks) 4051 4650 w
(when) 4416 4650 w
(it) 4726 4650 w
(first) 4845 4650 w
(sends on the channel and never awakens.) 720 4770 w
(This) 720 4926 w
(trick) 958 4926 w
(allows) 1207 4926 w
(the) 1543 4926 w
(alarm) 1732 4926 w
(server) 2039 4926 w
(to) 2370 4926 w
(poll) 2502 4926 w
(its) 2718 4926 w
(input) 2869 4926 w
(channel) 3156 4926 w
(for) 3567 4926 w
(new) 3740 4926 w
(alarms) 3969 4926 w
(while) 4327 4926 w
(counting) 4614 4926 w
(down existing alarms.) 720 5046 w
(The alarm server looks like:) 1854 5046 w
9 /LucidaTypewriter f
(void) 1008 5216 w
(alarmproc\(chan\(tuple\(int,) 1008 5326 w
(chan\(int\)\)\)) 2698 5326 w
(alrmch\)) 3478 5326 w
({) 1008 5436 w
(uint) 1528 5546 w
(t;) 1853 5546 w
(int) 1528 5656 w
(a,) 1788 5656 w
(dt;) 1983 5656 w
(chan\(int\)[1]) 1528 5766 w
(dummy;) 2373 5766 w
(chan\(int\)) 1528 5876 w
(reply;) 2178 5876 w
(alarmpid) 1528 6096 w
(=) 2113 6096 w
(getpid\(\);) 2243 6096 w
(alloc) 1528 6206 w
(dummy;) 1918 6206 w
(dummy) 1528 6316 w
(<-=) 1918 6316 w
(1;) 2178 6316 w
(alist) 1528 6426 w
(=) 1918 6426 w
(nil;) 2048 6426 w
(t) 1528 6536 w
(=) 1658 6536 w
(msec\(\);) 1788 6536 w
cleartomark
showpage
saveobj restore
%%EndPage: 17 17
%%Page: 18 18
/saveobj save def
mark
18 pagesetup
10 /LucidaSansUnicode00 f
(\255 18 \255) 2752 480 w
9 /LucidaTypewriter f
(for\(;;\)) 1528 830 w
({) 2048 830 w
(if\(alist) 2048 940 w
(==) 2633 940 w
(nil\)) 2828 940 w
({) 3153 940 w
(/*) 2568 1050 w
(no) 2763 1050 w
(alarms) 2958 1050 w
(-) 3413 1050 w
(get) 3543 1050 w
(client) 3803 1050 w
(request) 4258 1050 w
(*/) 4778 1050 w
(\(a,) 2568 1160 w
(reply\)) 2828 1160 w
(=) 3283 1160 w
(<-alrmch;) 3413 1160 w
(addalarm\(alist,) 2568 1270 w
(a,) 3608 1270 w
(reply\);) 3803 1270 w
(t) 2568 1380 w
(=) 2698 1380 w
(msec\(\);) 2828 1380 w
(}) 2048 1490 w
(else) 2178 1490 w
(while\(?alrmch\)) 2503 1490 w
({) 3478 1490 w
(alt) 2568 1600 w
({) 2828 1600 w
(case) 2568 1710 w
(\(a,) 2893 1710 w
(reply\)) 3153 1710 w
(=) 3608 1710 w
(<-alrmch:) 3738 1710 w
(addalarm\(alist,) 3088 1820 w
(a,) 4128 1820 w
(reply\);) 4323 1820 w
(break) 3088 1930 w
(2;) 3478 1930 w
(case) 2568 2040 w
(<-dummy:) 2893 2040 w
(dummy) 3088 2150 w
(<-=) 3478 2150 w
(1;) 3738 2150 w
(break;) 3088 2260 w
(}) 2568 2370 w
(}) 2048 2480 w
(sleep\(1\);) 2048 2590 w
(/*) 3608 2590 w
(sleep) 3803 2590 w
(1ms) 4193 2590 w
(*/) 4453 2590 w
(dt) 2048 2700 w
(=) 2243 2700 w
(msec\(\)-t;) 2373 2700 w
(t) 2048 2810 w
(+=) 2178 2810 w
(dt;) 2373 2810 w
(for\(each) 2048 3040 w
(alarm) 2633 3040 w
(in) 3023 3040 w
(alist\)) 3218 3040 w
({) 3673 3040 w
(if\(alarm.msec) 2568 3150 w
(<=) 3478 3150 w
(dt\)) 3673 3150 w
({) 3933 3150 w
(/*) 3088 3260 w
(send) 3283 3260 w
(alarm) 3608 3260 w
(to) 3998 3260 w
(client) 4193 3260 w
(*/) 4648 3260 w
(alarm.ch) 3088 3370 w
(<-=) 3673 3370 w
(1;) 3933 3370 w
(deletealarm\(alarm\);) 3088 3480 w
(}) 2568 3590 w
(else) 2698 3590 w
(alarm.msec) 3088 3700 w
(-=) 3803 3700 w
(dt;) 3998 3700 w
(}) 2048 3810 w
(}) 1528 3920 w
(}) 1008 4030 w
10 /LucidaSansUnicode00 f
(The) 720 4210 w
(alarm) 939 4210 w
(server) 1250 4210 w
(maintains) 1585 4210 w
(a) 2096 4210 w
(list) 2189 4210 w
(of) 2374 4210 w
(pending) 2511 4210 w
(alarms.) 2947 4210 w
(When) 3374 4210 w
(the) 3679 4210 w
(list) 3873 4210 w
(is) 4058 4210 w
(empty,) 4177 4210 w
(the) 4549 4210 w
(server) 4743 4210 w
(blocks) 720 4330 w
(on) 1066 4330 w
(the) 1222 4330 w
(input) 1410 4330 w
(channel) 1696 4330 w
(until) 2106 4330 w
(a) 2358 4330 w
(request) 2446 4330 w
(arrives; otherwise, it tests the channel before) 2845 4330 w
(attempting) 720 4450 w
(to) 1302 4450 w
(receive.) 1451 4450 w
(When) 1907 4450 w
(there) 2224 4450 w
(are) 2527 4450 w
(pending) 2730 4450 w
(alarms) 3178 4450 w
(the) 3553 4450 w
(server) 3759 4450 w
(wakes) 4108 4450 w
(up) 4457 4450 w
(approxi\255) 4634 4450 w
(mately) 720 4570 w
(every) 1091 4570 w
(millisecond,) 1397 4570 w
(calls) 2031 4570 w
(the) 2295 4570 w
(function) 2499 4570 w
10 /LucidaTypewriter f
(msec) 2949 4570 w
10 /LucidaSansUnicode00 f
(to) 3286 4570 w
(get) 3433 4570 w
(the) 3637 4570 w
(current) 3840 4570 w
(time) 4238 4570 w
(in) 4501 4570 w
(millisec\255) 4640 4570 w
(onds,) 720 4690 w
(and) 1027 4690 w
(decrements) 1245 4690 w
(the) 1849 4690 w
(count) 2042 4690 w
(for) 2353 4690 w
(each) 2530 4690 w
(alarm) 2792 4690 w
(in) 3103 4690 w
(the) 3232 4690 w
(list.) 3425 4690 w
(When) 3673 4690 w
(a) 3977 4690 w
(count) 4070 4690 w
(reaches) 4382 4690 w
(zero,) 4793 4690 w
(the) 720 4810 w
(server) 916 4810 w
(sends) 1254 4810 w
(an) 1577 4810 w
(integer) 1734 4810 w
(on) 2117 4810 w
(the) 2280 4810 w
(private) 2475 4810 w
(channel) 2848 4810 w
(to) 3265 4810 w
(the) 3403 4810 w
(client) 3598 4810 w
(and) 3902 4810 w
(removes) 4122 4810 w
(the) 4572 4810 w
(alarm) 4767 4810 w
(from) 720 4930 w
(the) 988 4930 w
(list.) 1179 4930 w
(The) 1425 4930 w
(complete) 1642 4930 w
(implementation) 2124 4930 w
(is) 2922 4930 w
(more) 3039 4930 w
(complicated,) 3327 4930 w
(involving) 3984 4930 w
(clock) 4459 4930 w
(wrap-) 4746 4930 w
(around) 720 5050 w
(and) 1106 5050 w
(other) 1328 5050 w
(details) 1627 5050 w
(irrelevant) 1988 5050 w
(here,) 2487 5050 w
(but) 2775 5050 w
(the) 2978 5050 w
(structure) 3174 5050 w
(of) 3653 5050 w
(the) 3792 5050 w
(algorithm) 3988 5050 w
(is) 4498 5050 w
(common) 4619 5050 w
(to servers that multiplex a resource among several clients.) 720 5170 w
(With) 720 5326 w
(an) 981 5326 w
(alarm) 1145 5326 w
(server) 1465 5326 w
(we) 1809 5326 w
(can) 1989 5326 w
(modify) 2205 5326 w
(our) 2588 5326 w
(program) 2800 5326 w
(to) 3264 5326 w
(handle) 3410 5326 w
10 /LucidaSansUnicode20 f
(\030) 3785 5326 w
10 /LucidaSansUnicode00 f
(double-click) 3817 5326 w
10 /LucidaSansUnicode20 f
(\031) 4427 5326 w
10 /LucidaSansUnicode00 f
(events;) 4507 5326 w
(for) 4901 5326 w
(example,) 720 5446 w
(a) 1203 5446 w
(double) 1296 5446 w
(click) 1667 5446 w
(of) 1922 5446 w
(a) 2057 5446 w
(mouse) 2149 5446 w
(button.) 2509 5446 w
(When) 2932 5446 w
(the) 3235 5446 w
(mouse) 3427 5446 w
(task) 3787 5446 w
(in) 4025 5446 w
(the) 4153 5446 w
(executive) 4345 5446 w
(pro\255) 4842 5446 w
(cess) 720 5566 w
(receives) 978 5566 w
(an) 1419 5566 w
(input,) 1585 5566 w
(it) 1920 5566 w
(sets) 2036 5566 w
(an) 2281 5566 w
(alarm) 2448 5566 w
(for,) 2771 5566 w
(say,) 2992 5566 w
(500) 3232 5566 w
(milliseconds,) 3471 5566 w
(and) 4157 5566 w
(uses) 4387 5566 w
(an) 4657 5566 w
10 /LucidaTypewriter f
(alt) 4824 5566 w
10 /LucidaSansUnicode00 f
(statement) 720 5686 w
(to receive a message on either the alarm channel or the normal input channel.) 1237 5686 w
(If) 720 5806 w
(the) 823 5806 w
(alarm) 1015 5806 w
(occurs) 1325 5806 w
(before) 1679 5806 w
(an) 2030 5806 w
(input,) 2184 5806 w
(the) 2506 5806 w
(original) 2698 5806 w
(event) 3104 5806 w
(is) 3405 5806 w
(interpreted) 3523 5806 w
(as) 4102 5806 w
(a) 4246 5806 w
(single-click;) 4339 5806 w
(if) 4974 5806 w
(the) 720 5926 w
(proper) 923 5926 w
(mouse) 1296 5926 w
(event) 1667 5926 w
(occurs) 1978 5926 w
(before) 2343 5926 w
(the) 2705 5926 w
(alarm) 2907 5926 w
(expires,) 3227 5926 w
(the) 3663 5926 w
(input) 3865 5926 w
(is) 4165 5926 w
(processed) 4292 5926 w
(as) 4832 5926 w
(a) 4985 5926 w
(double-click.) 720 6046 w
(The receive loop in the mouse task is modified as follows:) 720 6202 w
cleartomark
showpage
saveobj restore
%%EndPage: 18 18
%%Page: 19 19
/saveobj save def
mark
19 pagesetup
10 /LucidaSansUnicode00 f
(\255 19 \255) 2752 480 w
9 /LucidaTypewriter f
(void) 1008 830 w
(mousetask\(chan\(Mevent\)) 1008 940 w
(mc,) 2503 940 w
(chan\(tuple\(int,) 2763 940 w
(chan\(int\)\)\)) 3803 940 w
(alarm\)) 4583 940 w
({) 1008 1050 w
(Mevent) 1528 1160 w
(m,) 1983 1160 w
(lastm;) 2178 1160 w
(chan\(int\)) 1528 1270 w
(dummy,) 2178 1270 w
(ch;) 2633 1270 w
(alloc) 1528 1490 w
(dummy;) 1918 1490 w
(ch) 1528 1600 w
(=) 1723 1600 w
(dummy;) 1853 1600 w
(for\(;;\)) 1528 1710 w
({) 2048 1710 w
(alt) 2048 1820 w
({) 2308 1820 w
(case) 2048 1930 w
(m) 2373 1930 w
(=) 2503 1930 w
(<-mc:) 2633 1930 w
(if\(\(m.buttons&0x07\)) 2568 2040 w
(==) 3868 2040 w
(0\)) 4063 2040 w
(break;) 3088 2150 w
(if\(ch) 2568 2260 w
(==) 2958 2260 w
(dummy\)) 3153 2260 w
({) 3608 2260 w
(/*) 3088 2370 w
(no) 3283 2370 w
(alarm) 3478 2370 w
(pending) 3868 2370 w
(*/) 4388 2370 w
(alloc) 3088 2480 w
(ch;) 3478 2480 w
(alarm) 3088 2590 w
(<-=) 3478 2590 w
(\(500,) 3738 2590 w
(ch\);) 4128 2590 w
(lastm) 3088 2700 w
(=) 3478 2700 w
(m;) 3608 2700 w
(}) 2568 2810 w
(else) 2698 2810 w
({) 3023 2810 w
(task) 3088 2920 w
(consumealarm\(ch\);) 3413 2920 w
(ch) 3088 3030 w
(=) 3283 3030 w
(dummy;) 3413 3030 w
(if\(lastm.buttons) 3088 3140 w
(==) 4193 3140 w
(m.buttons) 4388 3140 w
(&&) 3088 3250 w
(eqpt\(lastm.Point,) 3283 3250 w
(m.Point\)\)) 4453 3250 w
(doubleclick\(m\);) 3608 3360 w
(else) 3088 3470 w
(singleclick\(m\);) 3608 3580 w
(}) 2568 3690 w
(break;) 2568 3800 w
(case) 2048 3910 w
(<-ch:) 2373 3910 w
(/*) 3088 3910 w
(alarm) 3283 3910 w
(expired) 3673 3910 w
(*/) 4193 3910 w
(unalloc) 2568 4020 w
(ch;) 3088 4020 w
(ch) 2568 4130 w
(=) 2763 4130 w
(dummy;) 2893 4130 w
(singleclick\(lastm\);) 2568 4240 w
(break;) 2568 4350 w
(}) 2048 4460 w
(}) 1528 4570 w
(}) 1008 4680 w
(void) 1008 4910 w
(consumealarm\(chan\(int\)) 1008 5020 w
(ch\)) 2503 5020 w
({) 1008 5130 w
(<-ch;) 1528 5240 w
(unalloc) 1528 5350 w
(ch;) 2048 5350 w
(}) 1008 5460 w
10 /LucidaSansUnicode00 f
(We) 720 5676 w
(replace) 908 5676 w
(the) 1305 5676 w
(receive) 1506 5676 w
(operation) 1893 5676 w
(with) 2404 5676 w
(an) 2656 5676 w
10 /LucidaTypewriter f
(alt) 2820 5676 w
10 /LucidaSansUnicode00 f
(statement) 3083 5676 w
(that) 3614 5676 w
(receives) 3852 5676 w
(on) 4291 5676 w
(the) 4461 5676 w
(channel) 4663 5676 w
(from) 720 5796 w
(the) 999 5796 w
(mouse) 1201 5796 w
(slave) 1571 5796 w
(process) 1861 5796 w
(and) 2282 5796 w
(another) 2509 5796 w
(channel) 2930 5796 w
(referenced) 3354 5796 w
(by) 3920 5796 w
(the) 4082 5796 w
(variable) 4284 5796 w
(named) 4711 5796 w
10 /LucidaTypewriter f
(ch) 720 5916 w
10 /LucidaSansUnicode00 f
(.) 864 5916 w
(That) 971 5916 w
(variable) 1231 5916 w
(either) 1654 5916 w
(refers) 1978 5916 w
(to) 2303 5916 w
(a) 2444 5916 w
(return) 2542 5916 w
(channel) 2884 5916 w
(from) 3304 5916 w
(the) 3579 5916 w
(alarm) 3777 5916 w
(server) 4093 5916 w
(or) 4433 5916 w
(a) 4578 5916 w
(dummy) 4677 5916 w
(channel) 720 6036 w
(that) 1136 6036 w
(is) 1366 6036 w
(always) 1485 6036 w
(empty.) 1843 6036 w
(When) 2247 6036 w
(an) 2552 6036 w
(alarm) 2708 6036 w
(is) 3020 6036 w
(pending,) 3139 6036 w
10 /LucidaTypewriter f
(ch) 3607 6036 w
10 /LucidaSansUnicode00 f
(refers) 3790 6036 w
(to) 4111 6036 w
(the) 4247 6036 w
(return) 4440 6036 w
(chan\255) 4777 6036 w
(nel) 720 6156 w
(from) 908 6156 w
(the) 1181 6156 w
(alarm) 1377 6156 w
(server,) 1691 6156 w
(both) 2061 6156 w
(cases) 2325 6156 w
(of) 2630 6156 w
(the) 2769 6156 w
10 /LucidaTypewriter f
(alt) 2965 6156 w
10 /LucidaSansUnicode00 f
(are) 3222 6156 w
(active,) 3416 6156 w
(and) 3770 6156 w
(either) 3992 6156 w
(a) 4315 6156 w
(mouse) 4412 6156 w
(event) 4777 6156 w
(message) 720 6276 w
(or) 1182 6276 w
(an) 1322 6276 w
(integer) 1477 6276 w
(indicating) 1858 6276 w
(an) 2375 6276 w
(alarm) 2529 6276 w
(timeout) 2839 6276 w
(is) 3251 6276 w
(received.) 3368 6276 w
(When) 3873 6276 w
(no) 4176 6276 w
(alarm) 4336 6276 w
(is) 4646 6276 w
(pend\255) 4763 6276 w
(ing,) 720 6396 w
10 /LucidaTypewriter f
(ch) 939 6396 w
10 /LucidaSansUnicode00 f
(refers) 1117 6396 w
(to) 1433 6396 w
(the) 1565 6396 w
(dummy) 1754 6396 w
(channel,) 2151 6396 w
(the) 2594 6396 w
(second) 2783 6396 w
(case) 3161 6396 w
(of) 3408 6396 w
(the) 3540 6396 w
10 /LucidaTypewriter f
(alt) 3729 6396 w
10 /LucidaSansUnicode00 f
(is) 3979 6396 w
(never) 4093 6396 w
(selected,) 4394 6396 w
(and) 4860 6396 w
(only) 720 6516 w
(mouse) 957 6516 w
(events) 1313 6516 w
(are) 1660 6516 w
(received.) 1845 6516 w
(We) 2346 6516 w
(begin) 2521 6516 w
(by) 2826 6516 w
(waiting) 2974 6516 w
(for) 3358 6516 w
(a) 3530 6516 w
(mouse) 3618 6516 w
(event.) 3974 6516 w
(When a button) 4333 6516 w
(click) 720 6636 w
(occurs,) 972 6636 w
(we) 1355 6636 w
(save) 1523 6636 w
(it,) 1772 6636 w
(allocate) 1905 6636 w
(a) 2313 6636 w
(new) 2403 6636 w
(channel,) 2633 6636 w
(send) 3077 6636 w
(a) 3344 6636 w
(tuple) 3434 6636 w
(containing) 3716 6636 w
(it) 4261 6636 w
(and) 4362 6636 w
(the) 4577 6636 w
(alarm) 4767 6636 w
(interval) 720 6756 w
(to) 1130 6756 w
(the) 1277 6756 w
(alarm) 1481 6756 w
(server,) 1803 6756 w
(and) 2181 6756 w
(set) 2410 6756 w
10 /LucidaTypewriter f
(ch) 2603 6756 w
10 /LucidaSansUnicode00 f
(to) 2796 6756 w
(refer) 2943 6756 w
(to) 3223 6756 w
(the) 3370 6756 w
(new) 3574 6756 w
(channel.) 3818 6756 w
(When) 4307 6756 w
(the) 4621 6756 w
10 /LucidaTypewriter f
(alt) 4824 6756 w
10 /LucidaSansUnicode00 f
(repeats,) 720 6876 w
(we) 1145 6876 w
(can) 1312 6876 w
(receive) 1514 6876 w
(either) 1889 6876 w
(a) 2204 6876 w
(mouse) 2293 6876 w
(event) 2650 6876 w
(or) 2947 6876 w
(an) 3083 6876 w
(alarm) 3234 6876 w
(expiration.) 3541 6876 w
(If) 4133 6876 w
(an) 4233 6876 w
(alarm) 4384 6876 w
(occurs,) 4691 6876 w
(we) 720 6996 w
(deallocate) 901 6996 w
(the) 1441 6996 w
(return) 1644 6996 w
(channel,) 1991 6996 w
(process) 2448 6996 w
(the) 2870 6996 w
(last) 3073 6996 w
(mouse) 3292 6996 w
(event) 3662 6996 w
(as) 3972 6996 w
(a) 4125 6996 w
(single) 4227 6996 w
(click,) 4563 6996 w
(and) 4860 6996 w
(assign) 720 7116 w
(the) 1080 7116 w
(always-empty) 1285 7116 w
(channel) 2013 7116 w
(to) 2440 7116 w
10 /LucidaTypewriter f
(ch) 2588 7116 w
10 /LucidaSansUnicode00 f
(,) 2732 7116 w
(thereby) 2814 7116 w
(deactivating) 3232 7116 w
(the) 3871 7116 w
(second) 4077 7116 w
(case) 4472 7116 w
(of) 4736 7116 w
(the) 4885 7116 w
10 /LucidaTypewriter f
(alt) 720 7236 w
10 /LucidaSansUnicode00 f
(statement.) 989 7236 w
(When) 1590 7236 w
(a) 1909 7236 w
(button) 2017 7236 w
(click) 2392 7236 w
(occurs) 2662 7236 w
(before) 3031 7236 w
(the) 3397 7236 w
(alarm) 3604 7236 w
(expires,) 3929 7236 w
(we) 4370 7236 w
(check) 4555 7236 w
(the) 4885 7236 w
cleartomark
showpage
saveobj restore
%%EndPage: 19 19
%%Page: 20 20
/saveobj save def
mark
20 pagesetup
10 /LucidaSansUnicode00 f
(\255 20 \255) 2752 480 w
(mouse) 720 840 w
(location) 1078 840 w
(and) 1498 840 w
(the) 1713 840 w
(button) 1903 840 w
(state) 2260 840 w
(to) 2531 840 w
(determine) 2664 840 w
(if) 3192 840 w
(it) 3293 840 w
(is) 3394 840 w
(a) 3509 840 w
(double-click) 3600 840 w
(or) 4246 840 w
(a) 4384 840 w
(single-click) 4475 840 w
(and) 720 960 w
(then) 948 960 w
(assign) 1212 960 w
(the) 1569 960 w
(dummy) 1771 960 w
(channel) 2181 960 w
(to) 2605 960 w
10 /LucidaTypewriter f
(ch) 2750 960 w
10 /LucidaSansUnicode00 f
(to) 2941 960 w
(deactivate) 3086 960 w
(the) 3624 960 w
(second) 3826 960 w
(case) 4217 960 w
(of) 4477 960 w
(the) 4622 960 w
10 /LucidaTypewriter f
(alt) 4824 960 w
10 /LucidaSansUnicode00 f
(statement.) 720 1080 w
(At) 1311 1080 w
(this) 1460 1080 w
(point) 1682 1080 w
(we) 1977 1080 w
(must) 2153 1080 w
(decide) 2439 1080 w
(what) 2800 1080 w
(to) 3074 1080 w
(do) 3216 1080 w
(with) 3384 1080 w
(the) 3633 1080 w
(alarm) 3832 1080 w
(that) 4149 1080 w
(is) 4384 1080 w
(pending) 4508 1080 w
(in) 4949 1080 w
(the) 720 1200 w
(alarm) 916 1200 w
(server.) 1230 1200 w
(We) 1632 1200 w
(could) 1815 1200 w
(send) 2121 1200 w
(a) 2393 1200 w
(message) 2488 1200 w
(to) 2952 1200 w
(the) 3090 1200 w
(server) 3285 1200 w
(canceling) 3622 1200 w
(the) 4119 1200 w
(alarm,) 4314 1200 w
(but) 4659 1200 w
(this) 4861 1200 w
(strategy) 720 1320 w
(is) 1165 1320 w
(tricky) 1299 1320 w
(and) 1621 1320 w
(complicates) 1855 1320 w
(the) 2485 1320 w
(alarm) 2694 1320 w
(server.) 3021 1320 w
(Instead,) 3436 1320 w
(we) 3875 1320 w
(could) 4062 1320 w
(let) 4382 1320 w
(the) 4558 1320 w
(alarm) 4767 1320 w
(expire) 720 1440 w
(and) 1067 1440 w
(discard) 1288 1440 w
(the) 1682 1440 w
(alarm) 1878 1440 w
(message) 2192 1440 w
(before) 2657 1440 w
(deallocating) 3012 1440 w
(the) 3642 1440 w
(channel.) 3838 1440 w
(We) 4320 1440 w
(choose) 4503 1440 w
(the) 4885 1440 w
(second) 720 1560 w
(model) 1115 1560 w
(and) 1468 1560 w
(use) 1699 1560 w
(a) 1919 1560 w
(new) 2025 1560 w
(task) 2271 1560 w
10 /LucidaTypewriter f
(consumealarm) 2524 1560 w
10 /LucidaSansUnicode00 f
(to) 3440 1560 w
(harvest) 3590 1560 w
(the) 3996 1560 w
(unneeded) 4203 1560 w
(alarm.) 4735 1560 w
(Notice) 720 1680 w
(that) 1061 1680 w
(this) 1285 1680 w
(strategy) 1497 1680 w
(is) 1921 1680 w
(only) 2034 1680 w
(appropriate) 2271 1680 w
(when) 2868 1680 w
(the) 3158 1680 w
(alarm) 3346 1680 w
(interval) 3652 1680 w
(is approximately the) 4046 1680 w
(same) 720 1800 w
(as) 1018 1800 w
(the) 1167 1800 w
(event) 1366 1800 w
(rate.) 1673 1800 w
(For) 1970 1800 w
(example,) 2170 1800 w
(if) 2659 1800 w
(events) 2769 1800 w
(occurred) 3127 1800 w
(thousands) 3597 1800 w
(of) 4145 1800 w
(times) 4287 1800 w
(a) 4597 1800 w
(second) 4696 1800 w
(and) 720 1920 w
(the) 935 1920 w
(alarm) 1125 1920 w
(interval) 1433 1920 w
(was) 1829 1920 w
(on) 2046 1920 w
(the) 2203 1920 w
(order) 2392 1920 w
(of) 2688 1920 w
(seconds,) 2820 1920 w
(we) 3281 1920 w
(would) 3448 1920 w
(expect) 3774 1920 w
(to) 4132 1920 w
(continually) 4264 1920 w
(gen\255) 4827 1920 w
(erate) 720 2040 w
(thousands) 1006 2040 w
(of) 1552 2040 w
(consumer) 1692 2040 w
(tasks) 2211 2040 w
(during) 2505 2040 w
(normal) 2866 2040 w
(operation.) 3249 2040 w
(We) 3820 2040 w
(could) 4004 2040 w
(add) 4312 2040 w
(alarms) 4535 2040 w
(for) 4901 2040 w
(keyboard events by making similar modifications to the keyboard task.) 720 2160 w
(The) 720 2316 w
(executive) 935 2316 w
(process) 1429 2316 w
(must) 1837 2316 w
(allocate) 2114 2316 w
(the) 2521 2316 w
(input) 2710 2316 w
(channel) 2997 2316 w
(to) 3408 2316 w
(the) 3540 2316 w
(alarm) 3730 2316 w
(server,) 4038 2316 w
(start) 4402 2316 w
(and) 4658 2316 w
(ter\255) 4873 2316 w
(minate) 720 2436 w
(the) 1087 2436 w
(alarm) 1277 2436 w
(server) 1585 2436 w
(process) 1917 2436 w
(and) 2326 2436 w
(pass) 2541 2436 w
(the) 2796 2436 w
(alarm) 2985 2436 w
(channel) 3292 2436 w
(to) 3703 2436 w
(the) 3835 2436 w
(mouse) 4024 2436 w
(task.) 4381 2436 w
(It) 4680 2436 w
(looks) 4780 2436 w
(like:) 720 2556 w
9 /LucidaTypewriter f
(void) 1008 2726 w
(main\(void\)) 1008 2836 w
({) 1008 2946 w
(chan\(int\)[100]) 1528 3056 w
(kbd;) 2503 3056 w
(chan\(int\)) 1528 3166 w
(term;) 2178 3166 w
(chan\(Mevent\)) 1528 3276 w
(mouse;) 2373 3276 w
(chan\(tuple\(int,) 1528 3386 w
(chan\(int\)\)\)) 2568 3386 w
(alarm;) 3348 3386 w
(alloc) 1528 3616 w
(kbd,) 1918 3616 w
(mouse,) 2243 3616 w
(term,) 2698 3616 w
(alarm;) 3088 3616 w
(proc) 1528 3726 w
(kbdproc\(kbd,) 1853 3726 w
(term\),) 2698 3726 w
(mouseproc\(mouse,) 3153 3726 w
(term\),) 4258 3726 w
(alarmproc\(alarm\);) 2048 3836 w
(task) 1528 3946 w
(kbdtask\(kbd\),) 1853 3946 w
(mousetask\(mouse,) 2763 3946 w
(alarm\);) 3868 3946 w
(<-term;) 1528 4176 w
(/*) 2568 4176 w
(main) 2763 4176 w
(thread) 3088 4176 w
(blocks) 3543 4176 w
(here) 3998 4176 w
(*/) 4323 4176 w
(postnote\(PNPROC,) 1528 4286 w
(mousepid,) 2633 4286 w
("kill"\);) 3283 4286 w
(postnote\(PNPROC,) 1528 4396 w
(kbdpid,) 2633 4396 w
("kill"\);) 3153 4396 w
(postnote\(PNPROC,) 1528 4506 w
(alarmpid,) 2633 4506 w
("kill"\);) 3283 4506 w
(exits\(nil\);) 1528 4616 w
(}) 1008 4726 w
10 /LucidaSansUnicode00 f
(This) 720 4906 w
(example) 963 4906 w
(illustrates) 1414 4906 w
(several) 1929 4906 w
(points.) 2307 4906 w
(First,) 2712 4906 w
(an) 2994 4906 w
(always-empty) 3149 4906 w
(channel) 3866 4906 w
(allows) 4282 4906 w
(selective) 4623 4906 w
(deactivation) 720 5026 w
(of) 1341 5026 w
(a) 1473 5026 w
(case) 1562 5026 w
(in) 1809 5026 w
(an) 1934 5026 w
10 /LucidaTypewriter f
(alt) 2085 5026 w
10 /LucidaSansUnicode00 f
(statement.) 2335 5026 w
(Second,) 2917 5026 w
(an) 3330 5026 w
(always-full) 3481 5026 w
(channel) 4049 5026 w
(allows) 4460 5026 w
(us) 4796 5026 w
(to) 4942 5026 w
(ensure) 720 5146 w
(that) 1092 5146 w
(a) 1327 5146 w
(channel) 1426 5146 w
(operation) 1847 5146 w
(will) 2356 5146 w
(not) 2564 5146 w
(block.) 2768 5146 w
(Third,) 3106 5146 w
(the) 3440 5146 w
(ability) 3639 5146 w
(to) 3977 5146 w
(send) 4119 5146 w
(a) 4395 5146 w
(channel) 4495 5146 w
(on) 4917 5146 w
(another) 720 5266 w
(channel) 1142 5266 w
(allows) 1567 5266 w
(us) 1917 5266 w
(to) 2078 5266 w
(implement) 2223 5266 w
(a) 2788 5266 w
(server) 2890 5266 w
(that) 3234 5266 w
(accepts) 3472 5266 w
(requests) 3883 5266 w
(on) 4347 5266 w
(a) 4517 5266 w
(common) 4619 5266 w
(channel and communicates with each client on a) 720 5386 w
(private) 3106 5386 w
(channel.) 3472 5386 w
(Finally,) 3946 5386 w
(since) 4321 5386 w
(tasks) 4603 5386 w
(are) 4888 5386 w
(cheap,) 720 5506 w
(it) 1072 5506 w
(is) 1171 5506 w
(often better to use a task to consume an unwanted message than it is to can\255) 1284 5506 w
(cel the message.) 720 5626 w
10 /LucidaSans-Demi f
(Miscellaneous Channel Topics) 720 5866 w
10 /LucidaSansUnicode00 f
(Channels) 720 6022 w
(are) 1206 6022 w
(not) 1398 6022 w
(only) 1598 6022 w
(a) 1842 6022 w
(mechanism) 1937 6022 w
(for) 2530 6022 w
(transferring) 2710 6022 w
(messages) 3325 6022 w
(between) 3841 6022 w
(threads) 4289 6022 w
(of) 4695 6022 w
(exe\255) 4834 6022 w
(cution,) 720 6142 w
(but) 1094 6142 w
(also) 1296 6142 w
(a) 1532 6142 w
(fundamental) 1626 6142 w
(data) 2276 6142 w
(type) 2525 6142 w
(of) 2772 6142 w
(the) 2909 6142 w
(language,) 3103 6142 w
(and) 3617 6142 w
(as) 3836 6142 w
(such,) 3981 6142 w
(can) 4278 6142 w
(be) 4485 6142 w
(manipu\255) 4643 6142 w
(lated) 720 6262 w
(like) 999 6262 w
(other) 1210 6262 w
(data) 1506 6262 w
(types,) 1755 6262 w
(subject) 2085 6262 w
(to) 2474 6262 w
(certain) 2611 6262 w
(constraints.) 2982 6262 w
(The) 3623 6262 w
(most) 3844 6262 w
(obvious) 4126 6262 w
(restriction) 4545 6262 w
(is) 720 6382 w
(that) 837 6382 w
(channels) 1065 6382 w
(cannot) 1530 6382 w
(be) 1895 6382 w
(initialized) 2051 6382 w
(at) 2563 6382 w
(compile) 2692 6382 w
(time) 3111 6382 w
(and) 3363 6382 w
(must) 3580 6382 w
(be) 3860 6382 w
(allocated) 4016 6382 w
(before) 4489 6382 w
(use.) 4839 6382 w
(While) 720 6502 w
(they) 1024 6502 w
(cannot) 1273 6502 w
(be) 1643 6502 w
(operands) 1804 6502 w
(of) 2298 6502 w
(most) 2438 6502 w
(arithmetic) 2722 6502 w
(and) 3254 6502 w
(shift) 3476 6502 w
(operators) 3734 6502 w
(and) 4242 6502 w
(can) 4464 6502 w
(only) 4674 6502 w
(be) 4921 6502 w
(compared for equality or inequality, channels can be operands for many other operators.) 720 6622 w
(Some,) 720 6742 w
(like) 1064 6742 w
(send,) 1284 6742 w
(receive,) 1596 6742 w
(can-send,) 2017 6742 w
(and) 2555 6742 w
(can-receive,) 2783 6742 w
(apply) 3431 6742 w
(only) 3742 6742 w
(to) 3995 6742 w
(channels.) 4142 6742 w
(Others,) 4683 6742 w
(like) 720 6862 w
(assignment) 931 6862 w
(and) 1528 6862 w
(comparison) 1747 6862 w
(for) 2353 6862 w
(equality,) 2531 6862 w
(accept) 2985 6862 w
(channel) 3337 6862 w
(operands,) 3753 6862 w
(as) 4276 6862 w
(long) 4421 6862 w
(as) 4673 6862 w
(both) 4817 6862 w
(operands) 720 6982 w
(evaluate) 1223 6982 w
(to) 1676 6982 w
(the) 1825 6982 w
(same) 2031 6982 w
(type.) 2337 6982 w
(Unary) 2660 6982 w
(operators,) 2990 6982 w
(such) 3539 6982 w
(as) 3816 6982 w
10 /LucidaTypewriter f
(sizeof) 3973 6982 w
10 /LucidaSansUnicode00 f
(,) 4405 6982 w
(indirection,) 4488 6982 w
(and) 720 7102 w
(address-of) 946 7102 w
(also) 1528 7102 w
(accept) 1769 7102 w
(a) 2127 7102 w
(channel) 2227 7102 w
(operand.) 2649 7102 w
(Finally,) 3159 7102 w
(an) 3546 7102 w
(array) 3708 7102 w
(can) 3997 7102 w
(contain) 4210 7102 w
(channels) 4612 7102 w
(but each member must be allocated individually.) 720 7222 w
(For example,) 3148 7222 w
cleartomark
showpage
saveobj restore
%%EndPage: 20 20
%%Page: 21 21
/saveobj save def
mark
21 pagesetup
10 /LucidaSansUnicode00 f
(\255 21 \255) 2752 480 w
9 /LucidaTypewriter f
(chan\(int\)[100]) 1528 830 w
(ch[2];) 2503 830 w
(alloc) 1528 1050 w
(ch[0],) 1918 1050 w
(ch[1];) 2373 1050 w
10 /LucidaSansUnicode00 f
(declares and allocates two asynchronous channels.) 720 1230 w
(Almost) 720 1386 w
(any) 1100 1386 w
(type) 1309 1386 w
(of) 1557 1386 w
(data) 1695 1386 w
(may) 1945 1386 w
(be) 2185 1386 w
(sent) 2344 1386 w
(or) 2590 1386 w
(received) 2732 1386 w
(on) 3176 1386 w
(a) 3340 1386 w
(channel.) 3436 1386 w
(Messages) 3918 1386 w
(are) 4427 1386 w
(sent) 4620 1386 w
(by-) 4867 1386 w
(value,) 720 1506 w
(so) 1048 1506 w
(it) 1202 1506 w
(is) 1310 1506 w
(expensive) 1432 1506 w
(to) 1960 1506 w
(send) 2100 1506 w
(a) 2374 1506 w
(large) 2470 1506 w
(data) 2754 1506 w
(structure;) 3005 1506 w
(for) 3516 1506 w
(efficiency,) 3696 1506 w
(the) 4229 1506 w
(address) 4425 1506 w
(of) 4846 1506 w
(a) 4985 1506 w
(data) 720 1626 w
(structure) 980 1626 w
(can) 1468 1626 w
(be) 1686 1626 w
(sent,) 1855 1626 w
(but) 2143 1626 w
(this) 2355 1626 w
(introduces) 2584 1626 w
(a) 3147 1626 w
(dependency) 3252 1626 w
(on) 3886 1626 w
(the) 4059 1626 w
(shared) 4265 1626 w
(memory) 4644 1626 w
(model.) 720 1746 w
(Only) 1128 1746 w
(arrays) 1390 1746 w
(and) 1726 1746 w
(functions) 1947 1746 w
(cannot) 2440 1746 w
(be) 2809 1746 w
(sent) 2969 1746 w
(on) 3216 1746 w
(channels.) 3380 1746 w
(Of) 3913 1746 w
(course,) 4069 1746 w
(the) 4464 1746 w
(address) 4660 1746 w
(of) 720 1866 w
(an) 864 1866 w
(array) 1027 1866 w
(or) 1317 1866 w
(function) 1465 1866 w
(can) 1912 1866 w
(be) 2126 1866 w
(sent) 2291 1866 w
(and) 2543 1866 w
(an) 2769 1866 w
(array) 2932 1866 w
(can) 3222 1866 w
(be) 3436 1866 w
(wrapped) 3601 1866 w
(in) 4066 1866 w
(an) 4204 1866 w
(aggregate) 4368 1866 w
(for) 4901 1866 w
(transport.) 720 1986 w
10 /LucidaSans-Demi f
(Abstract Data Types) 720 2226 w
10 /LucidaSansUnicode00 f
(An abstract) 720 2382 w
(data) 1306 2382 w
(type) 1549 2382 w
(is) 1790 2382 w
(a) 1903 2382 w
(complex) 1991 2382 w
(type) 2438 2382 w
(that) 2679 2382 w
(is) 2903 2382 w
(similar) 3016 2382 w
(to) 3376 2382 w
(a) 3507 2382 w
(C++) 3595 2382 w
(class.) 3857 2382 w
(It) 4191 2382 w
(defines) 4290 2382 w
(storage) 4677 2382 w
(for) 720 2502 w
(its) 911 2502 w
(data) 1080 2502 w
(members) 1342 2502 w
(and) 1847 2502 w
(the) 2079 2502 w
(operations,) 2285 2502 w
(called) 2884 2502 w
(methods,) 3218 2502 w
(that) 3724 2502 w
(can) 3966 2502 w
(be) 4185 2502 w
(performed) 4355 2502 w
(on) 4917 2502 w
(them.) 720 2622 w
(Data) 1066 2622 w
(members) 1322 2622 w
(may) 1809 2622 w
(be) 2043 2622 w
(accessed) 2196 2622 w
(only) 2664 2622 w
(by) 2902 2622 w
(member) 3051 2622 w
(methods) 3487 2622 w
(unless) 3944 2622 w
(they) 4289 2622 w
(are) 4531 2622 w
(explic\255) 4718 2622 w
(itly) 720 2742 w
(exported.) 907 2742 w
(Methods) 1449 2742 w
(are) 1905 2742 w
(known) 2097 2742 w
(globally) 2457 2742 w
(unless) 2877 2742 w
(they) 3228 2742 w
(are) 3475 2742 w
(explicitly) 3667 2742 w
(restricted) 4143 2742 w
(to) 4645 2742 w
(inter\255) 4782 2742 w
(nal invocation.) 720 2862 w
(Note that the default scope of data members) 1493 2862 w
(is) 3706 2862 w
(opposite) 3819 2862 w
(to) 4273 2862 w
(that) 4404 2862 w
(of) 4628 2862 w
(meth\255) 4759 2862 w
(ods.) 720 2982 w
(An) 720 3138 w
(abstract) 895 3138 w
(data) 1330 3138 w
(type) 1585 3138 w
(is) 1838 3138 w
(declared) 1963 3138 w
(using) 2422 3138 w
(an) 2733 3138 w
(extended) 2895 3138 w
(complex) 3394 3138 w
(type) 3853 3138 w
(declaration) 4106 3138 w
(syntax.) 4690 3138 w
(The) 720 3258 w
10 /LucidaTypewriter f
(adt) 940 3258 w
10 /LucidaSansUnicode00 f
(keyword) 1195 3258 w
(replaces) 1642 3258 w
(the) 2083 3258 w
10 /LucidaTypewriter f
(aggr) 2277 3258 w
10 /LucidaSansUnicode00 f
(or) 2603 3258 w
10 /LucidaTypewriter f
(union) 2743 3258 w
10 /LucidaSansUnicode00 f
(keyword;) 3141 3258 w
(it) 3619 3258 w
(is) 3723 3258 w
(followed) 3841 3258 w
(by) 4292 3258 w
(the) 4445 3258 w
(name) 4638 3258 w
(of) 4942 3258 w
(the) 720 3378 w
(type,) 916 3378 w
(a) 1197 3378 w
(list) 1293 3378 w
(of) 1480 3378 w
(its) 1619 3378 w
(members,) 1778 3378 w
(and) 2305 3378 w
(prototypes) 2527 3378 w
(of) 3091 3378 w
(the) 3231 3378 w
(functions) 3428 3378 w
(implementing) 3922 3378 w
(the) 4635 3378 w
(type) 4832 3378 w
(methods.) 720 3498 w
(The data members and function prototypes may be specified in any order, but) 1239 3498 w
(conventionally) 720 3618 w
(the) 1458 3618 w
(prototypes) 1653 3618 w
(follow) 2215 3618 w
(the) 2549 3618 w
(declarations) 2745 3618 w
(of) 3376 3618 w
(all) 3515 3618 w
(data) 3669 3618 w
(members.) 3920 3618 w
(An) 4478 3618 w
(abstract) 4650 3618 w
(data) 720 3738 w
(type) 966 3738 w
(may) 1210 3738 w
(not) 1446 3738 w
(have) 1642 3738 w
(a) 1903 3738 w
(data) 1994 3738 w
(member) 2240 3738 w
(and) 2678 3738 w
(method) 2894 3738 w
(with) 3302 3738 w
(the) 3543 3738 w
(same) 3734 3738 w
(name.) 4025 3738 w
(Abstract) 4391 3738 w
(data) 4830 3738 w
(types) 720 3858 w
(share) 1019 3858 w
(most) 1324 3858 w
(of) 1606 3858 w
(the) 1744 3858 w
(semantics) 1939 3858 w
(of) 2465 3858 w
(complex) 2604 3858 w
(types.) 3059 3858 w
(For) 3423 3858 w
(example,) 3620 3858 w
(you) 4106 3858 w
(can) 4322 3858 w
(declare) 4531 3858 w
(an) 4923 3858 w
(array) 720 3978 w
(of) 1001 3978 w
(abstract) 1136 3978 w
(data) 1563 3978 w
(types,) 1810 3978 w
(take) 2138 3978 w
(the) 2381 3978 w
(address) 2573 3978 w
(of) 2990 3978 w
(one,) 3124 3978 w
(assign) 3371 3978 w
(it) 3717 3978 w
(to) 3819 3978 w
(a) 3953 3978 w
(variable) 4044 3978 w
(of) 4460 3978 w
(the) 4594 3978 w
(same) 4785 3978 w
(type, reference it indirectly, or pass it to a function.) 720 4098 w
(In) 720 4254 w
(our) 851 4254 w
(examples) 1055 4254 w
(the) 1559 4254 w
(details) 1754 4254 w
(of) 2114 4254 w
(the) 2252 4254 w
(mouse) 2447 4254 w
(and) 2810 4254 w
(keyboard) 3031 4254 w
(device) 3521 4254 w
(interface) 3869 4254 w
(are) 4334 4254 w
(isolated) 4527 4254 w
(in) 4949 4254 w
(the) 720 4374 w
(slave) 912 4374 w
(processes.) 1192 4374 w
(We) 1806 4374 w
(can) 1985 4374 w
(implement) 2190 4374 w
10 /LucidaTypewriter f
(Mouse) 2745 4374 w
10 /LucidaSansUnicode00 f
(and) 3142 4374 w
10 /LucidaTypewriter f
(Keyboard) 3359 4374 w
10 /LucidaSansUnicode00 f
(abstract) 3972 4374 w
(data) 4399 4374 w
(types) 4646 4374 w
(to) 4942 4374 w
(formalize) 720 4494 w
(and) 1211 4494 w
(restrict) 1424 4494 w
(the) 1800 4494 w
(interface.) 1988 4494 w
(Usually) 2510 4494 w
(the) 2891 4494 w
(functions) 3080 4494 w
(implementing) 3566 4494 w
(the) 4271 4494 w
(methods) 4460 4494 w
(on) 4917 4494 w
(an) 720 4614 w
(abstract) 875 4614 w
(data) 1303 4614 w
(type) 1551 4614 w
(are) 1797 4614 w
(kept) 1987 4614 w
(in) 2239 4614 w
(a) 2368 4614 w
(single) 2461 4614 w
(source) 2788 4614 w
(file;) 3148 4614 w
(for) 3369 4614 w
(brevity,) 3546 4614 w
(we) 3946 4614 w
(bundle) 4116 4614 w
(the) 4488 4614 w
10 /LucidaTypewriter f
(Mouse) 4680 4614 w
10 /LucidaSansUnicode00 f
(and) 720 4734 w
10 /LucidaTypewriter f
(Keyboard) 934 4734 w
10 /LucidaSansUnicode00 f
(abstract) 1544 4734 w
(types) 1968 4734 w
(with) 2261 4734 w
(the) 2500 4734 w
(calling) 2689 4734 w
(code.) 3041 4734 w
(The) 3371 4734 w
(declarations) 3587 4734 w
(for) 4212 4734 w
(the) 4386 4734 w
10 /LucidaTypewriter f
(Mevent) 4576 4734 w
10 /LucidaSansUnicode00 f
(,) 5008 4734 w
10 /LucidaTypewriter f
(Mouse) 720 4854 w
10 /LucidaSansUnicode00 f
(and) 1112 4854 w
10 /LucidaTypewriter f
(Keyboard) 1324 4854 w
10 /LucidaSansUnicode00 f
(abstract data types are:) 1932 4854 w
9 /LucidaTypewriter f
(adt) 1008 5024 w
(Mevent) 1268 5024 w
({) 1723 5024 w
(Point;) 1528 5134 w
(int) 1528 5244 w
(buttons;) 2048 5244 w
(int) 1528 5464 w
(fill\(*Mevent,) 2048 5464 w
(byte*,) 2958 5464 w
(int\);) 3413 5464 w
(};) 1008 5574 w
(adt) 1008 5804 w
(Mouse) 1268 5804 w
({) 1658 5804 w
(Mevent;) 2048 5914 w
(extern) 1528 6024 w
(chan\(Mevent\)) 2048 6024 w
(ch;) 3088 6024 w
(chan\(int\)) 2048 6134 w
(term;) 3088 6134 w
(int) 2048 6244 w
(fd;) 3088 6244 w
(int) 2048 6354 w
(pid;) 3088 6354 w
(Mouse*) 2048 6574 w
(init\(byte*,) 3088 6574 w
(chan\(int\)\);) 3868 6574 w
(void) 2048 6684 w
(close\(*Mouse\);) 3088 6684 w
(intern) 1528 6794 w
(void) 2048 6794 w
(mproc\(*Mouse\);) 3088 6794 w
(};) 1008 6904 w
cleartomark
showpage
saveobj restore
%%EndPage: 21 21
%%Page: 22 22
/saveobj save def
mark
22 pagesetup
10 /LucidaSansUnicode00 f
(\255 22 \255) 2752 480 w
9 /LucidaTypewriter f
(adt) 1008 830 w
(Keyboard) 1268 830 w
({) 1853 830 w
(extern) 1528 940 w
(chan\(int\)[100]) 2048 940 w
(ch;) 3088 940 w
(chan\(int\)) 2048 1050 w
(term;) 3088 1050 w
(int) 2048 1160 w
(kbdfd;) 3088 1160 w
(int) 2048 1270 w
(ctlfd;) 3088 1270 w
(int) 2048 1380 w
(pid;) 3088 1380 w
(Keyboard*) 2048 1600 w
(init\(byte*,) 3088 1600 w
(chan\(int\)\);) 3868 1600 w
(void) 2048 1710 w
(close\(*Keyboard\);) 3088 1710 w
(int) 2048 1820 w
(ctl\(*Keyboard,) 3088 1820 w
(byte*\);) 4063 1820 w
(intern) 1528 1930 w
(void) 2048 1930 w
(kproc\(*Keyboard\);) 3088 1930 w
(};) 1008 2040 w
10 /LucidaSansUnicode00 f
(The) 720 2256 w
10 /LucidaTypewriter f
(Mouse) 954 2256 w
10 /LucidaSansUnicode00 f
(abstract) 1367 2256 w
(data) 1810 2256 w
(type) 2073 2256 w
(declares) 2334 2256 w
(all) 2789 2256 w
(data) 2956 2256 w
(and) 3220 2256 w
(methods) 3454 2256 w
(relating) 3931 2256 w
(to) 4356 2256 w
(the) 4508 2256 w
(mouse) 4717 2256 w
(device.) 720 2376 w
(It) 1126 2376 w
(supplies) 1227 2376 w
(methods) 1666 2376 w
(to) 2124 2376 w
(initialize) 2257 2376 w
(and) 2704 2376 w
(close) 2919 2376 w
(a) 3202 2376 w
(mouse) 3292 2376 w
(and) 3650 2376 w
(to) 3864 2376 w
(start) 3996 2376 w
(the) 4251 2376 w
(mouse) 4440 2376 w
(slave) 4797 2376 w
(process,) 720 2496 w
(and) 1175 2496 w
(contains) 1404 2496 w
(an) 1861 2496 w
(unnamed) 2027 2496 w
10 /LucidaTypewriter f
(Mevent) 2529 2496 w
10 /LucidaSansUnicode00 f
(abstract) 3010 2496 w
(type) 3450 2496 w
(that) 3708 2496 w
(provides) 3949 2496 w
(a) 4415 2496 w
(method) 4520 2496 w
(to) 4942 2496 w
(decode) 720 2616 w
(a) 1105 2616 w
(buffer) 1194 2616 w
(of) 1524 2616 w
(raw) 1656 2616 w
(mouse) 1863 2616 w
(data.) 2220 2616 w
(The) 2528 2616 w
10 /LucidaTypewriter f
(Keyboard) 2743 2616 w
10 /LucidaSansUnicode00 f
(abstract) 3353 2616 w
(data) 3777 2616 w
(type) 4021 2616 w
(provides) 4263 2616 w
(similar) 4713 2616 w
(functionality) 720 2736 w
(with) 1356 2736 w
(an) 1594 2736 w
(additional) 1745 2736 w
(control) 2262 2736 w
(method) 2638 2736 w
(to) 3044 2736 w
(set) 3176 2736 w
(the) 3354 2736 w
(keyboard) 3543 2736 w
(mode.) 4026 2736 w
(Methods) 4397 2736 w
(pre\255) 4847 2736 w
(ceded) 720 2856 w
(by) 1044 2856 w
(the) 1194 2856 w
10 /LucidaTypewriter f
(intern) 1384 2856 w
10 /LucidaSansUnicode00 f
(keyword) 1851 2856 w
(can) 2294 2856 w
(only) 2497 2856 w
(be) 2736 2856 w
(invoked) 2890 2856 w
(by) 3306 2856 w
(other) 3455 2856 w
(functions) 3746 2856 w
(of) 4232 2856 w
(the) 4364 2856 w
(type.) 4553 2856 w
(The) 4859 2856 w
10 /LucidaTypewriter f
(extern) 720 2976 w
10 /LucidaSansUnicode00 f
(keyword) 1189 2976 w
(allows) 1634 2976 w
(access) 1973 2976 w
(to) 2325 2976 w
(data) 2460 2976 w
(members) 2707 2976 w
(by) 3197 2976 w
(code) 3349 2976 w
(outside) 3617 2976 w
(the) 4014 2976 w
(type.) 4207 2976 w
(We) 4517 2976 w
(restrict) 4697 2976 w
(access) 720 3096 w
(to) 1078 3096 w
(the) 1219 3096 w
(functions) 1417 3096 w
(that) 1912 3096 w
(start) 2146 3096 w
(the) 2410 3096 w
(mouse) 2608 3096 w
(and) 2974 3096 w
(keyboard) 3197 3096 w
(slave) 3689 3096 w
(processes) 3975 3096 w
(and) 4499 3096 w
(export) 4721 3096 w
(the channels so the executive process can receive on them.) 720 3216 w
(A) 720 3372 w
(method) 822 3372 w
(customarily) 1228 3372 w
(expects) 1823 3372 w
(the) 2232 3372 w
(address) 2421 3372 w
(of) 2835 3372 w
(an) 2967 3372 w
(instantiation) 3118 3372 w
(of) 3758 3372 w
(the) 3890 3372 w
(abstract) 4079 3372 w
(type) 4503 3372 w
(as) 4745 3372 w
(the) 4885 3372 w
(first) 720 3492 w
(parameter.) 956 3492 w
(Alef) 1558 3492 w
(provides) 1789 3492 w
(a) 2245 3492 w
(shorthand) 2340 3492 w
(declaration) 2874 3492 w
(syntax) 3453 3492 w
(that) 3811 3492 w
(tells) 4042 3492 w
(the) 4284 3492 w
(compiler) 4479 3492 w
(to) 4942 3492 w
(provide) 720 3612 w
(the) 1134 3612 w
(address) 1338 3612 w
(of) 1767 3612 w
(the) 1914 3612 w
(type) 2118 3612 w
(instance) 2375 3612 w
(automatically.) 2827 3612 w
(An) 3585 3612 w
(implicit) 3766 3612 w
(argument) 4176 3612 w
(is) 4694 3612 w
(indi\255) 4824 3612 w
(cated) 720 3732 w
(by) 1030 3732 w
(preceding) 1193 3732 w
(the) 1724 3732 w
(name) 1927 3732 w
(of) 2241 3732 w
(the) 2387 3732 w
(abstract) 2590 3732 w
(type) 3028 3732 w
(with) 3284 3732 w
(an) 3537 3732 w
(asterisk) 3702 3732 w
(as) 4127 3732 w
(the) 4280 3732 w
(first) 4482 3732 w
(formal) 4724 3732 w
(parameter) 720 3852 w
(in) 1277 3852 w
(the) 1428 3852 w
(method) 1643 3852 w
(prototype.) 2075 3852 w
(Notice) 2670 3852 w
(that) 3038 3852 w
(this) 3289 3852 w
(syntax) 3528 3852 w
(differs) 3906 3852 w
(from) 4281 3852 w
(that) 4574 3852 w
(of) 4826 3852 w
(a) 4985 3852 w
(pointer) 720 3972 w
(to) 1107 3972 w
(the) 1243 3972 w
(abstract) 1436 3972 w
(type,) 1864 3972 w
(where) 2142 3972 w
(the) 2472 3972 w
(asterisk) 2665 3972 w
(follows) 3080 3972 w
(the) 3462 3972 w
(type) 3654 3972 w
(name.) 3899 3972 w
(In) 4266 3972 w
(our) 4394 3972 w
(example,) 4595 3972 w
(all methods except) 720 4092 w
10 /LucidaTypewriter f
(init) 1676 4092 w
10 /LucidaSansUnicode00 f
(expect an implicit parameter.) 1996 4092 w
(The) 720 4248 w
(promotion) 944 4248 w
(rules) 1495 4248 w
(for) 1777 4248 w
(unnamed) 1959 4248 w
(members) 2455 4248 w
(of) 2951 4248 w
(a) 3092 4248 w
(complex) 3190 4248 w
(type) 3647 4248 w
(also) 3899 4248 w
(apply) 4139 4248 w
(to) 4445 4248 w
(unnamed) 4587 4248 w
(members) 720 4368 w
(of) 1212 4368 w
(an) 1349 4368 w
(abstract) 1505 4368 w
(data) 1934 4368 w
(type.) 2183 4368 w
(When) 2493 4368 w
(an) 2797 4368 w
(abstract) 2952 4368 w
(data) 3380 4368 w
(type) 3628 4368 w
(is) 3874 4368 w
(an) 3992 4368 w
(unnamed) 4147 4368 w
(member) 4638 4368 w
(of) 720 4488 w
(another) 858 4488 w
(abstract) 1272 4488 w
(data) 1702 4488 w
(type,) 1952 4488 w
(the) 2232 4488 w
(promotion) 2428 4488 w
(rules) 2977 4488 w
(apply) 3257 4488 w
(to) 3560 4488 w
(the) 3699 4488 w
(methods) 3895 4488 w
(as) 4359 4488 w
(well) 4506 4488 w
(as) 4738 4488 w
(the) 4885 4488 w
(data) 720 4608 w
(members) 978 4608 w
(of) 1479 4608 w
(the) 1625 4608 w
(inner) 1828 4608 w
(member.) 2126 4608 w
(When) 2640 4608 w
(a) 2954 4608 w
(method) 3056 4608 w
(cannot) 3475 4608 w
(be) 3850 4608 w
(found) 4016 4608 w
(in) 4348 4608 w
(an) 4486 4608 w
(abstract) 4650 4608 w
(type,) 720 4728 w
(the) 995 4728 w
(compiler) 1185 4728 w
(searches) 1643 4728 w
(its) 2101 4728 w
(unnamed) 2253 4728 w
(abstract) 2741 4728 w
(data) 3166 4728 w
(type) 3411 4728 w
(members) 3655 4728 w
(breadth-first) 4144 4728 w
(for) 4810 4728 w
(a) 4985 4728 w
(matching) 720 4848 w
(method.) 1224 4848 w
(This) 1713 4848 w
(promotion) 1971 4848 w
(strategy) 2532 4848 w
(implements) 2976 4848 w
(a) 3598 4848 w
(form) 3706 4848 w
(of) 3991 4848 w
(inheritance;) 4142 4848 w
(if) 4767 4848 w
(the) 4885 4848 w
(outer) 720 4968 w
(abstract) 1022 4968 w
(type) 1457 4968 w
(provides) 1710 4968 w
(a) 2171 4968 w
(method) 2271 4968 w
(of) 2688 4968 w
(a) 2831 4968 w
(given) 2931 4968 w
(name,) 3237 4968 w
(it) 3580 4968 w
(takes) 3691 4968 w
(precedence,) 3993 4968 w
(if) 4625 4968 w
(not,) 4736 4968 w
(it) 4974 4968 w
(inherits) 720 5088 w
(the) 1122 5088 w
(method) 1312 5088 w
(from) 1719 5088 w
(a) 1986 5088 w
(member.) 2076 5088 w
(In) 2577 5088 w
(the) 2703 5088 w
(latter) 2893 5088 w
(case) 3183 5088 w
(the) 3430 5088 w
(address) 3619 5088 w
(of) 4033 5088 w
(the) 4165 5088 w
(inner) 4354 5088 w
(member) 4638 5088 w
(is) 720 5208 w
(passed) 835 5208 w
(to) 1209 5208 w
(the) 1342 5208 w
(method) 1532 5208 w
(as) 1939 5208 w
(an) 2080 5208 w
(implicit) 2233 5208 w
(parameter,) 2629 5208 w
(even) 3194 5208 w
(when) 3456 5208 w
(the) 3749 5208 w
(method) 3940 5208 w
(is) 4348 5208 w
(invoked) 4464 5208 w
(rel\255) 4881 5208 w
(ative) 720 5328 w
(to) 999 5328 w
(the) 1146 5328 w
(outer) 1350 5328 w
(abstract) 1656 5328 w
(type.) 2095 5328 w
(For) 2416 5328 w
(example,) 2621 5328 w
(if) 3115 5328 w
(the) 3230 5328 w
10 /LucidaTypewriter f
(fill) 3434 5328 w
10 /LucidaSansUnicode00 f
(method) 3771 5328 w
(is) 4192 5328 w
(invoked) 4321 5328 w
(on) 4751 5328 w
(an) 4923 5328 w
(instantiation) 720 5448 w
(of) 1367 5448 w
(a) 1506 5448 w
10 /LucidaTypewriter f
(Mouse) 1602 5448 w
10 /LucidaSansUnicode00 f
(abstract) 2003 5448 w
(type,) 2434 5448 w
(the) 2715 5448 w
(address) 2911 5448 w
(of) 3332 5448 w
(the) 3472 5448 w
(unnamed) 3669 5448 w
10 /LucidaTypewriter f
(Mevent) 4164 5448 w
10 /LucidaSansUnicode00 f
(member) 4638 5448 w
(of that type is supplied as the first argument.) 720 5568 w
(A) 720 5724 w
(method) 856 5724 w
(is) 1295 5724 w
(an) 1442 5724 w
(Alef) 1626 5724 w
(function) 1884 5724 w
(with) 2352 5724 w
(a) 2624 5724 w
(name) 2746 5724 w
(of) 3079 5724 w
(the) 3245 5724 w
(form) 3468 5724 w
10 /LucidaSans-Italic f
(typename) 3768 5724 w
10 /LucidaTypewriter f
(.) 4244 5724 w
10 /LucidaSans-Italic f
(method) 4316 5724 w
10 /LucidaSansUnicode00 f
(where) 4748 5724 w
10 /LucidaSans-Italic f
(typename) 720 5844 w
10 /LucidaSansUnicode00 f
(is) 1238 5844 w
(the) 1360 5844 w
(name) 1557 5844 w
(of) 1865 5844 w
(the) 2005 5844 w
(abstract) 2202 5844 w
(data) 2634 5844 w
(type.) 2886 5844 w
(For) 3200 5844 w
(example,) 3397 5844 w
(the) 3883 5844 w
(formal) 4079 5844 w
(definition) 4436 5844 w
(of) 4942 5844 w
(the) 720 5964 w
(initialization) 934 5964 w
(function) 1593 5964 w
(for) 2053 5964 w
(the) 2252 5964 w
10 /LucidaTypewriter f
(Mouse) 2467 5964 w
10 /LucidaSansUnicode00 f
(abstract) 2887 5964 w
(data) 3337 5964 w
(type) 3607 5964 w
(is) 3875 5964 w
10 /LucidaTypewriter f
(Mouse.init) 4015 5964 w
10 /LucidaSansUnicode00 f
(.) 4735 5964 w
(The) 4859 5964 w
(implementation of the) 720 6084 w
10 /LucidaTypewriter f
(Mouse) 1831 6084 w
10 /LucidaSansUnicode00 f
(abstract data type becomes:) 2223 6084 w
9 /LucidaTypewriter f
(int) 1008 6254 w
(Mevent.fill\(Mevent) 1008 6364 w
(*m,) 2243 6364 w
(byte) 2503 6364 w
(*buf,) 2828 6364 w
(int) 3218 6364 w
(n\)) 3478 6364 w
({) 1008 6474 w
(if\(n) 1528 6584 w
(<) 1853 6584 w
(10\)) 1983 6584 w
(return) 2048 6694 w
(0;) 2503 6694 w
(/*) 1528 6804 w
(decode) 1723 6804 w
('buf') 2178 6804 w
(into) 2568 6804 w
('m') 2893 6804 w
(*/) 3153 6804 w
(return) 1528 6914 w
(1;) 1983 6914 w
(}) 1008 7024 w
cleartomark
showpage
saveobj restore
%%EndPage: 22 22
%%Page: 23 23
/saveobj save def
mark
23 pagesetup
10 /LucidaSansUnicode00 f
(\255 23 \255) 2752 480 w
9 /LucidaTypewriter f
(Mouse*) 1008 830 w
(Mouse.init\(byte) 1008 940 w
(*device,) 2048 940 w
(chan\(int\)) 2633 940 w
(term\)) 3283 940 w
({) 1008 1050 w
(Mouse) 1528 1160 w
(*m;) 1918 1160 w
(alloc) 1528 1380 w
(m;) 1918 1380 w
(m->fd) 1528 1490 w
(=) 1918 1490 w
(open\(device,) 2048 1490 w
(OREAD\);) 2893 1490 w
(if\(m->fd) 1528 1600 w
(<) 2113 1600 w
(0\)) 2243 1600 w
({) 2438 1600 w
(unalloc) 2048 1710 w
(m;) 2568 1710 w
(return) 2048 1820 w
(nil;) 2503 1820 w
(}) 1528 1930 w
(alloc) 1528 2040 w
(m->ch;) 1918 2040 w
(m->term) 1528 2150 w
(=) 2048 2150 w
(term;) 2178 2150 w
(proc) 1528 2260 w
(m->mproc\(\);) 1853 2260 w
(return) 1528 2370 w
(m;) 1983 2370 w
(}) 1008 2480 w
(void) 1008 2710 w
(Mouse.close\(Mouse) 1008 2820 w
(*m\)) 2178 2820 w
({) 1008 2930 w
(if\(m->pid\)) 1528 3040 w
(postnote\(PNPROC,) 2048 3150 w
(m->pid,) 3153 3150 w
("kill"\);) 3673 3150 w
(}) 1008 3260 w
(void) 1008 3490 w
(Mouse.mproc\(Mouse) 1008 3600 w
(*m\)) 2178 3600 w
({) 1008 3710 w
(int) 1528 3820 w
(n;) 1788 3820 w
(byte) 1528 3930 w
(buf[1024];) 1853 3930 w
(m->pid) 1528 4150 w
(=) 1983 4150 w
(getpid\(\);) 2113 4150 w
(for\(;;\)) 1528 4260 w
({) 2048 4260 w
(n) 2048 4370 w
(=) 2178 4370 w
(read\(m->fd,) 2308 4370 w
(buf,) 3088 4370 w
(sizeof\(buf\)\);) 3413 4370 w
(if\(n) 2048 4480 w
(<) 2373 4480 w
(0\)) 2503 4480 w
({) 2698 4480 w
(m->term) 2568 4590 w
(<-=) 3088 4590 w
(-1;) 3348 4590 w
(continue;) 2568 4700 w
(}) 2048 4810 w
(if\(m->fill\(buf,) 2048 4920 w
(n\)\)) 3088 4920 w
(m->ch) 2568 5030 w
(<-=) 2958 5030 w
(m->Mevent;) 3218 5030 w
(}) 1528 5140 w
(}) 1008 5250 w
10 /LucidaSansUnicode00 f
(We) 720 5466 w
(consolidate) 896 5466 w
(the) 1485 5466 w
(channel) 1674 5466 w
(allocation,) 2085 5466 w
(slave) 2620 5466 w
(process) 2898 5466 w
(initialization,) 3307 5466 w
(and) 3974 5466 w
(termination) 4189 5466 w
(oper\255) 4786 5466 w
(ations) 720 5586 w
(in) 1056 5586 w
(an) 1188 5586 w
(abstract) 1346 5586 w
(data) 1777 5586 w
(type) 2028 5586 w
(instead) 2277 5586 w
(of) 2671 5586 w
(scattering) 2810 5586 w
(them) 3332 5586 w
(about) 3621 5586 w
(the) 3939 5586 w
(executive) 4134 5586 w
(process.) 4634 5586 w
(When the slave process is started with the statement) 720 5706 w
9 /LucidaTypewriter f
(proc) 1528 5876 w
(m->mproc\(\);) 1853 5876 w
10 /LucidaSansUnicode00 f
(in) 720 6056 w
(the) 868 6056 w
(initialization) 1080 6056 w
(method,) 1737 6056 w
(an) 2198 6056 w
(implicit) 2372 6056 w
(pointer) 2789 6056 w
(to) 3195 6056 w
(the) 3350 6056 w
10 /LucidaTypewriter f
(Mouse) 3562 6056 w
10 /LucidaSansUnicode00 f
(abstract) 3979 6056 w
(data) 4426 6056 w
(type) 4694 6056 w
(is) 4960 6056 w
(passed) 720 6176 w
(as) 1097 6176 w
(the) 1241 6176 w
(argument.) 1434 6176 w
(The) 2004 6176 w
(slave) 2223 6176 w
(process) 2504 6176 w
(relies) 2916 6176 w
(on) 3216 6176 w
(the) 3377 6176 w
(promotion) 3570 6176 w
(rules) 4116 6176 w
(to) 4393 6176 w
(invoke) 4529 6176 w
(the) 4885 6176 w
10 /LucidaTypewriter f
(fill) 720 6296 w
10 /LucidaSansUnicode00 f
(method) 1046 6296 w
(of) 1456 6296 w
(the) 1592 6296 w
10 /LucidaTypewriter f
(Mevent) 1785 6296 w
10 /LucidaSansUnicode00 f
(abstract) 2255 6296 w
(type) 2683 6296 w
(and) 2929 6296 w
(to) 3147 6296 w
(supply) 3284 6296 w
(the) 3643 6296 w
(address) 3837 6296 w
(of) 4256 6296 w
(the) 4393 6296 w
(unnamed) 4587 6296 w
10 /LucidaTypewriter f
(Mevent) 720 6416 w
10 /LucidaSansUnicode00 f
(member as the first argument to the decoding function.) 1184 6416 w
(The implementation of the) 720 6572 w
10 /LucidaTypewriter f
(Keyboard) 2044 6572 w
10 /LucidaSansUnicode00 f
(abstract data type is similar:) 2652 6572 w
cleartomark
showpage
saveobj restore
%%EndPage: 23 23
%%Page: 24 24
/saveobj save def
mark
24 pagesetup
10 /LucidaSansUnicode00 f
(\255 24 \255) 2752 480 w
9 /LucidaTypewriter f
(Keyboard*) 1008 830 w
(Keyboard.init\(byte) 1008 940 w
(*device,) 2243 940 w
(chan\(int\)) 2828 940 w
(term\)) 3478 940 w
({) 1008 1050 w
(Keyboard) 1528 1160 w
(*k;) 2113 1160 w
(byte) 1528 1270 w
(buf[128];) 1853 1270 w
(alloc) 1528 1490 w
(k;) 1918 1490 w
(k->kbdfd) 1528 1600 w
(=) 2113 1600 w
(open\(device,) 2243 1600 w
(OREAD\);) 3088 1600 w
(if\(k->kbdfd) 1528 1710 w
(<) 2308 1710 w
(0\)) 2438 1710 w
({) 2633 1710 w
(unalloc) 2048 1820 w
(k;) 2568 1820 w
(return) 2048 1930 w
(nil;) 2503 1930 w
(}) 1528 2040 w
(sprint\(buf,) 1528 2270 w
("%sctl",) 2308 2270 w
(device\);) 2893 2270 w
(k->ctlfd) 1528 2380 w
(=) 2113 2380 w
(open\(buf,) 2243 2380 w
(OWRITE\);) 2893 2380 w
(if\(k->ctlfd) 1528 2490 w
(<) 2308 2490 w
(0\)) 2438 2490 w
({) 2633 2490 w
(unalloc) 2048 2600 w
(k;) 2568 2600 w
(close\(k->kbdfd\);) 2048 2710 w
(return) 2048 2820 w
(nil;) 2503 2820 w
(}) 1528 2930 w
(alloc) 1528 3160 w
(k->ch;) 1918 3160 w
(k->term) 1528 3270 w
(=) 2048 3270 w
(term;) 2178 3270 w
(k->ctl\("rawon"\);) 1528 3380 w
(proc) 1528 3490 w
(k->kproc\(\);) 1853 3490 w
(return) 1528 3600 w
(k;) 1983 3600 w
(}) 1008 3710 w
(void) 1008 3940 w
(Keyboard.kproc\(Keyboard) 1008 4050 w
(*k\)) 2568 4050 w
({) 1008 4160 w
(byte) 1528 4270 w
(c;) 1853 4270 w
(int) 1528 4380 w
(n;) 1788 4380 w
(k->pid) 1528 4600 w
(=) 1983 4600 w
(getpid\(\);) 2113 4600 w
(for\(;;\)) 1528 4710 w
({) 2048 4710 w
(n) 2048 4820 w
(=) 2178 4820 w
(read\(k->kbdfd,) 2308 4820 w
(&c,) 3283 4820 w
(1\);) 3543 4820 w
(if\(n) 2048 4930 w
(<=) 2373 4930 w
(0) 2568 4930 w
(||) 2698 4930 w
(c) 2893 4930 w
(==) 3023 4930 w
(EOF\)) 3218 4930 w
({) 3543 4930 w
(k->term) 2568 5040 w
(<-=) 3088 5040 w
(-1;) 3348 5040 w
(continue;) 2568 5150 w
(}) 2048 5260 w
(n) 2048 5370 w
(=) 2178 5370 w
(processinput\(c\);) 2308 5370 w
(if\(n\)) 2048 5480 w
(k->ch) 2568 5590 w
(<-=) 2958 5590 w
(n;) 3218 5590 w
(}) 1528 5700 w
(}) 1008 5810 w
(void) 1008 6040 w
(Keyboard.close\(Keyboard) 1008 6150 w
(*k\)) 2568 6150 w
({) 1008 6260 w
(if\(k->pid\)) 1528 6370 w
(postnote\(PNPROC,) 2048 6480 w
(k->pid,) 3153 6480 w
("kill"\);) 3673 6480 w
(}) 1008 6590 w
(int) 1008 6700 w
(Keyboard.ctl\(Keyboard) 1008 6810 w
(*k,) 2438 6810 w
(byte) 2698 6810 w
(*msg\)) 3023 6810 w
({) 1008 6920 w
(return) 1528 7030 w
(write\(k->ctlfd,) 1983 7030 w
(msg,) 3023 7030 w
(strlen\(msg\)\);) 3348 7030 w
(}) 1008 7140 w
cleartomark
showpage
saveobj restore
%%EndPage: 24 24
%%Page: 25 25
/saveobj save def
mark
25 pagesetup
10 /LucidaSansUnicode00 f
(\255 25 \255) 2752 480 w
(A) 720 840 w
(member) 839 840 w
(of) 1291 840 w
(an) 1440 840 w
(abstract) 1608 840 w
(data) 2049 840 w
(type) 2310 840 w
(is) 2569 840 w
(referenced) 2700 840 w
(relative) 3270 840 w
(to) 3676 840 w
(a) 3825 840 w
(variable) 3931 840 w
(containing) 4362 840 w
(an) 4923 840 w
(instantiation) 720 960 w
(of) 1373 960 w
(the) 1518 960 w
(type.) 1720 960 w
(The) 2039 960 w
(variable) 2266 960 w
(may) 2692 960 w
(be) 2938 960 w
(the) 3103 960 w
(type) 3304 960 w
(itself) 3558 960 w
(or) 3843 960 w
(a) 3991 960 w
(pointer) 4092 960 w
(to) 4487 960 w
(the) 4631 960 w
(type) 4832 960 w
(through) 720 1080 w
(any) 1156 1080 w
(number) 1374 1080 w
(of) 1800 1080 w
(levels) 1947 1080 w
(of) 2269 1080 w
(indirection.) 2416 1080 w
(The) 3050 1080 w
(variable) 3281 1080 w
(name) 3711 1080 w
(is) 4027 1080 w
(qualified) 4157 1080 w
(with) 4630 1080 w
(the) 4885 1080 w
(name) 720 1200 w
(of) 1023 1200 w
(a) 1158 1200 w
(data) 1250 1200 w
(member) 1497 1200 w
(or) 1936 1200 w
(type) 2075 1200 w
(method) 2320 1200 w
(using) 2729 1200 w
(the) 3032 1200 w
(same) 3224 1200 w
(syntax) 3515 1200 w
(used) 3869 1200 w
(to) 4137 1200 w
(select) 4271 1200 w
(members) 4587 1200 w
(of) 720 1320 w
(other) 858 1320 w
(complex) 1155 1320 w
(types;) 1609 1320 w
(the) 1940 1320 w
10 /LucidaTypewriter f
(.) 2135 1320 w
10 /LucidaSansUnicode00 f
(and) 2247 1320 w
10 /LucidaTypewriter f
(->) 2467 1320 w
10 /LucidaSansUnicode00 f
(operators) 2651 1320 w
(work) 3157 1320 w
(as) 3435 1320 w
(expected.) 3582 1320 w
(A) 4130 1320 w
(method) 4240 1320 w
(name) 4653 1320 w
(is) 4960 1320 w
(followed by a parenthesized list of arguments, for example,) 720 1440 w
9 /LucidaTypewriter f
(Keyboard) 1528 1610 w
(k,) 2113 1610 w
(*kp;) 2308 1610 w
(k.ctl\("rawon"\);) 1528 1830 w
(kp->ctl\("rawon"\);) 1528 1940 w
10 /LucidaSansUnicode00 f
(invokes) 720 2120 w
(the) 1130 2120 w
10 /LucidaTypewriter f
(ctl) 1326 2120 w
10 /LucidaSansUnicode00 f
(method) 1583 2120 w
(of) 1996 2120 w
(the) 2135 2120 w
10 /LucidaTypewriter f
(Keyboard) 2331 2120 w
10 /LucidaSansUnicode00 f
(abstract) 2948 2120 w
(data) 3379 2120 w
(type) 3630 2120 w
(in) 3880 2120 w
(two) 4013 2120 w
(equivalent) 4230 2120 w
(ways.) 4773 2120 w
(The) 720 2240 w
(prototype) 935 2240 w
(for) 1440 2240 w
(the) 1613 2240 w
10 /LucidaTypewriter f
(ctl) 1802 2240 w
10 /LucidaSansUnicode00 f
(method) 2051 2240 w
(specifies) 2456 2240 w
(an) 2912 2240 w
(implicit) 3062 2240 w
(first) 3455 2240 w
(parameter,) 3683 2240 w
(so) 4245 2240 w
(the) 4390 2240 w
(Alef) 4578 2240 w
(com\255) 4802 2240 w
(piler) 720 2360 w
(supplies) 976 2360 w
(the) 1418 2360 w
(address) 1611 2360 w
(of) 2030 2360 w
(the) 2167 2360 w
(variable) 2361 2360 w
(as) 2780 2360 w
(the) 2925 2360 w
(first) 3119 2360 w
(argument;) 3353 2360 w
(in) 3892 2360 w
(the) 4022 2360 w
(first) 4216 2360 w
(case,) 4450 2360 w
10 /LucidaTypewriter f
(&k) 4734 2360 w
10 /LucidaSansUnicode00 f
(;) 4878 2360 w
(in) 4949 2360 w
(the second,) 720 2480 w
10 /LucidaTypewriter f
(kp) 1315 2480 w
10 /LucidaSansUnicode00 f
(.) 1459 2480 w
(Sometimes) 720 2636 w
(we) 1284 2636 w
(wish) 1451 2636 w
(to) 1704 2636 w
(invoke) 1836 2636 w
(a) 2188 2636 w
(method) 2277 2636 w
(when) 2684 2636 w
(we) 2976 2636 w
(lack) 3144 2636 w
(an) 3372 2636 w
(instance) 3524 2636 w
(of) 3962 2636 w
(the) 4095 2636 w
(type.) 4285 2636 w
(This) 4592 2636 w
(usu\255) 4832 2636 w
(ally) 720 2756 w
(occurs) 946 2756 w
(when) 1324 2756 w
(the) 1642 2756 w
(abstract) 1858 2756 w
(type) 2309 2756 w
(provides) 2578 2756 w
(an) 3055 2756 w
(initialization) 3232 2756 w
(method) 3892 2756 w
(that) 4324 2756 w
(returns) 4575 2756 w
(a) 4985 2756 w
(pointer) 720 2876 w
(to) 1122 2876 w
(the) 1273 2876 w
(initialized) 1481 2876 w
(type.) 2009 2876 w
(Alef) 2334 2876 w
(provides) 2578 2876 w
(a) 3047 2876 w
(mechanism) 3155 2876 w
(for) 3760 2876 w
(referencing) 3952 2876 w
(a) 4559 2876 w
(method) 4668 2876 w
(without) 720 2996 w
(an) 1120 2996 w
(instantiation) 1272 2996 w
(of) 1913 2996 w
(the) 2046 2996 w
(type) 2236 2996 w
(using) 2479 2996 w
(the) 2780 2996 w
(syntax) 2970 2996 w
10 /LucidaTypewriter f
(.) 3323 2996 w
10 /LucidaSans-Italic f
(typename) 3395 2996 w
10 /LucidaTypewriter f
(.) 3871 2996 w
10 /LucidaSans-Italic f
(method) 3943 2996 w
10 /LucidaSansUnicode00 f
(.) 4307 2996 w
(For) 4405 2996 w
(example,) 4595 2996 w
(the) 720 3116 w
(initialization) 908 3116 w
(function) 1541 3116 w
(of) 1975 3116 w
(the) 2106 3116 w
10 /LucidaTypewriter f
(Mouse) 2295 3116 w
10 /LucidaSansUnicode00 f
(data) 2689 3116 w
(type) 2933 3116 w
(is) 3175 3116 w
(invoked) 3289 3116 w
(by) 3704 3116 w
10 /LucidaTypewriter f
(.Mouse.init\() 3853 3116 w
10 /LucidaSans-Italic f
(args) 4717 3116 w
10 /LucidaTypewriter f
(\)) 4936 3116 w
10 /LucidaSansUnicode00 f
(.) 5008 3116 w
(If) 720 3236 w
(the) 832 3236 w
(method) 1033 3236 w
(expecting) 1451 3236 w
(an) 1974 3236 w
(implicit) 2137 3236 w
(parameter) 2543 3236 w
(is) 3086 3236 w
(invoked) 3212 3236 w
(in) 3639 3236 w
(this) 3775 3236 w
(manner,) 3999 3236 w
10 /LucidaTypewriter f
(nil) 4445 3236 w
10 /LucidaSansUnicode00 f
(is) 4706 3236 w
(sup\255) 4831 3236 w
(plied) 720 3356 w
(as) 1004 3356 w
(the) 1154 3356 w
(first) 1353 3356 w
(argument.) 1592 3356 w
(A) 2168 3356 w
(method) 2281 3356 w
(reference) 2697 3356 w
(of) 3197 3356 w
(this) 3339 3356 w
(type) 3562 3356 w
(is) 3814 3356 w
(equivalent) 3938 3356 w
(to) 4483 3356 w
(invoking) 4625 3356 w
(the) 720 3476 w
(method) 982 3476 w
(using) 1460 3476 w
(a) 1832 3476 w
10 /LucidaTypewriter f
(nil) 1993 3476 w
10 /LucidaSansUnicode00 f
(base) 2315 3476 w
(address,) 2646 3476 w
(for) 3164 3476 w
(example,) 3409 3476 w
10 /LucidaTypewriter f
(\(\(Mouse*\)nil\)->) 3960 3476 w
(init\() 720 3596 w
10 /LucidaSans-Italic f
(args) 1080 3596 w
10 /LucidaTypewriter f
(\)) 1299 3596 w
10 /LucidaSansUnicode00 f
(.) 1371 3596 w
(All) 720 3752 w
(state) 885 3752 w
(information) 1159 3752 w
(pertaining) 1764 3752 w
(to) 2298 3752 w
(an) 2434 3752 w
(abstract) 2589 3752 w
(data) 3017 3752 w
(type) 3266 3752 w
(should) 3513 3752 w
(be) 3880 3752 w
(stored) 4038 3752 w
(in) 4386 3752 w
(data) 4516 3752 w
(mem\255) 4765 3752 w
(bers) 720 3872 w
(of) 972 3872 w
(the) 1111 3872 w
(type) 1307 3872 w
(and) 1556 3872 w
(not) 1777 3872 w
(in) 1978 3872 w
(global) 2110 3872 w
(variables.) 2450 3872 w
(The) 2986 3872 w
(type) 3207 3872 w
(methods) 3455 3872 w
(can) 3918 3872 w
(then) 4126 3872 w
(be) 4383 3872 w
(expressed) 4542 3872 w
(entirely) 720 3992 w
(in) 1128 3992 w
(terms) 1265 3992 w
(of) 1589 3992 w
(the) 1733 3992 w
(type) 1934 3992 w
(instantiation) 2188 3992 w
(supplied) 2840 3992 w
(as) 3302 3992 w
(an) 3454 3992 w
(argument,) 3618 3992 w
(allowing) 4165 3992 w
(indepen\255) 4616 3992 w
(dent processing of multiple instances of the type.) 720 4112 w
(Since) 720 4268 w
(the) 1015 4268 w
10 /LucidaTypewriter f
(Mouse) 1213 4268 w
10 /LucidaSansUnicode00 f
(and) 1616 4268 w
10 /LucidaTypewriter f
(Keyboard) 1839 4268 w
10 /LucidaSansUnicode00 f
(abstract) 2458 4268 w
(data) 2892 4268 w
(types) 3146 4268 w
(hide) 3449 4268 w
(the) 3703 4268 w
(details) 3902 4268 w
(of) 4266 4268 w
(initialization,) 4408 4268 w
(the executive process is simplified:) 720 4388 w
9 /LucidaTypewriter f
(void) 1008 4558 w
(main\(void\)) 1008 4668 w
({) 1008 4778 w
(Mouse) 1528 4888 w
(*m;) 1918 4888 w
(Keyboard) 1528 4998 w
(*k;) 2113 4998 w
(chan\(tuple\(int,) 1528 5108 w
(chan\(int\)\)\)) 2568 5108 w
(alarm;) 3348 5108 w
(chan\(int\)) 1528 5218 w
(term;) 2178 5218 w
(alloc) 1528 5438 w
(term,) 1918 5438 w
(alarm;) 2308 5438 w
(m) 1528 5668 w
(=) 1658 5668 w
(.Mouse.init\("/dev/mouse",) 1788 5668 w
(term\);) 3478 5668 w
(if\(m) 1528 5778 w
(==) 1853 5778 w
(nil\)) 2048 5778 w
(exits\("mouse"\);) 2048 5888 w
(k) 1528 6118 w
(=) 1658 6118 w
(.Keyboard.init\("/dev/cons",) 1788 6118 w
(term\);) 3608 6118 w
(if\(k) 1528 6228 w
(==) 1853 6228 w
(nil\)) 2048 6228 w
({) 2373 6228 w
(m->close\(\);) 2048 6338 w
(exits\("keyboard"\);) 2048 6448 w
(}) 1528 6558 w
(proc) 1528 6788 w
(alarmproc\(alarm\);) 1853 6788 w
(task) 1528 6898 w
(kbdtask\(k->ch\),) 1853 6898 w
(mousetask\(m->ch,) 2893 6898 w
(alarm\);) 3998 6898 w
cleartomark
showpage
saveobj restore
%%EndPage: 25 25
%%Page: 26 26
/saveobj save def
mark
26 pagesetup
10 /LucidaSansUnicode00 f
(\255 26 \255) 2752 480 w
9 /LucidaTypewriter f
(<-term;) 1528 830 w
(/*) 3088 830 w
(main) 3283 830 w
(thread) 3608 830 w
(blocks) 4063 830 w
(here) 4518 830 w
(*/) 4843 830 w
(k->close\(\);) 1528 940 w
(m->close\(\);) 1528 1050 w
(postnote\(PNPROC,) 1528 1160 w
(alarmpid,) 2633 1160 w
("kill"\);) 3283 1160 w
(exits\(nil\);) 1528 1270 w
(}) 1008 1380 w
10 /LucidaSansUnicode00 f
(The) 720 1560 w
(alarm) 949 1560 w
(server) 1270 1560 w
(could) 1615 1560 w
(also) 1929 1560 w
(be) 2173 1560 w
(implemented) 2340 1560 w
(as) 3025 1560 w
(an) 3179 1560 w
(abstract) 3344 1560 w
(data) 3782 1560 w
(type) 4040 1560 w
(using) 4296 1560 w
(a) 4610 1560 w
(similar) 4713 1560 w
(approach.) 720 1680 w
(We leave that as an exercise for the reader.) 1267 1680 w
10 /LucidaSans-Demi f
(Error Handling) 720 1920 w
10 /LucidaSansUnicode00 f
(Alef provides three mechanisms for detecting and handling errors.) 720 2076 w
(The) 720 2232 w
10 /LucidaTypewriter f
(check) 939 2232 w
10 /LucidaSansUnicode00 f
(statement) 1337 2232 w
(tests) 1859 2232 w
(an) 2129 2232 w
(assertion) 2284 2232 w
(and) 2765 2232 w
(aborts) 2983 2232 w
(the) 3330 2232 w
(process) 3524 2232 w
(with) 3937 2232 w
(an) 4181 2232 w
(error) 4337 2232 w
(message) 4616 2232 w
(when) 720 2352 w
(the) 1039 2352 w
(assertion) 1256 2352 w
(fails.) 1761 2352 w
(The) 2088 2352 w
(keyword) 2331 2352 w
(is) 2801 2352 w
(followed) 2943 2352 w
(by) 3418 2352 w
(a) 3595 2352 w
(logical) 3712 2352 w
(expression) 4090 2352 w
(and) 4682 2352 w
(an) 4923 2352 w
(optional) 720 2472 w
(string) 1154 2472 w
(separated) 1473 2472 w
(from) 1988 2472 w
(the) 2258 2472 w
(expression) 2451 2472 w
(by) 3020 2472 w
(a) 3173 2472 w
(comma.) 3266 2472 w
(If) 3721 2472 w
(the) 3825 2472 w
(expression) 4018 2472 w
(evaluates) 4587 2472 w
(to) 720 2592 w
(zero,) 875 2592 w
(a) 1179 2592 w
(message) 1291 2592 w
(containing) 1772 2592 w
(the) 2339 2592 w
(name) 2551 2592 w
(of) 2873 2592 w
(the) 3027 2592 w
(source) 3238 2592 w
(file,) 3616 2592 w
(the) 3855 2592 w
(line) 4066 2592 w
(number) 4298 2592 w
(of) 4731 2592 w
(the) 4885 2592 w
10 /LucidaTypewriter f
(check) 720 2712 w
10 /LucidaSansUnicode00 f
(statement,) 1127 2712 w
(the) 1690 2712 w
(name) 1892 2712 w
(of) 2205 2712 w
(the) 2350 2712 w
(current) 2552 2712 w
(function,) 2949 2712 w
(the) 3429 2712 w
(optional) 3631 2712 w
(string,) 4075 2712 w
(and) 4437 2712 w
(the) 4665 2712 w
(last) 4868 2712 w
(system) 720 2832 w
(error) 1108 2832 w
(message) 1396 2832 w
(is) 1868 2832 w
(printed) 1996 2832 w
(on) 2395 2832 w
(standard) 2565 2832 w
(error) 3039 2832 w
(and) 3326 2832 w
(the) 3553 2832 w
(process) 3755 2832 w
(exits.) 4176 2832 w
(Other) 4521 2832 w
(pro\255) 4842 2832 w
(cesses) 720 2952 w
(are) 1081 2952 w
(unaffected.) 1278 2952 w
(When) 1904 2952 w
(the) 2216 2952 w
(optional) 2417 2952 w
(string) 2860 2952 w
(is) 3188 2952 w
(not) 3314 2952 w
(specified,) 3520 2952 w
(the) 4033 2952 w
(string) 4234 2952 w
("check") 4562 2952 w
(is) 4960 2952 w
(supplied in its place.) 720 3072 w
(For example,) 1790 3072 w
9 /LucidaTypewriter f
(n) 1528 3242 w
(=) 1658 3242 w
(write\(-1,) 1788 3242 w
(buf,) 2438 3242 w
(len\);) 2763 3242 w
(check) 1528 3352 w
(n) 1918 3352 w
(==) 2048 3352 w
(len,) 2243 3352 w
("write) 2568 3352 w
(error";) 3023 3352 w
10 /LucidaSansUnicode00 f
(prints a message of the form) 720 3532 w
9 /LucidaTypewriter f
(test.l:7:main\(\)) 1008 3702 w
(write) 2048 3702 w
(error,) 2438 3702 w
(errstr\(file) 2893 3702 w
(not) 3673 3702 w
(open\)) 3933 3702 w
10 /LucidaSansUnicode00 f
(The) 720 3882 w
(error) 973 3882 w
(handler) 1285 3882 w
(is) 1725 3882 w
(invoked) 1877 3882 w
(indirectly) 2330 3882 w
(through) 2851 3882 w
(the) 3310 3882 w
(global) 3537 3882 w
(variable) 3908 3882 w
10 /LucidaTypewriter f
(ALEFcheck) 4360 3882 w
10 /LucidaSansUnicode00 f
(,) 5008 3882 w
(declared as follows:) 720 4002 w
9 /LucidaTypewriter f
(void) 1528 4172 w
(\(*ALEFcheck\)\(byte*,) 1853 4172 w
(byte*\);) 3153 4172 w
10 /LucidaSansUnicode00 f
(If the default error handling strategy is inappropriate, an application can set this variable) 720 4352 w
(to) 720 4472 w
(the) 855 4472 w
(address) 1047 4472 w
(of) 1464 4472 w
(its) 1599 4472 w
(own) 1753 4472 w
(error) 1989 4472 w
(handler.) 2265 4472 w
(The) 2733 4472 w
(first) 2950 4472 w
(parameter) 3181 4472 w
(is) 3714 4472 w
(the) 3830 4472 w
(string) 4021 4472 w
(containing) 4339 4472 w
(the) 4885 4472 w
(file, line number and function name and the second is the optional string supplied) 720 4592 w
(in) 4761 4592 w
(the) 4885 4592 w
10 /LucidaTypewriter f
(check) 720 4712 w
10 /LucidaSansUnicode00 f
(statement.) 1129 4712 w
(An) 1726 4712 w
(error) 1906 4712 w
(handler) 2194 4712 w
(should) 2610 4712 w
(never) 2986 4712 w
(return;) 3301 4712 w
(most) 3680 4712 w
(code,) 3970 4712 w
(including) 4281 4712 w
(many) 4778 4712 w
(library) 720 4832 w
(functions,) 1067 4832 w
(assumes) 1589 4832 w
(that) 2046 4832 w
(sequential) 2275 4832 w
(execution) 2813 4832 w
(cannot) 3326 4832 w
(resume) 3692 4832 w
(after) 4089 4832 w
(a) 4353 4832 w
(failed) 4446 4832 w
(asser\255) 4753 4832 w
(tion.) 720 4952 w
10 /LucidaTypewriter f
(Check) 1012 4952 w
10 /LucidaSansUnicode00 f
(statements) 1411 4952 w
(can) 1985 4952 w
(be) 2192 4952 w
(compiled) 2349 4952 w
(out) 2832 4952 w
(of) 3030 4952 w
(production) 3166 4952 w
(code) 3734 4952 w
(by) 4003 4952 w
(invoking) 4156 4952 w
(the) 4609 4952 w
(com\255) 4802 4952 w
(piler with the) 720 5072 w
10 /LucidaTypewriter f
(-c) 1394 5072 w
10 /LucidaSansUnicode00 f
(command line flag.) 1570 5072 w
(The) 720 5228 w
10 /LucidaTypewriter f
(rescue) 938 5228 w
10 /LucidaSansUnicode00 f
(statement) 1407 5228 w
(defines) 1928 5228 w
(a) 2319 5228 w
(block) 2411 5228 w
(of) 2710 5228 w
(code) 2845 5228 w
(to) 3113 5228 w
(be) 3248 5228 w
(executed) 3404 5228 w
(by) 3883 5228 w
(a) 4035 5228 w
10 /LucidaTypewriter f
(raise) 4127 5228 w
10 /LucidaSansUnicode00 f
(statement.) 4524 5228 w
(A) 720 5348 w
(rescue) 825 5348 w
(block) 1178 5348 w
(usually) 1476 5348 w
(contains) 1852 5348 w
(error) 2296 5348 w
(recovery) 2572 5348 w
(code,) 3018 5348 w
(but) 3317 5348 w
(there) 3515 5348 w
(is) 3803 5348 w
(no) 3919 5348 w
(formal) 4077 5348 w
(enforcement) 4428 5348 w
(of) 720 5468 w
(this) 852 5468 w
(use.) 1065 5468 w
(A) 1332 5468 w
(rescue) 1435 5468 w
(block) 1786 5468 w
(is) 2082 5468 w
(never) 2196 5468 w
(entered) 2498 5468 w
(by) 2904 5468 w
(sequential) 3054 5468 w
(execution) 3589 5468 w
(from) 4099 5468 w
(the) 4366 5468 w
(statement) 4556 5468 w
(preceding) 720 5588 w
(the) 1237 5588 w
(block;) 1426 5588 w
(only) 1754 5588 w
(a) 1992 5588 w
10 /LucidaTypewriter f
(raise) 2081 5588 w
10 /LucidaSansUnicode00 f
(or) 2475 5588 w
(a) 2611 5588 w
10 /LucidaTypewriter f
(goto) 2700 5588 w
10 /LucidaSansUnicode00 f
(statement) 3022 5588 w
(can) 3540 5588 w
(cause) 3742 5588 w
(its) 4051 5588 w
(execution.) 4202 5588 w
(When) 4774 5588 w
(a) 720 5708 w
(rescue) 818 5708 w
(block) 1178 5708 w
(is) 1483 5708 w
(entered,) 1606 5708 w
(execution) 2052 5708 w
(flows) 2570 5708 w
(through) 2868 5708 w
(the) 3298 5708 w
(end) 3496 5708 w
(of) 3720 5708 w
(a) 3862 5708 w
10 /LucidaTypewriter f
(rescue) 3961 5708 w
10 /LucidaSansUnicode00 f
(block) 4437 5708 w
(to) 4743 5708 w
(the) 4885 5708 w
(following) 720 5828 w
(statement.) 1201 5828 w
(Rescue) 1783 5828 w
(blocks) 2156 5828 w
(are) 2503 5828 w
(well-suited) 2689 5828 w
(for) 3270 5828 w
(specifying) 3442 5828 w
(a) 3967 5828 w
(recovery) 4055 5828 w
(action) 4498 5828 w
(near) 4826 5828 w
(the) 720 5948 w
(point) 913 5948 w
(where) 1204 5948 w
(a) 1535 5948 w
(resource) 1629 5948 w
(is) 2087 5948 w
(claimed) 2206 5948 w
(instead) 2621 5948 w
(of) 3013 5948 w
(replicating) 3150 5948 w
(the) 3703 5948 w
(recovery) 3897 5948 w
(at) 4346 5948 w
(subsequent) 4477 5948 w
(points of error.) 720 6068 w
(An) 720 6224 w
(optional) 891 6224 w
(name) 1328 6224 w
(may) 1634 6224 w
(follow) 1874 6224 w
(the) 2208 6224 w
10 /LucidaTypewriter f
(rescue) 2403 6224 w
10 /LucidaSansUnicode00 f
(or) 2875 6224 w
10 /LucidaTypewriter f
(raise) 3017 6224 w
10 /LucidaSansUnicode00 f
(keyword.) 3417 6224 w
(When) 3929 6224 w
(a) 4235 6224 w
(name) 4330 6224 w
(is) 4636 6224 w
(speci\255) 4757 6224 w
(fied) 720 6344 w
(in) 946 6344 w
(a) 1078 6344 w
10 /LucidaTypewriter f
(raise) 1173 6344 w
10 /LucidaSansUnicode00 f
(statement,) 1573 6344 w
(the) 2161 6344 w
(named) 2356 6344 w
(rescue) 2725 6344 w
(block) 3082 6344 w
(is) 3384 6344 w
(executed;) 3504 6344 w
(otherwise) 4018 6344 w
(the) 4528 6344 w
(rescue) 4723 6344 w
(block) 720 6464 w
(immediately) 1034 6464 w
(preceding) 1679 6464 w
(the) 2215 6464 w
10 /LucidaTypewriter f
(raise) 2423 6464 w
10 /LucidaSansUnicode00 f
(statement) 2836 6464 w
(in) 3373 6464 w
(the) 3517 6464 w
(code) 3725 6464 w
(is) 4009 6464 w
(executed.) 4142 6464 w
(Rescue) 4701 6464 w
(blocks) 720 6584 w
(may be chained; one block may contain a) 1066 6584 w
10 /LucidaTypewriter f
(raise) 3104 6584 w
10 /LucidaSansUnicode00 f
(statement that transfers control) 3496 6584 w
(to) 720 6704 w
(another) 874 6704 w
(rescue) 1305 6704 w
(block.) 1679 6704 w
(Finally,) 2062 6704 w
(rescue) 2461 6704 w
(block) 2835 6704 w
(names) 3154 6704 w
(are) 3528 6704 w
(syntactically) 3737 6704 w
(equivalent) 4384 6704 w
(to) 4942 6704 w
(labels.) 720 6824 w
(Their) 1114 6824 w
(scope) 1412 6824 w
(is) 1741 6824 w
(the) 1868 6824 w
(containing) 2070 6824 w
(function,) 2627 6824 w
(they) 3107 6824 w
(share) 3360 6824 w
(the) 3671 6824 w
(name) 3872 6824 w
(space) 4184 6824 w
(with) 4506 6824 w
(labels) 4757 6824 w
(without) 720 6944 w
(conflicting) 1136 6944 w
(with) 1697 6944 w
(variable) 1953 6944 w
(names,) 2384 6944 w
(and) 2784 6944 w
(they) 3015 6944 w
(may) 3273 6944 w
(be) 3524 6944 w
(the) 3694 6944 w
(destination) 3901 6944 w
(of) 4495 6944 w
(a) 4645 6944 w
10 /LucidaTypewriter f
(goto) 4752 6944 w
10 /LucidaSansUnicode00 f
(statement.) 720 7064 w
(A) 1318 7064 w
(rescue) 1437 7064 w
(block) 1804 7064 w
(may) 2116 7064 w
(only) 2366 7064 w
(be) 2620 7064 w
(invoked) 2789 7064 w
(from) 3220 7064 w
(within) 3502 7064 w
(the) 3848 7064 w
(function) 4053 7064 w
(where) 4504 7064 w
(it) 4845 7064 w
(is) 4960 7064 w
(defined.) 720 7184 w
cleartomark
showpage
saveobj restore
%%EndPage: 26 26
%%Page: 27 27
/saveobj save def
mark
27 pagesetup
10 /LucidaSansUnicode00 f
(\255 27 \255) 2752 480 w
(We) 720 840 w
(illustrate) 924 840 w
(the) 1412 840 w
(use) 1629 840 w
(of) 1861 840 w
(the) 2022 840 w
10 /LucidaTypewriter f
(rescue) 2240 840 w
10 /LucidaSansUnicode00 f
(and) 2735 840 w
10 /LucidaTypewriter f
(raise) 2978 840 w
10 /LucidaSansUnicode00 f
(statements) 3401 840 w
(with) 3999 840 w
(a) 4267 840 w
(function) 4385 840 w
(that) 4849 840 w
(searches) 720 960 w
(a) 1180 960 w
(directory) 1272 960 w
(for) 1740 960 w
(a) 1916 960 w
(file) 2008 960 w
(beginning) 2196 960 w
(with) 2720 960 w
(a) 2962 960 w
(specified) 3054 960 w
(string) 3526 960 w
(and) 3845 960 w
(returns) 4062 960 w
(the) 4449 960 w
(name) 4640 960 w
(of) 4942 960 w
(the file.) 720 1080 w
9 /LucidaTypewriter f
(byte*) 1008 1250 w
(findfile\(byte) 1008 1360 w
(*dirname,) 1918 1360 w
(byte) 2568 1360 w
(*string\)) 2893 1360 w
({) 1008 1470 w
(int) 1528 1580 w
(n,) 1788 1580 w
(dirfd,) 1983 1580 w
(fd;) 2438 1580 w
(byte) 1528 1690 w
(*buf,) 1853 1690 w
(buf2[512];) 2243 1690 w
(Dir) 1528 1800 w
(d;) 1788 1800 w
(n) 1528 2020 w
(=) 1658 2020 w
(strlen\(string\);) 1788 2020 w
(buf) 1528 2130 w
(=) 1788 2130 w
(malloc\(n\);) 1918 2130 w
(rescue) 1528 2240 w
({) 1983 2240 w
(unalloc) 2048 2350 w
(buf;) 2568 2350 w
(return) 2048 2460 w
(nil;) 2503 2460 w
(}) 1528 2570 w
(dirfd) 1528 2800 w
(=) 1918 2800 w
(open\(dirname,) 2048 2800 w
(OREAD\);) 2958 2800 w
(if\(dirfd) 1528 2910 w
(<) 2113 2910 w
(0\)) 2243 2910 w
(raise;) 2048 3020 w
(rescue) 1528 3130 w
(closedir{) 1983 3130 w
(close\(dirfd\);) 2048 3240 w
(raise;) 2048 3350 w
(}) 1528 3460 w
(while\(dirread\(dirfd,) 1528 3690 w
(&d,) 2893 3690 w
(sizeof\(d\)\)) 3153 3690 w
(==) 3868 3690 w
(DIRLEN\)) 4063 3690 w
({) 4583 3690 w
(sprint\(buf2,) 2048 3800 w
("%s/%s",) 2893 3800 w
(dirname,) 3478 3800 w
(d.name\);) 4063 3800 w
(fd) 2048 3910 w
(=) 2243 3910 w
(open\(buf2,) 2373 3910 w
(OREAD\);) 3088 3910 w
(if\(fd) 2048 4020 w
(<) 2438 4020 w
(0\)) 2568 4020 w
(continue;) 2568 4130 w
(rescue) 2048 4240 w
({) 2503 4240 w
(close\(fd\);) 2568 4350 w
(continue;) 2568 4460 w
(}) 2048 4570 w
(if\(read\(fd,) 2048 4800 w
(buf,) 2828 4800 w
(n\)) 3153 4800 w
(<=) 3348 4800 w
(0\)) 3543 4800 w
(raise;) 2568 4910 w
(close\(fd\);) 2048 5020 w
(if\(strncmp\(buf,) 2048 5130 w
(string,) 3088 5130 w
(n\)) 3608 5130 w
(==) 3803 5130 w
(0\)) 3998 5130 w
({) 4193 5130 w
(close\(dirfd\);) 2568 5240 w
(unalloc) 2568 5350 w
(buf;) 3088 5350 w
(buf) 2568 5460 w
(=) 2828 5460 w
(malloc\(strlen\(d.name\)+1\);) 2958 5460 w
(strcpy\(buf,) 2568 5570 w
(d.name\);) 3348 5570 w
(return) 2568 5680 w
(buf;) 3023 5680 w
(}) 2048 5790 w
(}) 1528 5900 w
(werrstr\("no) 1528 6010 w
(match"\);) 2308 6010 w
(raise) 1528 6120 w
(closedir;) 1918 6120 w
(return) 1528 6230 w
(nil;) 1983 6230 w
(/*) 3088 6230 w
(needed) 3283 6230 w
(to) 3738 6230 w
(fool) 3933 6230 w
(compiler) 4258 6230 w
(*/) 4843 6230 w
(}) 1008 6340 w
10 /LucidaSansUnicode00 f
(Notice) 720 6520 w
(that) 1081 6520 w
(each) 1325 6520 w
10 /LucidaTypewriter f
(raise) 1602 6520 w
10 /LucidaSansUnicode00 f
(statement,) 2015 6520 w
(except) 2584 6520 w
(the) 2961 6520 w
(last,) 3170 6520 w
(chains) 3428 6520 w
(back) 3792 6520 w
(through) 4073 6520 w
(the) 4514 6520 w
(rescue) 4723 6520 w
(blocks,) 720 6640 w
(each) 1105 6640 w
(of) 1369 6640 w
(which) 1507 6640 w
(closes) 1827 6640 w
(a) 2165 6640 w
(file) 2259 6640 w
(descriptor) 2449 6640 w
(or) 2981 6640 w
(frees) 3122 6640 w
(memory.) 3402 6640 w
(The) 3901 6640 w
(final) 4121 6640 w
10 /LucidaTypewriter f
(raise) 4372 6640 w
10 /LucidaSansUnicode00 f
(state\255) 4771 6640 w
(ment) 720 6760 w
(invokes) 1010 6760 w
(the) 1421 6760 w
10 /LucidaTypewriter f
(rescue) 1619 6760 w
10 /LucidaSansUnicode00 f
(block) 2094 6760 w
(named) 2399 6760 w
10 /LucidaTypewriter f
(closedir) 2771 6760 w
10 /LucidaSansUnicode00 f
(by) 3390 6760 w
(name) 3548 6760 w
(because) 3857 6760 w
(the) 4294 6760 w
(intervening) 4492 6760 w
(rescue) 720 6880 w
(block) 1072 6880 w
(closes) 1369 6880 w
(a) 1703 6880 w
(file) 1793 6880 w
(descriptor) 1979 6880 w
(that) 2507 6880 w
(is) 2733 6880 w
(no) 2848 6880 w
(longer) 3006 6880 w
(open.) 3352 6880 w
(The) 3693 6880 w
(return) 3908 6880 w
(statement) 4241 6880 w
(at) 4759 6880 w
(the) 4885 6880 w
(end) 720 7000 w
(of) 940 7000 w
(the) 1077 7000 w
(function) 1271 7000 w
(is) 1712 7000 w
(never) 1832 7000 w
(executed) 2139 7000 w
(but) 2621 7000 w
(is) 2823 7000 w
(required) 2943 7000 w
(to) 3394 7000 w
(convince) 3532 7000 w
(the) 3996 7000 w
(compiler) 4191 7000 w
(that) 4654 7000 w
(the) 4885 7000 w
(function always returns a value.) 720 7120 w
cleartomark
showpage
saveobj restore
%%EndPage: 27 27
%%Page: 28 28
/saveobj save def
mark
28 pagesetup
10 /LucidaSansUnicode00 f
(\255 28 \255) 2752 480 w
10 /LucidaSans-Demi f
(Parallel Execution) 720 840 w
10 /LucidaSansUnicode00 f
(The) 720 996 w
10 /LucidaTypewriter f
(par) 936 996 w
10 /LucidaSansUnicode00 f
(statement) 1187 996 w
(executes) 1706 996 w
(the) 2171 996 w
(statements) 2361 996 w
(in) 2931 996 w
(its) 3057 996 w
(body) 3209 996 w
(in) 3483 996 w
(parallel) 3609 996 w
(and) 4001 996 w
(joins) 4216 996 w
(the) 4484 996 w
(threads) 4675 996 w
(of) 720 1116 w
(execution) 852 1116 w
(at) 1361 1116 w
(the) 1487 1116 w
(end.) 1676 1116 w
(In) 1955 1116 w
(effect,) 2080 1116 w
10 /LucidaTypewriter f
(par) 2420 1116 w
10 /LucidaSansUnicode00 f
(forks) 2670 1116 w
(and) 2952 1116 w
(executes) 3166 1116 w
(a) 3630 1116 w
(process) 3719 1116 w
(for) 4127 1116 w
(each) 4299 1116 w
(statement) 4556 1116 w
(in) 720 1236 w
(its) 852 1236 w
(range) 1010 1236 w
(and) 1327 1236 w
(then) 1548 1236 w
(waits) 1806 1236 w
(for) 2096 1236 w
(all) 2276 1236 w
(processes) 2430 1236 w
(to) 2952 1236 w
(terminate) 3091 1236 w
(before) 3598 1236 w
(proceeding.) 3953 1236 w
(The) 4602 1236 w
10 /LucidaTypewriter f
(par) 4824 1236 w
10 /LucidaSansUnicode00 f
(statement) 720 1356 w
(is) 1252 1356 w
(useful) 1380 1356 w
(when) 1725 1356 w
(part) 2029 1356 w
(of) 2272 1356 w
(a) 2417 1356 w
(computation) 2519 1356 w
(can) 3177 1356 w
(be) 3392 1356 w
(performed) 3558 1356 w
(in) 4116 1356 w
(parallel) 4254 1356 w
(and) 4658 1356 w
(the) 4885 1356 w
(remainder) 720 1476 w
(must) 1273 1476 w
(be) 1573 1476 w
(single-threaded.) 1749 1476 w
(Algorithms) 2651 1476 w
(of) 3243 1476 w
(this) 3399 1476 w
(type) 3636 1476 w
(could) 3902 1476 w
(be) 4226 1476 w
(implemented) 4403 1476 w
(using) 720 1596 w
(processes) 1035 1596 w
(and) 1565 1596 w
(channels) 1794 1596 w
(or) 2271 1596 w
(locks,) 2421 1596 w
(but) 2751 1596 w
(the) 2961 1596 w
(modest) 3164 1596 w
(synchronization) 3573 1596 w
(requirements) 4393 1596 w
(are satisfied by the) 720 1716 w
10 /LucidaTypewriter f
(par) 1678 1716 w
10 /LucidaSansUnicode00 f
(primitive.) 1926 1716 w
(The) 720 1872 w
10 /LucidaTypewriter f
(par) 933 1872 w
10 /LucidaSansUnicode00 f
(statement:) 1181 1872 w
9 /LucidaTypewriter f
(par) 1528 2042 w
({) 1788 2042 w
(statement) 2048 2152 w
(1;) 2698 2152 w
(statement) 2048 2262 w
(2;) 2698 2262 w
(...) 2243 2372 w
(statement) 2048 2482 w
(n;) 2698 2482 w
(}) 1528 2592 w
10 /LucidaSansUnicode00 f
(is) 720 2772 w
(a) 849 2772 w
(block) 953 2772 w
(containing) 1264 2772 w
(any) 1823 2772 w
(number) 2041 2772 w
(of) 2468 2772 w
(statements.) 2616 2772 w
(Since) 3265 2772 w
(braces) 3567 2772 w
(can) 3934 2772 w
(be) 4152 2772 w
(used) 4321 2772 w
(to) 4603 2772 w
(group) 4751 2772 w
(statements,) 720 2892 w
(each) 1324 2892 w
(statement) 1585 2892 w
(can) 2106 2892 w
(be) 2311 2892 w
(arbitrarily) 2466 2892 w
(complicated.) 2974 2892 w
(The) 3662 2892 w
(flow) 3879 2892 w
(of) 4119 2892 w
(execution) 4253 2892 w
(is) 4764 2892 w
(not) 4880 2892 w
(sequential;) 720 3012 w
(each) 1292 3012 w
(statement) 1556 3012 w
(is) 2080 3012 w
(executed) 2200 3012 w
(independently) 2682 3012 w
(and) 3412 3012 w
(control) 3633 3012 w
(then) 4016 3012 w
(transfers) 4274 3012 w
(to) 4746 3012 w
(the) 4885 3012 w
(end) 720 3132 w
(of) 942 3132 w
(the) 1081 3132 w
10 /LucidaTypewriter f
(par) 1277 3132 w
10 /LucidaSansUnicode00 f
(block.) 1534 3132 w
(Further,) 1901 3132 w
(the) 2327 3132 w
(order) 2523 3132 w
(of) 2826 3132 w
(execution) 2965 3132 w
(is) 3481 3132 w
(undefined.) 3602 3132 w
(The) 4196 3132 w
(semantics) 4417 3132 w
(of) 4942 3132 w
10 /LucidaTypewriter f
(par) 720 3252 w
10 /LucidaSansUnicode00 f
(ensure) 974 3252 w
(that) 1340 3252 w
(the) 1569 3252 w
(code) 1762 3252 w
(following) 2031 3252 w
(the) 2516 3252 w
(body) 2709 3252 w
(of) 2986 3252 w
(the) 3122 3252 w
10 /LucidaTypewriter f
(par) 3315 3252 w
10 /LucidaSansUnicode00 f
(block) 3569 3252 w
(is) 3870 3252 w
(not) 3989 3252 w
(executed) 4188 3252 w
(until) 4669 3252 w
(all) 4927 3252 w
(statements within the block have completed execution.) 720 3372 w
(All) 720 3528 w
(branches) 892 3528 w
(of) 1378 3528 w
(a) 1521 3528 w
10 /LucidaTypewriter f
(par) 1621 3528 w
10 /LucidaSansUnicode00 f
(statement) 1882 3528 w
(share) 2411 3528 w
(the) 2721 3528 w
(automatic) 2921 3528 w
(variables) 3446 3528 w
(and) 3922 3528 w
(parameters) 4147 3528 w
(of) 4741 3528 w
(the) 4885 3528 w
(function) 720 3648 w
(containing) 1156 3648 w
(the) 1701 3648 w
(statement.) 1891 3648 w
(If) 2473 3648 w
(a) 2573 3648 w
10 /LucidaTypewriter f
(par) 2662 3648 w
10 /LucidaSansUnicode00 f
(statement) 2912 3648 w
(calls) 3430 3648 w
(a) 3679 3648 w
(function,) 3768 3648 w
(the) 4235 3648 w
(stack) 4424 3648 w
(expan\255) 4710 3648 w
(sion) 720 3768 w
(is) 961 3768 w
(unique) 1079 3768 w
(to) 1451 3768 w
(the) 1587 3768 w
(statement) 1780 3768 w
(and) 2302 3768 w
(is) 2520 3768 w
(inaccessible) 2638 3768 w
(to) 3259 3768 w
(other) 3395 3768 w
(statements.) 3690 3768 w
(When) 4327 3768 w
(the) 4631 3768 w
10 /LucidaTypewriter f
(par) 4824 3768 w
10 /LucidaSansUnicode00 f
(completes,) 720 3888 w
(any) 1284 3888 w
(per-statement) 1488 3888 w
(stack) 2225 3888 w
(growth) 2512 3888 w
(is) 2887 3888 w
(reclaimed) 3002 3888 w
(and) 3510 3888 w
(the) 3725 3888 w
(single) 3915 3888 w
(thread) 4239 3888 w
(of) 4588 3888 w
(execu\255) 4721 3888 w
(tion continues in the context of the current function.) 720 4008 w
(The) 720 4164 w
10 /LucidaTypewriter f
(par) 945 4164 w
10 /LucidaSansUnicode00 f
(primitive) 1205 4164 w
(is) 1678 4164 w
(ideal) 1802 4164 w
(for) 2078 4164 w
(implementing) 2262 4164 w
(a) 2978 4164 w
(read-ahead) 3078 4164 w
(algorithm.) 3687 4164 w
(Consider) 4265 4164 w
(a) 4742 4164 w
(pro\255) 4842 4164 w
(gram) 720 4284 w
(that) 1005 4284 w
(displays) 1230 4284 w
(the) 1657 4284 w
(contents) 1846 4284 w
(of) 2297 4284 w
(a) 2428 4284 w
(file) 2516 4284 w
(containing) 2700 4284 w
(blocks) 3243 4284 w
(of) 3589 4284 w
(compressed) 3720 4284 w
(image) 4339 4284 w
(data.) 4667 4284 w
(It) 4974 4284 w
(performs) 720 4404 w
(two) 1197 4404 w
(compute-intensive) 1406 4404 w
(tasks:) 2356 4404 w
(decompressing) 2675 4404 w
(the) 3449 4404 w
(data) 3639 4404 w
(on) 3884 4404 w
(input) 4042 4404 w
(and) 4330 4404 w
(displaying) 4545 4404 w
(a) 720 4524 w
(large) 813 4524 w
(and) 1094 4524 w
(potentially) 1312 4524 w
(complex) 1860 4524 w
(image.) 2312 4524 w
(Assuming) 2709 4524 w
(that) 3226 4524 w
(the) 3455 4524 w
(blocks) 3647 4524 w
(are) 3997 4524 w
(accessed) 4186 4524 w
(sequen\255) 4657 4524 w
(tially,) 720 4644 w
(we) 1021 4644 w
(can) 1192 4644 w
(decrease) 1398 4644 w
(the) 1865 4644 w
(screen) 2058 4644 w
(update) 2413 4644 w
(time) 2787 4644 w
(on) 3040 4644 w
(a) 3202 4644 w
(multi-processor) 3296 4644 w
(by) 4119 4644 w
(overlapping) 4273 4644 w
(the) 4885 4644 w
(two operations.) 720 4764 w
(The following Alef code sketches the algorithm:) 1539 4764 w
9 /LucidaTypewriter f
(void) 1008 4934 w
(main\(int,) 1008 5044 w
(byte) 1658 5044 w
(**argv\)) 1983 5044 w
({) 1008 5154 w
(byte) 1528 5264 w
(*active,) 1853 5264 w
(*passive;) 2438 5264 w
(int) 1528 5374 w
(fd,) 1788 5374 w
(n;) 2048 5374 w
(fd) 1528 5594 w
(=) 1723 5594 w
(open\(argv[1],) 1853 5594 w
(OREAD\);) 2763 5594 w
(check) 1528 5704 w
(fd) 1918 5704 w
(>=) 2113 5704 w
(0,) 2308 5704 w
("open) 2503 5704 w
(error";) 2893 5704 w
(active) 1528 5934 w
(=) 1983 5934 w
(malloc\(BUFSIZE\);) 2113 5934 w
(passive) 1528 6044 w
(=) 2048 6044 w
(malloc\(BUFSIZE\);) 2178 6044 w
cleartomark
showpage
saveobj restore
%%EndPage: 28 28
%%Page: 29 29
/saveobj save def
mark
29 pagesetup
10 /LucidaSansUnicode00 f
(\255 29 \255) 2752 480 w
9 /LucidaTypewriter f
(n) 1528 830 w
(=) 1658 830 w
(decode\(fd,) 1788 830 w
(active,) 2503 830 w
(BUFSIZE\);) 3023 830 w
(/*) 3803 830 w
(first) 3998 830 w
(block) 4388 830 w
(*/) 4778 830 w
(check) 1528 940 w
(n) 1918 940 w
(>) 2048 940 w
(0,) 2178 940 w
("read) 2373 940 w
(error";) 2763 940 w
(while\(active) 1528 1050 w
(!=) 2373 1050 w
(nil\)) 2568 1050 w
({) 2893 1050 w
(par) 2048 1160 w
({) 2308 1160 w
(display\(active,) 2568 1270 w
(BUFSIZE\);) 3608 1270 w
(if\(decode\(fd,) 2568 1490 w
(passive,) 3478 1490 w
(BUFSIZE\)) 4063 1490 w
(<=) 4648 1490 w
(0\)) 4843 1490 w
(passive) 3088 1600 w
(=) 3608 1600 w
(nil;) 3738 1600 w
(}) 2048 1710 w
(\(active,) 2048 1820 w
(passive\)) 2633 1820 w
(=) 3218 1820 w
(\(passive,) 3348 1820 w
(active\);) 3998 1820 w
(waitforinput\(\);) 2048 1930 w
(}) 1528 2040 w
(}) 1008 2150 w
10 /LucidaSansUnicode00 f
(The) 720 2330 w
(function) 935 2330 w
(named) 1370 2330 w
10 /LucidaTypewriter f
(decode) 1733 2330 w
10 /LucidaSansUnicode00 f
(reads,) 2200 2330 w
(validates) 2533 2330 w
(and) 2995 2330 w
(decompresses) 3210 2330 w
(the) 3938 2330 w
(input) 4128 2330 w
(data) 4416 2330 w
(into) 4661 2330 w
(the) 4885 2330 w
(buffer) 720 2450 w
(supplied) 1081 2450 w
(as) 1562 2450 w
(the) 1733 2450 w
(second) 1952 2450 w
(argument.) 2360 2450 w
(Function) 2956 2450 w
10 /LucidaTypewriter f
(display) 3438 2450 w
10 /LucidaSansUnicode00 f
(displays) 4006 2450 w
(a) 4463 2450 w
(buffer) 4582 2450 w
(of) 4942 2450 w
(decompressed) 720 2570 w
(data) 1487 2570 w
(and) 1760 2570 w
10 /LucidaTypewriter f
(waitforinput) 2003 2570 w
10 /LucidaSansUnicode00 f
(solicits) 2930 2570 w
(user) 3331 2570 w
(input.) 3604 2570 w
(After) 3984 2570 w
(filling) 4287 2570 w
(the) 4627 2570 w
(first) 4845 2570 w
(buffer) 720 2690 w
(with) 1053 2690 w
(data,) 1295 2690 w
(calls) 1574 2690 w
(to) 1826 2690 w
10 /LucidaTypewriter f
(display) 1961 2690 w
10 /LucidaSansUnicode00 f
(and) 2501 2690 w
10 /LucidaTypewriter f
(decode) 2717 2690 w
10 /LucidaSansUnicode00 f
(execute) 3185 2690 w
(in) 3600 2690 w
(parallel.) 3727 2690 w
(The) 4184 2690 w
(buffer) 4401 2690 w
(switch) 4733 2690 w
(following the) 720 2810 w
10 /LucidaTypewriter f
(par) 1386 2810 w
10 /LucidaSansUnicode00 f
(statement is not executed until both operations complete.) 1634 2810 w
10 /LucidaSans-Demi f
(Allocators) 720 3050 w
10 /LucidaSansUnicode00 f
(The) 720 3206 w
10 /LucidaTypewriter f
(alloc) 973 3206 w
10 /LucidaSansUnicode00 f
(primitive) 1406 3206 w
(and) 1908 3206 w
10 /LucidaTypewriter f
(malloc) 2161 3206 w
10 /LucidaSansUnicode00 f
(library) 2666 3206 w
(function) 3049 3206 w
(dynamically) 3523 3206 w
(allocate) 4166 3206 w
(memory.) 4612 3206 w
10 /LucidaTypewriter f
(Alloc) 720 3326 w
10 /LucidaSansUnicode00 f
(accepts) 1116 3326 w
(a) 1515 3326 w
(list) 1605 3326 w
(of) 1786 3326 w
(pointers) 1919 3326 w
(as) 2354 3326 w
(its) 2495 3326 w
(operand;) 2647 3326 w
(each) 3115 3326 w
(pointer) 3374 3326 w
(is) 3758 3326 w
(set) 3873 3326 w
(to) 4052 3326 w
(the) 4185 3326 w
(address) 4375 3326 w
(of) 4790 3326 w
(an) 4923 3326 w
(area) 720 3446 w
(that) 964 3446 w
(is) 1192 3446 w
(the) 1309 3446 w
(size) 1501 3446 w
(of) 1731 3446 w
(the) 1866 3446 w
(object) 2058 3446 w
(referenced) 2393 3446 w
(by) 2949 3446 w
(the) 3101 3446 w
(pointer.) 3293 3446 w
10 /LucidaTypewriter f
(Malloc) 3743 3446 w
10 /LucidaSansUnicode00 f
(returns) 4212 3446 w
(a) 4599 3446 w
(pointer) 4691 3446 w
(to) 720 3566 w
(an) 853 3566 w
(area) 1005 3566 w
(of) 1247 3566 w
(memory) 1380 3566 w
(at) 1811 3566 w
(least) 1938 3566 w
(as) 2201 3566 w
(big) 2342 3566 w
(as) 2530 3566 w
(the) 2670 3566 w
(number) 2859 3566 w
(of) 3270 3566 w
(bytes) 3402 3566 w
(specified) 3695 3566 w
(by) 4164 3566 w
(its) 4313 3566 w
(single) 4464 3566 w
(argu\255) 4787 3566 w
(ment.) 720 3686 w
(Both) 1075 3686 w
(clear) 1336 3686 w
(the) 1611 3686 w
(allocated) 1809 3686 w
(memory) 2288 3686 w
(to) 2727 3686 w
(zero) 2868 3686 w
(and) 3126 3686 w
(always) 3350 3686 w
(yield) 3713 3686 w
(a) 3986 3686 w
(valid) 4085 3686 w
(address;) 4357 3686 w
(if) 4813 3686 w
(an) 4923 3686 w
(allocation) 720 3806 w
(cannot) 1225 3806 w
(be) 1588 3806 w
(satisfied,) 1742 3806 w
(the) 2217 3806 w
(process) 2407 3806 w
(aborts) 2816 3806 w
(with) 3159 3806 w
(a) 3399 3806 w
10 /LucidaTypewriter f
(check) 3489 3806 w
10 /LucidaSansUnicode00 f
(message) 3884 3806 w
(describing) 4343 3806 w
(the) 4885 3806 w
(symptoms.) 720 3926 w
(Channels) 720 4082 w
(can) 1215 4082 w
(only) 1432 4082 w
(be) 1685 4082 w
(allocated) 1853 4082 w
(with) 2338 4082 w
(the) 2592 4082 w
10 /LucidaTypewriter f
(alloc) 2796 4082 w
10 /LucidaSansUnicode00 f
(statement;) 3205 4082 w
(it) 3770 4082 w
(allocates) 3886 4082 w
(the) 4360 4082 w
(necessary) 4565 4082 w
(space) 720 4202 w
(and) 1040 4202 w
(initializes) 1264 4202 w
(the) 1771 4202 w
(channel) 1970 4202 w
(for) 2391 4202 w
(subsequent) 2574 4202 w
(use.) 3181 4202 w
10 /LucidaTypewriter f
(Alloc) 3457 4202 w
10 /LucidaSansUnicode00 f
(not) 3860 4202 w
(only) 4063 4202 w
(allocates) 4310 4202 w
(chan\255) 4777 4202 w
(nels and complex data types but also basic types:) 720 4322 w
9 /LucidaTypewriter f
(typedef) 1008 4492 w
(byte*) 1528 4492 w
(Ptrs[5];) 2048 4492 w
(byte) 1528 4712 w
(**p;) 1853 4712 w
(int) 1528 4822 w
(*ip;) 1788 4822 w
(Ptrs) 1528 4932 w
(*c;) 1853 4932 w
(alloc) 1528 5152 w
(p,) 1918 5152 w
(ip,) 2113 5152 w
(c;) 2373 5152 w
(alloc) 1528 5262 w
(*c[0],) 1918 5262 w
(*c[1],) 2373 5262 w
(*c[2],) 2828 5262 w
(*c[3],) 3283 5262 w
(*c[4];) 3738 5262 w
10 /LucidaSansUnicode00 f
(allocates) 720 5442 w
(a) 1182 5442 w
(byte,) 1275 5442 w
(an) 1553 5442 w
(integer,) 1708 5442 w
(five) 2121 5442 w
(pointers,) 2333 5442 w
(and) 2803 5442 w
(five) 3021 5442 w
(one-byte) 3233 5442 w
(fields) 3716 5442 w
(and) 4020 5442 w
(assigns) 4239 5442 w
(the) 4639 5442 w
(allo\255) 4833 5442 w
(cated) 720 5562 w
(addresses) 1019 5562 w
(to) 1543 5562 w
(variables) 1678 5562 w
10 /LucidaTypewriter f
(p) 2146 5562 w
10 /LucidaSansUnicode00 f
(,) 2218 5562 w
10 /LucidaTypewriter f
(ip) 2287 5562 w
10 /LucidaSansUnicode00 f
(,) 2431 5562 w
10 /LucidaTypewriter f
(c) 2500 5562 w
10 /LucidaSansUnicode00 f
(,) 2572 5562 w
(and) 2640 5562 w
(the) 2856 5562 w
(five) 3047 5562 w
(elements) 3257 5562 w
(of) 3733 5562 w
10 /LucidaTypewriter f
(c) 3867 5562 w
10 /LucidaSansUnicode00 f
(,) 3939 5562 w
(respectively.) 4007 5562 w
10 /LucidaTypewriter f
(Alloc) 4680 5562 w
10 /LucidaSansUnicode00 f
(does) 720 5682 w
(not) 988 5682 w
(allocate) 1185 5682 w
(beyond) 1595 5682 w
(the) 1989 5682 w
(first) 2181 5682 w
(level) 2413 5682 w
(when) 2672 5682 w
(pointers) 2967 5682 w
(have) 3405 5682 w
(more) 3668 5682 w
(than) 3957 5682 w
(one) 4211 5682 w
(level) 4428 5682 w
(of) 4688 5682 w
(indi\255) 4824 5682 w
(rection;) 720 5802 w
(here) 1125 5802 w
(we) 1376 5802 w
(must) 1545 5802 w
(explicitly) 1824 5802 w
(allocate) 2296 5802 w
(each) 2705 5802 w
(member) 2965 5802 w
(of) 3403 5802 w
10 /LucidaTypewriter f
(c) 3537 5802 w
10 /LucidaSansUnicode00 f
(after) 3645 5802 w
(allocating) 3907 5802 w
10 /LucidaTypewriter f
(c) 4413 5802 w
10 /LucidaSansUnicode00 f
(itself.) 4521 5802 w
(The) 4859 5802 w
(operands of) 720 5922 w
10 /LucidaTypewriter f
(alloc) 1334 5922 w
10 /LucidaSansUnicode00 f
(are evaluated left to right so the statement:) 1726 5922 w
9 /LucidaTypewriter f
(alloc) 1528 6092 w
(c,) 1918 6092 w
(*c[0],) 2113 6092 w
(*c[1],) 2568 6092 w
(*c[2],) 3023 6092 w
(*c[3],) 3478 6092 w
(*c[4];) 3933 6092 w
10 /LucidaSansUnicode00 f
(is legal because the variable named) 720 6272 w
10 /LucidaTypewriter f
(c) 2481 6272 w
10 /LucidaSansUnicode00 f
(is guaranteed to be allocated before its members.) 2585 6272 w
10 /LucidaTypewriter f
(Unalloc) 720 6428 w
10 /LucidaSansUnicode00 f
(frees) 1272 6428 w
(a) 1561 6428 w
(block) 1664 6428 w
(of) 1974 6428 w
(dynamically) 2120 6428 w
(allocated) 2738 6428 w
(memory;) 3222 6428 w
(the) 3699 6428 w
(block) 3903 6428 w
(could) 4214 6428 w
(have) 4529 6428 w
(been) 4803 6428 w
(allocated) 720 6548 w
(using) 1199 6548 w
10 /LucidaTypewriter f
(alloc) 1508 6548 w
10 /LucidaSansUnicode00 f
(or) 1911 6548 w
10 /LucidaTypewriter f
(malloc) 2056 6548 w
10 /LucidaSansUnicode00 f
(.) 2488 6548 w
(When) 2595 6548 w
(its) 2904 6548 w
(argument) 3064 6548 w
(is) 3575 6548 w
(a) 3697 6548 w
(channel,) 3794 6548 w
10 /LucidaTypewriter f
(unalloc) 4245 6548 w
10 /LucidaSansUnicode00 f
(waits) 4791 6548 w
(for) 720 6668 w
(pending) 899 6668 w
(channel) 1336 6668 w
(operations) 1753 6668 w
(to) 2309 6668 w
(complete) 2447 6668 w
(before) 2933 6668 w
(freeing) 3287 6668 w
(the) 3670 6668 w
(channel) 3865 6668 w
(and) 4282 6668 w
(its) 4503 6668 w
(buffers;) 4661 6668 w
(all other types of arguments cause) 720 6788 w
10 /LucidaTypewriter f
(unalloc) 2433 6788 w
10 /LucidaSansUnicode00 f
(to operate identically to) 2969 6788 w
10 /LucidaTypewriter f
(free) 4154 6788 w
10 /LucidaSansUnicode00 f
(.) 4442 6788 w
cleartomark
showpage
saveobj restore
%%EndPage: 29 29
%%Page: 30 30
/saveobj save def
mark
30 pagesetup
10 /LucidaSansUnicode00 f
(\255 30 \255) 2752 480 w
10 /LucidaSans-Demi f
(Iterators) 720 840 w
10 /LucidaSansUnicode00 f
(The) 720 996 w
(Alef) 942 996 w
(iterator) 1174 996 w
(operator) 1572 996 w
10 /LucidaTypewriter f
(::) 2028 996 w
10 /LucidaSansUnicode00 f
(repeatedly) 2213 996 w
(executes) 2762 996 w
(the) 3233 996 w
(statement) 3429 996 w
(containing) 3955 996 w
(it) 4507 996 w
(using) 4615 996 w
(an) 4923 996 w
(implicit) 720 1116 w
(incrementing) 1120 1116 w
(counter.) 1800 1116 w
(On) 2273 1116 w
(each) 2452 1116 w
(iteration,) 2715 1116 w
(the) 3193 1116 w
(iterator) 3387 1116 w
(expression) 3783 1116 w
(is) 4353 1116 w
(replaced) 4472 1116 w
(by) 4925 1116 w
(the) 720 1236 w
(value) 913 1236 w
(of) 1205 1236 w
(the) 1341 1236 w
(counter.) 1534 1236 w
(The) 2006 1236 w
(operands) 2225 1236 w
(of) 2716 1236 w
(the) 2853 1236 w
(iterator) 3047 1236 w
(statement) 3443 1236 w
(are) 3966 1236 w
(expressions) 4157 1236 w
(yield\255) 4778 1236 w
(ing) 720 1356 w
(values) 913 1356 w
(defining) 1258 1356 w
(the) 1698 1356 w
(range) 1892 1356 w
(of) 2207 1356 w
(the) 2344 1356 w
(iteration.) 2538 1356 w
(The) 3048 1356 w
(expressions) 3268 1356 w
(are) 3889 1356 w
(evaluated) 4080 1356 w
(once;) 4584 1356 w
(the) 4885 1356 w
(left) 720 1476 w
(operand) 922 1476 w
(specifies) 1366 1476 w
(the) 1832 1476 w
(starting) 2030 1476 w
(value,) 2447 1476 w
(the) 2776 1476 w
(right) 2974 1476 w
(operand) 3248 1476 w
(the) 3692 1476 w
(terminating) 3890 1476 w
(value.) 4497 1476 w
(The) 4859 1476 w
(statement) 720 1596 w
(is) 1246 1596 w
(executed) 1368 1596 w
(with) 1852 1596 w
(the) 2099 1596 w
(counter) 2296 1596 w
(successively) 2708 1596 w
(taking) 3341 1596 w
(on) 3686 1596 w
(values) 3851 1596 w
(from) 4197 1596 w
(the) 4470 1596 w
(starting) 4666 1596 w
(value) 720 1716 w
(to) 1014 1716 w
(one) 1152 1716 w
(less) 1371 1716 w
(than) 1598 1716 w
(the) 1854 1716 w
(terminating) 2049 1716 w
(value.) 2652 1716 w
(When) 3010 1716 w
(the) 3317 1716 w
(counter) 3513 1716 w
(equals) 3924 1716 w
(the) 4281 1716 w
(terminating) 4477 1716 w
(value,) 720 1836 w
(the) 1049 1836 w
(iteration) 1247 1836 w
(ceases.) 1697 1836 w
(If) 2124 1836 w
(the) 2233 1836 w
(terminating) 2431 1836 w
(value) 3037 1836 w
(is) 3334 1836 w
(less) 3457 1836 w
(than) 3686 1836 w
(the) 3944 1836 w
(starting) 4141 1836 w
(value,) 4557 1836 w
(the) 4885 1836 w
(statement is not executed.) 720 1956 w
(Iterators) 720 2112 w
(provide) 1174 2112 w
(a) 1586 2112 w
(useful) 1688 2112 w
(shorthand) 2032 2112 w
(when) 2573 2112 w
(processing) 2877 2112 w
(arrays) 3451 2112 w
(but) 3793 2112 w
(care) 4002 2112 w
(should) 4252 2112 w
(be) 4627 2112 w
(exer\255) 4793 2112 w
(cised) 720 2232 w
(to) 1019 2232 w
(limit) 1166 2232 w
(the) 1432 2232 w
(range) 1636 2232 w
(of) 1961 2232 w
(the) 2108 2232 w
(iteration.) 2312 2232 w
(For) 2832 2232 w
(example,) 3037 2232 w
(we) 3531 2232 w
(could) 3712 2232 w
(specify) 4026 2232 w
(our) 4413 2232 w
(previous) 4625 2232 w
(example as) 720 2352 w
9 /LucidaTypewriter f
(alloc) 1528 2522 w
(c,) 1918 2522 w
(*c[0::5];) 2113 2522 w
10 /LucidaSansUnicode00 f
(but it would produce unexpected results;) 720 2702 w
(since) 2756 2702 w
(iteration) 3038 2702 w
(is) 3478 2702 w
(over) 3591 2702 w
(the) 3834 2702 w
(entire) 4022 2702 w
(statement,) 4336 2702 w
(the) 4885 2702 w
(variable) 720 2822 w
10 /LucidaTypewriter f
(c) 1140 2822 w
10 /LucidaSansUnicode00 f
(is) 1251 2822 w
(reallocated) 1370 2822 w
(as) 1942 2822 w
(each) 2087 2822 w
(of) 2350 2822 w
(its) 2487 2822 w
(members) 2643 2822 w
(is) 3135 2822 w
(allocated.) 3254 2822 w
(A) 3793 2822 w
(correct) 3901 2822 w
(implementation) 4278 2822 w
(would) 720 2942 w
(allocate) 1054 2942 w
10 /LucidaTypewriter f
(c) 1469 2942 w
10 /LucidaSansUnicode00 f
(in) 1583 2942 w
(a) 1717 2942 w
(separate) 1815 2942 w
(statement.) 2272 2942 w
(An) 2863 2942 w
(iterator) 3037 2942 w
(is) 3437 2942 w
(accepted) 3560 2942 w
(wherever) 4035 2942 w
(an) 4519 2942 w
(expres\255) 4679 2942 w
(sion is expected.) 720 3062 w
(For instance, the program) 1606 3062 w
9 /LucidaTypewriter f
(int) 1528 3232 w
(i,) 1788 3232 w
(a[10];) 1983 3232 w
(a[i=0::10]) 1528 3452 w
(=) 2243 3452 w
(i;) 2373 3452 w
(print\("%d) 1528 3562 w
(",) 2178 3562 w
(a[0::10]\);) 2373 3562 w
10 /LucidaSansUnicode00 f
(prints the string ") 720 3742 w
10 /LucidaTypewriter f
(0 1 2 3 4 5 6 7 8 9) 1573 3742 w
10 /LucidaSansUnicode00 f
(".) 2941 3742 w
(The elegantly obscure) 3074 3742 w
9 /LucidaTypewriter f
(typedef) 1528 3912 w
(float) 2048 3912 w
(Matrix[4][4];) 2438 3912 w
(void) 1528 4022 w
(mul\(Matrix) 1853 4022 w
(r,) 2568 4022 w
(Matrix) 2763 4022 w
(a,) 3218 4022 w
(Matrix) 3413 4022 w
(b\){) 3868 4022 w
(int) 2048 4132 w
(i,) 2308 4132 w
(j,) 2503 4132 w
(k;) 2698 4132 w
(r[0::4][0::4]) 2048 4352 w
(=) 2958 4352 w
(0;) 3088 4352 w
(r[i=0::4][j=0::4]) 2048 4462 w
(+=) 3218 4462 w
(a[i][k=0::4]*b[k][j];) 3413 4462 w
(}) 1528 4572 w
10 /LucidaSansUnicode00 f
(multiplies) 720 4752 w
(two) 1248 4752 w
(4x4) 1473 4752 w
(matrices.) 1710 4752 w
(When) 2237 4752 w
(a) 2553 4752 w
(statement) 2658 4752 w
(contains) 3192 4752 w
(more) 3650 4752 w
(than) 3951 4752 w
(one) 4217 4752 w
(iterator,) 4446 4752 w
(the) 4885 4752 w
(order) 720 4872 w
(of) 1045 4872 w
(their) 1206 4872 w
(evaluation) 1494 4872 w
(is) 2055 4872 w
(undefined.) 2198 4872 w
(However,) 2815 4872 w
(when) 3327 4872 w
(the) 3647 4872 w
(result) 3864 4872 w
(of) 4202 4872 w
(an) 4362 4872 w
(iterator) 4541 4872 w
(is) 4960 4872 w
(assigned) 720 4992 w
(to) 1194 4992 w
(a) 1337 4992 w
(variable,) 1437 4992 w
(the) 1894 4992 w
(assignment) 2094 4992 w
(is) 2698 4992 w
(performed) 2824 4992 w
(before) 3381 4992 w
(the) 3741 4992 w
(statement) 3942 4992 w
(is) 4472 4992 w
(executed) 4598 4992 w
(and) 720 5112 w
(the) 936 5112 w
(variable) 1127 5112 w
(may) 1543 5112 w
(be) 1779 5112 w
(referenced) 1934 5112 w
(without) 2489 5112 w
(regard) 2890 5112 w
(to) 3244 5112 w
(order) 3378 5112 w
(of) 3676 5112 w
(evaluation.) 3810 5112 w
(In) 4408 5112 w
(the) 4534 5112 w
(matrix) 4724 5112 w
(example,) 720 5232 w
(the) 1203 5232 w
(assignment) 1396 5232 w
(of) 1992 5232 w
(the) 2128 5232 w
(iterator) 2321 5232 w
(to) 2716 5232 w
(the) 2853 5232 w
(variable) 3047 5232 w
10 /LucidaTypewriter f
(k) 3466 5232 w
10 /LucidaSansUnicode00 f
(is) 3577 5232 w
(guaranteed) 3696 5232 w
(to) 4284 5232 w
(occur) 4421 5232 w
(before) 4726 5232 w
(the operands of the multiply are evaluated.) 720 5352 w
10 /LucidaSans-Demi f
(QLocks and Locks) 720 5592 w
10 /LucidaSansUnicode00 f
(The) 720 5748 w
10 /LucidaTypewriter f
(QLock) 945 5748 w
10 /LucidaSansUnicode00 f
(abstract) 1349 5748 w
(data) 1784 5748 w
(type) 2039 5748 w
(implements) 2292 5748 w
(blocking) 2906 5748 w
(mutual) 3366 5748 w
(exclusion.) 3749 5748 w
10 /LucidaTypewriter f
(QLock.lock) 4320 5748 w
10 /LucidaSansUnicode00 f
(claims) 720 5868 w
(a) 1061 5868 w
(free) 1149 5868 w
(lock) 1372 5868 w
(or) 1604 5868 w
(blocks) 1739 5868 w
(the) 2085 5868 w
(requesting thread until the lock frees.) 2273 5868 w
10 /LucidaTypewriter f
(QLock.unlock) 4176 5868 w
10 /LucidaSansUnicode00 f
(frees a lock.) 720 5988 w
(When more) 1375 5988 w
(than) 1957 5988 w
(one) 2206 5988 w
(thread) 2418 5988 w
(is) 2765 5988 w
(blocked) 2878 5988 w
(on) 3292 5988 w
(a) 3448 5988 w
(lock,) 3536 5988 w
(the) 3800 5988 w
(order) 3988 5988 w
(of) 4283 5988 w
(service) 4414 5988 w
(when) 4783 5988 w
(the) 720 6108 w
(lock) 987 6108 w
(frees) 1298 6108 w
(is) 1651 6108 w
(undefined;) 1843 6108 w
(currently) 2476 6108 w
(a) 3018 6108 w
(last-in,) 3184 6108 w
(first-out) 3648 6108 w
(model) 4172 6108 w
(is) 4585 6108 w
(used.) 4776 6108 w
10 /LucidaTypewriter f
(QLock.canlock) 720 6228 w
10 /LucidaSansUnicode00 f
(returns) 1692 6228 w
(zero) 2078 6228 w
(if) 2329 6228 w
(a) 2432 6228 w
(lock) 2524 6228 w
(is) 2760 6228 w
(held,) 2877 6228 w
(or) 3156 6228 w
(claims) 3295 6228 w
(it) 3640 6228 w
(and) 3743 6228 w
(returns) 3960 6228 w
(one) 4347 6228 w
(when) 4563 6228 w
(it) 4857 6228 w
(is) 4960 6228 w
(available.) 720 6348 w
10 /LucidaTypewriter f
(QLocks) 1254 6348 w
10 /LucidaSansUnicode00 f
(can) 1733 6348 w
(be) 1948 6348 w
(used) 2114 6348 w
(to) 2393 6348 w
(synchronize) 2538 6348 w
(tasks) 3169 6348 w
(in) 3467 6348 w
(the) 3604 6348 w
(same) 3805 6348 w
(process;) 4106 6348 w
(when) 4558 6348 w
(one) 4861 6348 w
(task) 720 6468 w
(blocks) 963 6468 w
(contending) 1318 6468 w
(for) 1905 6468 w
(a) 2086 6468 w
10 /LucidaTypewriter f
(QLock) 2183 6468 w
10 /LucidaSansUnicode00 f
(,) 2543 6468 w
(control) 2617 6468 w
(transfers) 3001 6468 w
(to) 3474 6468 w
(another) 3614 6468 w
(task) 4031 6468 w
(that) 4275 6468 w
(is) 4509 6468 w
(ready) 4632 6468 w
(to) 4942 6468 w
(run or blocks in the Alef run-time until one is ready.) 720 6588 w
(When a) 720 6744 w
10 /LucidaTypewriter f
(QLock) 1105 6744 w
10 /LucidaSansUnicode00 f
(is allocated with) 1497 6744 w
10 /LucidaTypewriter f
(malloc) 2314 6744 w
10 /LucidaSansUnicode00 f
(or) 2778 6744 w
10 /LucidaTypewriter f
(alloc) 2912 6744 w
10 /LucidaSansUnicode00 f
(, either as itself or as) 3272 6744 w
(a) 4331 6744 w
(member) 4419 6744 w
(of) 4854 6744 w
(a) 4985 6744 w
(complex) 720 6864 w
(type,) 1171 6864 w
(it) 1448 6864 w
(is) 1551 6864 w
(properly) 1668 6864 w
(initialized) 2111 6864 w
(and) 2623 6864 w
(ready) 2840 6864 w
(for) 3144 6864 w
(use.) 3320 6864 w
(A) 3589 6864 w
(process) 3694 6864 w
(can) 4104 6864 w
(only) 4308 6864 w
(deallocate) 4548 6864 w
(a) 720 6984 w
10 /LucidaTypewriter f
(QLock) 810 6984 w
10 /LucidaSansUnicode00 f
(when) 1205 6984 w
(it) 1497 6984 w
(knows) 1598 6984 w
(that) 1942 6984 w
(no) 2168 6984 w
(other) 2326 6984 w
(processes) 2618 6984 w
(will) 3134 6984 w
(attempt) 3333 6984 w
(to) 3746 6984 w
(use) 3880 6984 w
(the) 4085 6984 w
(lock.) 4276 6984 w
(A) 4575 6984 w
10 /LucidaTypewriter f
(QLock) 4680 6984 w
10 /LucidaSansUnicode00 f
(should) 720 7104 w
(never) 1082 7104 w
(be) 1383 7104 w
(deallocated) 1536 7104 w
(when) 2125 7104 w
(it) 2416 7104 w
(is) 2516 7104 w
(held:) 2630 7104 w
(the) 2906 7104 w
(list) 3095 7104 w
(of) 3275 7104 w
(threads) 3407 7104 w
(blocked) 3806 7104 w
(on) 4221 7104 w
(the) 4378 7104 w
10 /LucidaTypewriter f
(QLock) 4567 7104 w
10 /LucidaSansUnicode00 f
(is) 4960 7104 w
(lost and they will never be awakened.) 720 7224 w
cleartomark
showpage
saveobj restore
%%EndPage: 30 30
%%Page: 31 31
/saveobj save def
mark
31 pagesetup
10 /LucidaSansUnicode00 f
(\255 31 \255) 2752 480 w
(Locks) 720 840 w
(and) 1044 840 w
(channels) 1274 840 w
(support) 1752 840 w
(two) 2180 840 w
(models) 2405 840 w
(of) 2808 840 w
(computation) 2956 840 w
(that) 3617 840 w
(are) 3858 840 w
(complementary) 4060 840 w
(and) 4860 840 w
(often) 720 960 w
(interchangeable.) 1018 960 w
(Neither) 1903 960 w
(synchronization) 2303 960 w
(model) 3120 960 w
(is) 3467 960 w
(inherently) 3592 960 w
(superior;) 4123 960 w
(each) 4604 960 w
(has) 4872 960 w
(strengths) 720 1080 w
(and) 1214 1080 w
(weaknesses) 1429 1080 w
(that) 2037 1080 w
(affect) 2263 1080 w
(its) 2571 1080 w
(suitability) 2723 1080 w
(for) 3232 1080 w
(a) 3407 1080 w
(particular) 3498 1080 w
(implementation.) 3997 1080 w
(The) 4859 1080 w
(channel) 720 1200 w
(model) 1139 1200 w
(is) 1483 1200 w
(slightly) 1605 1200 w
(slower) 1998 1200 w
(and) 2355 1200 w
(bigger) 2577 1200 w
(but) 2932 1200 w
(isolates) 3136 1200 w
(the) 3546 1200 w
(processing) 3742 1200 w
(and) 4310 1200 w
(formalizes) 4531 1200 w
(the) 720 1320 w
(flow) 910 1320 w
(of) 1149 1320 w
(control.) 1282 1320 w
(The) 1723 1320 w
(locking) 1939 1320 w
(model) 2326 1320 w
(is) 2663 1320 w
(fast) 2778 1320 w
(and) 2993 1320 w
(small) 3209 1320 w
(but) 3502 1320 w
(can) 3700 1320 w
(scatter) 3904 1320 w
(synchronization) 4268 1320 w
(details) 720 1440 w
(throughout) 1075 1440 w
(the) 1657 1440 w
(program.) 1847 1440 w
(Message) 2362 1440 w
(passing) 2814 1440 w
(algorithms) 3222 1440 w
(work) 3777 1440 w
(well) 4049 1440 w
(when) 4274 1440 w
(messages) 4565 1440 w
(are) 720 1560 w
(small) 905 1560 w
(and) 1195 1560 w
(they) 1408 1560 w
(are) 1648 1560 w
(typically) 1834 1560 w
(easier) 2265 1560 w
(to) 2587 1560 w
(debug) 2719 1560 w
(since) 3059 1560 w
(the) 3342 1560 w
(run-time) 3531 1560 w
(synchronization) 4003 1560 w
(code) 4809 1560 w
(has) 720 1680 w
(been) 942 1680 w
(thoroughly) 1232 1680 w
(exercised.) 1814 1680 w
(However,) 2395 1680 w
(locks) 2897 1680 w
(can) 3200 1680 w
(also) 3421 1680 w
(provide) 3670 1680 w
(debugging) 4088 1680 w
(support) 4662 1680 w
(and) 720 1800 w
(restricted) 949 1800 w
(semantics,) 1460 1800 w
(especially) 2026 1800 w
(if) 2547 1800 w
(they) 2663 1800 w
(are) 2920 1800 w
(implemented) 3122 1800 w
(as) 3809 1800 w
(an) 3965 1800 w
(abstract) 4132 1800 w
(data) 4572 1800 w
(type) 4832 1800 w
(within) 720 1920 w
(a) 1055 1920 w
(larger) 1149 1920 w
(abstract) 1472 1920 w
(type.) 1901 1920 w
(Our) 2212 1920 w
(example) 2431 1920 w
(programs) 2882 1920 w
(use) 3387 1920 w
(channels) 3594 1920 w
(and) 4060 1920 w
(slave) 4278 1920 w
(processes) 4559 1920 w
(to) 720 2040 w
(multiplex) 852 2040 w
(mouse) 1345 2040 w
(and) 1702 2040 w
(keyboard) 1916 2040 w
(input) 2399 2040 w
(to) 2686 2040 w
(an) 2818 2040 w
(executive) 2969 2040 w
(process.) 3463 2040 w
(Many) 3936 2040 w
(programs) 4226 2040 w
(of) 4728 2040 w
(this) 4861 2040 w
(style) 720 2160 w
(also) 981 2160 w
(manage) 1213 2160 w
(a) 1632 2160 w
(display.) 1723 2160 w
(We) 2165 2160 w
(could) 2343 2160 w
(design) 2645 2160 w
(the) 3004 2160 w
(display) 3195 2160 w
(update) 3573 2160 w
(logic) 3945 2160 w
(similarly,) 4213 2160 w
(but) 4688 2160 w
(the) 4885 2160 w
(output data, perhaps a bitmap, may be) 720 2280 w
(large) 2646 2280 w
(enough) 2922 2280 w
(to) 3320 2280 w
(make) 3451 2280 w
(message) 3746 2280 w
(passing) 4203 2280 w
(impracti\255) 4609 2280 w
(cal.) 720 2400 w
(Instead,) 955 2400 w
(we) 1376 2400 w
(could) 1545 2400 w
(implement) 1846 2400 w
(the) 2399 2400 w
(display) 2589 2400 w
(update) 2966 2400 w
(code) 3337 2400 w
(as) 3603 2400 w
(a) 3776 2400 w
10 /LucidaTypewriter f
(Display) 3866 2400 w
10 /LucidaSansUnicode00 f
(abstract) 4405 2400 w
(data) 4830 2400 w
(type) 720 2520 w
(containing) 969 2520 w
(a) 1520 2520 w
10 /LucidaTypewriter f
(QLock) 1616 2520 w
10 /LucidaSansUnicode00 f
(to) 2017 2520 w
(synchronize) 2156 2520 w
(accesses) 2781 2520 w
(to) 3245 2520 w
(the) 3385 2520 w
(device.) 3582 2520 w
(In) 3995 2520 w
(this) 4128 2520 w
(case,) 4349 2520 w
(the) 4636 2520 w
(con\255) 4833 2520 w
(cept) 720 2640 w
(of) 965 2640 w
(locking) 1101 2640 w
(the) 1491 2640 w
(display) 1684 2640 w
(during) 2064 2640 w
(update) 2421 2640 w
(is) 2795 2640 w
(natural) 2913 2640 w
(and) 3292 2640 w
(easily) 3510 2640 w
(restricted) 3820 2640 w
(and) 4320 2640 w
(avoids) 4537 2640 w
(the) 4885 2640 w
(potentially large message passing overhead.) 720 2760 w
(The) 720 2916 w
10 /LucidaTypewriter f
(QLock) 950 2916 w
10 /LucidaSansUnicode00 f
(abstract) 1359 2916 w
(type) 1798 2916 w
(is) 2055 2916 w
(implemented) 2184 2916 w
(in) 2870 2916 w
(terms) 3010 2916 w
(of) 3338 2916 w
(the) 3486 2916 w
10 /LucidaTypewriter f
(Lock) 3691 2916 w
10 /LucidaSansUnicode00 f
(abstract) 4029 2916 w
(type,) 4469 2916 w
(which) 4759 2916 w
(provides) 720 3036 w
(spin) 1172 3036 w
(locks.) 1413 3036 w
10 /LucidaTypewriter f
(Locks) 1763 3036 w
10 /LucidaSansUnicode00 f
(are) 2158 3036 w
(seldom) 2345 3036 w
(needed) 2733 3036 w
(by) 3124 3036 w
(most) 3274 3036 w
(applications;) 3551 3036 w
10 /LucidaTypewriter f
(QLocks) 4203 3036 w
10 /LucidaSansUnicode00 f
(are) 4670 3036 w
(suf\255) 4857 3036 w
(ficient) 720 3156 w
(for) 1059 3156 w
(all) 1236 3156 w
(but) 1387 3156 w
(the) 1587 3156 w
(most) 1780 3156 w
(specialized) 2060 3156 w
(circumstances.) 2637 3156 w
10 /LucidaTypewriter f
(Lock.lock) 3429 3156 w
10 /LucidaSansUnicode00 f
(claims) 4115 3156 w
(an) 4461 3156 w
(available) 4617 3156 w
(lock) 720 3276 w
(or) 954 3276 w
(loops) 1091 3276 w
(on) 1391 3276 w
(a) 1548 3276 w
(held) 1637 3276 w
(lock) 1881 3276 w
(until) 2114 3276 w
(it) 2367 3276 w
(is) 2467 3276 w
(freed.) 2581 3276 w
(When) 2932 3276 w
(several) 3232 3276 w
(processes) 3606 3276 w
(contend) 4121 3276 w
(for) 4547 3276 w
(a) 4720 3276 w
(lock,) 4809 3276 w
(the) 720 3396 w
(lock) 963 3396 w
(is) 1250 3396 w
(granted) 1418 3396 w
(to) 1883 3396 w
(one) 2070 3396 w
(at) 2338 3396 w
(random) 2519 3396 w
(when) 2983 3396 w
(it) 3329 3396 w
(frees.) 3484 3396 w
(A) 3878 3396 w
(lock) 4036 3396 w
(is) 4324 3396 w
(freed) 4493 3396 w
(with) 4835 3396 w
10 /LucidaTypewriter f
(Lock.unlock) 720 3516 w
10 /LucidaSansUnicode00 f
(;) 1512 3516 w
(the) 1595 3516 w
(process) 1801 3516 w
(freeing) 2226 3516 w
(a) 2620 3516 w
(lock) 2726 3516 w
(need) 2976 3516 w
(not) 3264 3516 w
(be) 3475 3516 w
(the) 3645 3516 w
(process) 3851 3516 w
(that) 4275 3516 w
(claimed) 4516 3516 w
(it.) 4942 3516 w
10 /LucidaTypewriter f
(Lock.canlock) 720 3636 w
10 /LucidaSansUnicode00 f
(returns) 1620 3636 w
(zero) 2006 3636 w
(if) 2257 3636 w
(the) 2359 3636 w
(lock) 2550 3636 w
(is) 2785 3636 w
(held) 2901 3636 w
(or) 3147 3636 w
(claims) 3285 3636 w
(the) 3629 3636 w
(lock) 3820 3636 w
(and) 4055 3636 w
(returns) 4271 3636 w
(one) 4657 3636 w
(if) 4872 3636 w
(it) 4974 3636 w
(is) 720 3756 w
(available.) 847 3756 w
(Locks) 1381 3756 w
(cannot) 1702 3756 w
(be) 2077 3756 w
(used) 2243 3756 w
(to) 2522 3756 w
(synchronize) 2667 3756 w
(tasks) 3298 3756 w
(in) 3597 3756 w
(the) 3735 3756 w
(same) 3937 3756 w
(process;) 4238 3756 w
(since) 4690 3756 w
(a) 4985 3756 w
(task) 720 3876 w
(does) 976 3876 w
(not) 1263 3876 w
(block) 1479 3876 w
(while) 1797 3876 w
(contending) 2106 3876 w
(for) 2707 3876 w
(a) 2902 3876 w
(spin) 3013 3876 w
(lock,) 3274 3876 w
(control) 3561 3876 w
(can) 3959 3876 w
(never) 4183 3876 w
(transfer) 4506 3876 w
(to) 4942 3876 w
(another task.) 720 3996 w
10 /LucidaSans-Demi f
(Guarded Blocks) 720 4236 w
10 /LucidaSansUnicode00 f
(The) 720 4392 w
(Alef) 943 4392 w
(compiler) 1176 4392 w
(provides) 1641 4392 w
(a) 2099 4392 w
(syntactic) 2196 4392 w
(mechanism) 2663 4392 w
(to) 3257 4392 w
(lock) 3397 4392 w
(a) 3639 4392 w
(critical) 3737 4392 w
(section) 4102 4392 w
(of) 4492 4392 w
(code.) 4633 4392 w
(A) 4971 4392 w
10 /LucidaSans-Italic f
(guarded) 720 4512 w
(block) 1175 4512 w
10 /LucidaSansUnicode00 f
(allows) 1477 4512 w
(only) 1826 4512 w
(one) 2077 4512 w
(thread) 2303 4512 w
(to) 2664 4512 w
(execute) 2809 4512 w
(its) 3235 4512 w
(statements) 3399 4512 w
(at) 3981 4512 w
(a) 4120 4512 w
(time.) 4222 4512 w
(When) 4548 4512 w
(one) 4861 4512 w
(thread) 720 4632 w
(enters) 1073 4632 w
(the) 1415 4632 w
(block) 1609 4632 w
(no) 1911 4632 w
(other) 2074 4632 w
(thread) 2371 4632 w
(may) 2725 4632 w
(enter) 2965 4632 w
(until) 3257 4632 w
(the) 3516 4632 w
(first) 3711 4632 w
(thread) 3946 4632 w
(leaves.) 4300 4632 w
(At) 4703 4632 w
(that) 4849 4632 w
(point,) 720 4752 w
(a) 1040 4752 w
(thread) 1131 4752 w
(waiting) 1481 4752 w
(to) 1868 4752 w
(execute) 2002 4752 w
(the) 2417 4752 w
(block) 2608 4752 w
(is) 2906 4752 w
(randomly) 3022 4752 w
(selected) 3514 4752 w
(to) 3948 4752 w
(claim) 4081 4752 w
(the) 4373 4752 w
(block) 4563 4752 w
(and) 4860 4752 w
(begin executing its statements.) 720 4872 w
(A block is guarded when its opening brace is preceded by an exclamation point:) 720 5028 w
9 /LucidaTypewriter f
(<unguarded) 1528 5198 w
(code>) 2243 5198 w
(!{) 1528 5308 w
(<code) 2048 5418 w
(in) 2438 5418 w
(guarded) 2633 5418 w
(block>) 3153 5418 w
(}) 1528 5528 w
(<unguarded) 1528 5638 w
(code>) 2243 5638 w
10 /LucidaSansUnicode00 f
(When an exclamation point precedes the opening brace of a) 720 5818 w
(function,) 3671 5818 w
(the) 4137 5818 w
(entire) 4325 5818 w
(function) 4639 5818 w
(is guarded.) 720 5938 w
(The Plan 9 library function that reads the system clock:) 720 6094 w
cleartomark
showpage
saveobj restore
%%EndPage: 31 31
%%Page: 32 32
/saveobj save def
mark
32 pagesetup
10 /LucidaSansUnicode00 f
(\255 32 \255) 2752 480 w
9 /LucidaTypewriter f
(intern) 1008 830 w
(int) 1463 830 w
(fd) 1723 830 w
(=) 1918 830 w
(-1;) 2048 830 w
(int) 1008 1050 w
(time\(\)) 1008 1160 w
({) 1008 1270 w
(int) 1528 1380 w
(t;) 1788 1380 w
(byte) 1528 1490 w
(b[20];) 1853 1490 w
(memset\(b,) 1528 1710 w
(0,) 2178 1710 w
(sizeof\(b\)\);) 2373 1710 w
(if\(fd) 1528 1820 w
(<) 1918 1820 w
(0\)) 2048 1820 w
(fd) 2048 1930 w
(=) 2243 1930 w
(open\("/dev/time",) 2373 1930 w
(OREAD|OCEXEC\);) 3543 1930 w
(if\(fd) 1528 2040 w
(>=) 1918 2040 w
(0\)) 2113 2040 w
({) 2308 2040 w
(seek\(fd,) 2048 2150 w
(0,) 2633 2150 w
(0\);) 2828 2150 w
(read\(fd,) 2048 2260 w
(b,) 2633 2260 w
(sizeof\(b\)\);) 2828 2260 w
(}) 1528 2370 w
(t) 1528 2480 w
(=) 1658 2480 w
(atoi\(b\);) 1788 2480 w
(return) 1528 2590 w
(t;) 1983 2590 w
(}) 1008 2700 w
10 /LucidaSansUnicode00 f
(opens) 720 2880 w
(the) 1050 2880 w
(clock) 1242 2880 w
(file) 1529 2880 w
(once,) 1717 2880 w
(reads) 2016 2880 w
(the) 2319 2880 w
(ASCII) 2511 2880 w
(string) 2799 2880 w
(containing) 3119 2880 w
(the) 3667 2880 w
(current) 3860 2880 w
(clock) 4248 2880 w
(value,) 4536 2880 w
(and) 4860 2880 w
(converts) 720 3000 w
(it) 1174 3000 w
(to) 1283 3000 w
(binary.) 1424 3000 w
(Since) 1833 3000 w
(the) 2128 3000 w
(file) 2326 3000 w
(is) 2520 3000 w
(held) 2642 3000 w
(open,) 2894 3000 w
(the) 3210 3000 w
(function) 3407 3000 w
(must) 3850 3000 w
(seek) 4135 3000 w
(to) 4398 3000 w
(the) 4538 3000 w
(begin\255) 4735 3000 w
(ning before each read; this two-step access introduces a race.) 720 3120 w
(If a process is preempted) 3809 3120 w
(between) 720 3240 w
(the) 1162 3240 w
(seek) 1352 3240 w
(and) 1608 3240 w
(the) 1823 3240 w
(read,) 2013 3240 w
(another) 2295 3240 w
(process) 2704 3240 w
(can) 3113 3240 w
(execute) 3316 3240 w
(the) 3730 3240 w
(same) 3920 3240 w
(code,) 4209 3240 w
(leaving) 4506 3240 w
(the) 4885 3240 w
(file) 720 3360 w
(incorrectly) 905 3360 w
(positioned.) 1449 3360 w
(When) 2059 3360 w
(the) 2359 3360 w
(original) 2548 3360 w
(process) 2950 3360 w
(regains) 3358 3360 w
(control,) 3749 3360 w
(the) 4158 3360 w
(read) 4348 3360 w
(fails.) 4598 3360 w
(We) 4898 3360 w
(can) 720 3480 w
(combine) 951 3480 w
(the) 1428 3480 w
10 /LucidaTypewriter f
(seek) 1645 3480 w
10 /LucidaSansUnicode00 f
(and) 1995 3480 w
10 /LucidaTypewriter f
(read) 2237 3480 w
10 /LucidaSansUnicode00 f
(into) 2587 3480 w
(an) 2838 3480 w
(atomic) 3017 3480 w
(operation) 3405 3480 w
(by) 3932 3480 w
(placing) 4109 3480 w
(them) 4522 3480 w
(in) 4832 3480 w
(a) 4985 3480 w
(guarded block:) 720 3600 w
9 /LucidaTypewriter f
(if\(fd) 1528 3770 w
(>=) 1918 3770 w
(0\)) 2113 3770 w
(!{) 2308 3770 w
(seek\(fd,) 2048 3880 w
(0,) 2633 3880 w
(0\);) 2828 3880 w
(read\(fd,) 2048 3990 w
(b,) 2633 3990 w
(sizeof\(b\)\);) 2828 3990 w
(}) 1528 4100 w
10 /LucidaSansUnicode00 f
(When) 720 4280 w
(one) 1028 4280 w
(process) 1249 4280 w
(enters) 1665 4280 w
(the) 2010 4280 w
(critical) 2207 4280 w
(section,) 2571 4280 w
(other) 2992 4280 w
(processes) 3291 4280 w
(block) 3814 4280 w
(after) 4118 4280 w
(the) 4386 4280 w
10 /LucidaTypewriter f
(if) 4584 4280 w
10 /LucidaSansUnicode00 f
(state\255) 4771 4280 w
(ment) 720 4400 w
(until) 1015 4400 w
(the) 1281 4400 w
(original) 1482 4400 w
(process) 1896 4400 w
(finishes.) 2316 4400 w
(There) 2803 4400 w
(is) 3127 4400 w
(the) 3253 4400 w
(potential) 3454 4400 w
(for) 3929 4400 w
(another) 4114 4400 w
(race) 4534 4400 w
(when) 4783 4400 w
(the) 720 4520 w
(clock) 915 4520 w
(is) 1205 4520 w
(opened,) 1325 4520 w
(but) 1758 4520 w
(it) 1960 4520 w
(is) 2066 4520 w
(less) 2186 4520 w
(critical;) 2413 4520 w
(the) 2807 4520 w
(file) 3002 4520 w
(could) 3193 4520 w
(be) 3499 4520 w
(opened) 3658 4520 w
(twice,) 4059 4520 w
(wasting) 4381 4520 w
(a) 4794 4520 w
(file) 4889 4520 w
(descriptor) 720 4640 w
(but) 1264 4640 w
(producing) 1477 4640 w
(correct) 2022 4640 w
(results.) 2411 4640 w
(A) 2853 4640 w
(race-free) 2973 4640 w
(implementation) 3474 4640 w
(of) 4286 4640 w
(the) 4434 4640 w
(function) 4639 4640 w
(guards all file manipulation:) 720 4760 w
9 /LucidaTypewriter f
(!{) 1528 4930 w
(if\(fd) 2048 5040 w
(<) 2438 5040 w
(0\)) 2568 5040 w
(fd) 2568 5150 w
(=) 2763 5150 w
(open\("/dev/time",) 2893 5150 w
(OREAD|OCEXEC\);) 4063 5150 w
(if\(fd) 2048 5260 w
(>=) 2438 5260 w
(0\)) 2633 5260 w
({) 2828 5260 w
(seek\(fd,) 2568 5370 w
(0,) 3153 5370 w
(0\);) 3348 5370 w
(read\(fd,) 2568 5480 w
(b,) 3153 5480 w
(sizeof\(b\)\);) 3348 5480 w
(}) 2048 5590 w
(}) 1528 5700 w
10 /LucidaSansUnicode00 f
(Guarded) 720 5880 w
(blocks) 1172 5880 w
(and) 1525 5880 w
(the) 1745 5880 w
10 /LucidaTypewriter f
(par) 1940 5880 w
10 /LucidaSansUnicode00 f
(statement) 2196 5880 w
(implicitly) 2720 5880 w
(synchronize) 3201 5880 w
(threads) 3825 5880 w
(of) 4230 5880 w
(execution.) 4369 5880 w
(In) 4949 5880 w
(both) 720 6000 w
(cases) 978 6000 w
(care) 1276 6000 w
(must) 1513 6000 w
(be) 1790 6000 w
(taken) 1943 6000 w
(to) 2245 6000 w
(ensure) 2377 6000 w
(that) 2739 6000 w
(the) 2964 6000 w
(flow) 3153 6000 w
(of) 3391 6000 w
(execution) 3523 6000 w
(reaches) 4032 6000 w
(the) 4438 6000 w
(synchro\255) 4627 6000 w
(nization) 720 6120 w
(point) 1158 6120 w
(at) 1456 6120 w
(the) 1594 6120 w
(bottom) 1795 6120 w
(of) 2193 6120 w
(the) 2337 6120 w
(block.) 2538 6120 w
(The) 2911 6120 w
(compiler) 3139 6120 w
(limits) 3609 6120 w
(control) 3924 6120 w
(transfer) 4313 6120 w
(to) 4740 6120 w
(the) 4885 6120 w
(scope) 720 6240 w
(of) 1044 6240 w
(a) 1184 6240 w
(guarded) 1281 6240 w
(block) 1725 6240 w
(or) 2029 6240 w
10 /LucidaTypewriter f
(par) 2173 6240 w
10 /LucidaSansUnicode00 f
(statement) 2431 6240 w
(but) 2957 6240 w
(cannot) 3161 6240 w
(enforce) 3531 6240 w
(this) 3937 6240 w
(constraint) 4158 6240 w
(when) 4686 6240 w
(a) 4985 6240 w
(subroutine) 720 6360 w
(is) 1318 6360 w
(called) 1472 6360 w
(from) 1829 6360 w
(within) 2135 6360 w
(a) 2506 6360 w
(block.) 2636 6360 w
(For) 3037 6360 w
(example,) 3268 6360 w
(it) 3788 6360 w
(is) 3929 6360 w
(inadvisable) 4084 6360 w
(to) 4703 6360 w
(call) 4876 6360 w
10 /LucidaTypewriter f
(terminate) 720 6480 w
10 /LucidaSansUnicode00 f
(from) 1440 6480 w
(within) 1744 6480 w
(a) 2112 6480 w
(guarded) 2239 6480 w
(block;) 2713 6480 w
(when) 3078 6480 w
(another) 3406 6480 w
(thread) 3851 6480 w
(in) 4236 6480 w
(the) 4398 6480 w
(program) 4624 6480 w
(attempts to execute the block, it blocks forever.) 720 6600 w
10 /LucidaSans-Demi f
(The) 720 6840 w
10 /LucidaTypewriter f
(...) 946 6840 w
10 /LucidaSans-Demi f
(Formal Parameter) 1194 6840 w
10 /LucidaSansUnicode00 f
(The) 720 6996 w
(formal) 954 6996 w
(parameter) 1323 6996 w
10 /LucidaTypewriter f
(...) 1873 6996 w
10 /LucidaSansUnicode00 f
(indicates) 2143 6996 w
(that) 2630 6996 w
(the) 2875 6996 w
(function) 3084 6996 w
(expects) 3539 6996 w
(a) 3968 6996 w
(variable) 4077 6996 w
(number) 4511 6996 w
(of) 4942 6996 w
(arguments.) 720 7116 w
(The) 1338 7116 w
(syntax) 1554 7116 w
(accepts) 1907 7116 w
10 /LucidaTypewriter f
(...) 2305 7116 w
10 /LucidaSansUnicode00 f
(anywhere) 2555 7116 w
(in) 3050 7116 w
(the) 3175 7116 w
(parameter) 3364 7116 w
(list,) 3895 7116 w
(but) 4107 7116 w
10 /LucidaTypewriter f
(...) 4303 7116 w
10 /LucidaSansUnicode00 f
(consumes) 4553 7116 w
(all) 720 7236 w
(following) 875 7236 w
(parameters,) 1364 7236 w
(so) 1986 7236 w
(it) 2140 7236 w
(only) 2248 7236 w
(makes) 2495 7236 w
(sense) 2851 7236 w
(as) 3170 7236 w
(the) 3319 7236 w
(final) 3517 7236 w
(formal) 3772 7236 w
(parameter.) 4131 7236 w
(Within) 4735 7236 w
cleartomark
showpage
saveobj restore
%%EndPage: 32 32
%%Page: 33 33
/saveobj save def
mark
33 pagesetup
10 /LucidaSansUnicode00 f
(\255 33 \255) 2752 480 w
(the) 720 840 w
(function) 914 840 w
10 /LucidaTypewriter f
(...) 1354 840 w
10 /LucidaSansUnicode00 f
(is) 1609 840 w
(the) 1728 840 w
(name) 1922 840 w
(of) 2227 840 w
(a) 2364 840 w
(variable) 2458 840 w
(of) 2877 840 w
(type) 3014 840 w
10 /LucidaSansUnicode20 f
(\030) 3261 840 w
10 /LucidaSansUnicode00 f
(pointer) 3293 840 w
(to) 3681 840 w
(void) 3818 840 w
10 /LucidaSansUnicode20 f
(\031) 4023 840 w
10 /LucidaSansUnicode00 f
(and) 4094 840 w
(can) 4313 840 w
(be) 4520 840 w
(used) 4678 840 w
(in) 4949 840 w
(any) 720 960 w
(context) 924 960 w
(appropriate) 1324 960 w
(for) 1923 960 w
(that) 2097 960 w
(type.) 2324 960 w
(Typically) 2632 960 w
10 /LucidaTypewriter f
(...) 3091 960 w
10 /LucidaSansUnicode00 f
(is) 3343 960 w
(used) 3459 960 w
(as) 3727 960 w
(an) 3869 960 w
(address) 4022 960 w
(on) 4438 960 w
(the) 4597 960 w
(stack) 4788 960 w
(from) 720 1080 w
(which) 991 1080 w
(following) 1311 1080 w
(arguments) 1797 1080 w
(can) 2355 1080 w
(be) 2562 1080 w
(extracted.) 2720 1080 w
(The) 3280 1080 w
(stack) 3500 1080 w
(architecture) 3791 1080 w
(is) 4408 1080 w
(implemen\255) 4526 1080 w
(tation) 720 1200 w
(dependent,) 1034 1200 w
(so) 1617 1200 w
(although) 1762 1200 w
(Alef) 2225 1200 w
(provides) 2450 1200 w
(the) 2900 1200 w
10 /LucidaTypewriter f
(...) 3089 1200 w
10 /LucidaSansUnicode00 f
(syntax) 3339 1200 w
(as) 3691 1200 w
(a) 3831 1200 w
(convenience,) 3920 1200 w
(code) 4584 1200 w
(that) 4849 1200 w
(uses) 720 1320 w
(it) 976 1320 w
(in) 1078 1320 w
(this) 1205 1320 w
(manner) 1420 1320 w
(must) 1825 1320 w
(still) 2104 1320 w
(make) 2315 1320 w
(assumptions) 2613 1320 w
(about) 3264 1320 w
(the) 3577 1320 w
(stack) 3767 1320 w
(width) 4054 1320 w
(and) 4357 1320 w
(argument) 4572 1320 w
(passing conventions.) 720 1440 w
(Since) 720 1596 w
10 /LucidaTypewriter f
(...) 1004 1596 w
10 /LucidaSansUnicode00 f
(is a pointer, it can be used in pointer arithmetic) 1252 1596 w
(including) 3604 1596 w
(array) 4086 1596 w
(indexing.) 4363 1596 w
(For) 4884 1596 w
(example, a function to compute the average of a variable number of integer arguments) 720 1716 w
9 /LucidaTypewriter f
(int) 1008 1886 w
(avg\(int) 1008 1996 w
(n,) 1528 1996 w
(...\)) 1723 1996 w
({) 1008 2106 w
(int) 1528 2216 w
(i,) 1788 2216 w
(tot;) 1983 2216 w
(tot) 1528 2436 w
(=) 1788 2436 w
(0;) 1918 2436 w
(for\(i) 1528 2546 w
(=) 1918 2546 w
(0;) 2048 2546 w
(i) 2243 2546 w
(<) 2373 2546 w
(n;) 2503 2546 w
(i++\)) 2698 2546 w
(tot) 2048 2656 w
(+=) 2308 2656 w
(\(\(int*\)...\)[i];) 2503 2656 w
(return) 1528 2766 w
(tot/n;) 1983 2766 w
(}) 1008 2876 w
10 /LucidaSansUnicode00 f
(casts) 720 3056 w
10 /LucidaTypewriter f
(...) 1015 3056 w
10 /LucidaSansUnicode00 f
(to) 1281 3056 w
(an) 1430 3056 w
(integer) 1598 3056 w
(pointer) 1992 3056 w
(and) 2392 3056 w
(then) 2623 3056 w
(indexes) 2891 3056 w
(beyond) 3320 3056 w
(it) 3728 3056 w
(to) 3845 3056 w
(pick) 3994 3056 w
(up) 4246 3056 w
(each) 4422 3056 w
(integer) 4697 3056 w
(argument.) 720 3176 w
(Most) 720 3332 w
(commonly) 994 3332 w
10 /LucidaTypewriter f
(...) 1535 3332 w
10 /LucidaSansUnicode00 f
(is) 1790 3332 w
(not) 1909 3332 w
(used) 2108 3332 w
(directly) 2379 3332 w
(but) 2776 3332 w
(is) 2977 3332 w
(passed) 3096 3332 w
(as) 3474 3332 w
(the) 3619 3332 w
(base) 3814 3332 w
(of) 4079 3332 w
(a) 4217 3332 w
(variable) 4312 3332 w
(length) 4732 3332 w
(argument list to the library function) 720 3452 w
10 /LucidaTypewriter f
(doprint) 2490 3452 w
10 /LucidaSansUnicode00 f
(for formatting.) 3026 3452 w
(The Alef function) 3807 3452 w
9 /LucidaTypewriter f
(byte) 1008 3622 w
(*argv0;) 1528 3622 w
(void) 1008 3842 w
(fatal\(byte) 1008 3952 w
(*fmt,) 1723 3952 w
(...\)) 2113 3952 w
({) 1008 4062 w
(byte) 1528 4172 w
(buf[1024],) 1853 4172 w
(*p;) 2568 4172 w
(p) 1528 4392 w
(=) 1658 4392 w
(doprint\(buf,) 1788 4392 w
(buf+sizeof\(buf\),) 2633 4392 w
(fmt,) 3738 4392 w
(...\);) 4063 4392 w
(*p) 1528 4502 w
(=) 1723 4502 w
(0;) 1853 4502 w
(fprint\(2,) 1528 4612 w
("%s:) 2178 4612 w
(%s\\n",) 2503 4612 w
(argv0,) 2958 4612 w
(buf\);) 3413 4612 w
(exits\(buf\);) 1528 4722 w
(}) 1008 4832 w
10 /LucidaSansUnicode00 f
(prints) 720 5012 w
(a) 1040 5012 w
(fatal) 1132 5012 w
(error) 1382 5012 w
(message) 1659 5012 w
(prefixed) 2120 5012 w
(by) 2563 5012 w
(the) 2716 5012 w
(program) 2909 5012 w
(name) 3363 5012 w
(and) 3667 5012 w
(exits) 3885 5012 w
(with) 4157 5012 w
(an) 4400 5012 w
(error) 4555 5012 w
(con\255) 4833 5012 w
(dition.) 720 5132 w
10 /LucidaSans-Demi f
(The Become Statement) 720 5372 w
10 /LucidaSansUnicode00 f
(The) 720 5528 w
10 /LucidaTypewriter f
(become) 934 5528 w
10 /LucidaSansUnicode00 f
(statement) 1399 5528 w
(transfers) 1916 5528 w
(control) 2381 5528 w
(in) 2757 5528 w
(one) 2882 5528 w
(of) 3095 5528 w
(two) 3227 5528 w
(ways.) 3436 5528 w
(If) 3769 5528 w
(its) 3869 5528 w
(operand) 4020 5528 w
(evaluates) 4455 5528 w
(to) 4942 5528 w
(anything) 720 5648 w
(other) 1183 5648 w
(than) 1482 5648 w
(a) 1740 5648 w
(function,) 1837 5648 w
10 /LucidaTypewriter f
(become) 2312 5648 w
10 /LucidaSansUnicode00 f
(behaves) 2785 5648 w
(as) 3221 5648 w
(a) 3368 5648 w
10 /LucidaTypewriter f
(return) 3464 5648 w
10 /LucidaSansUnicode00 f
(statement) 3937 5648 w
(yielding) 4462 5648 w
(the) 4885 5648 w
(result of the) 720 5768 w
(evaluation.) 1346 5768 w
(When) 1941 5768 w
(the) 2240 5768 w
(operand) 2428 5768 w
(is) 2862 5768 w
(a) 2975 5768 w
(function) 3063 5768 w
(returning) 3497 5768 w
(exactly) 3982 5768 w
(the) 4356 5768 w
(same) 4544 5768 w
(type) 4832 5768 w
(as) 720 5888 w
(the) 874 5888 w
(current) 1077 5888 w
(function,) 1475 5888 w
(the) 1956 5888 w
(current) 2159 5888 w
(function) 2557 5888 w
(is) 3006 5888 w
(replaced) 3134 5888 w
(by) 3596 5888 w
(the) 3759 5888 w
(operand) 3962 5888 w
(function) 4411 5888 w
(and) 4860 5888 w
(control) 720 6008 w
(is) 1111 6008 w
(transferred) 1240 6008 w
(to) 1829 6008 w
(the) 1976 6008 w
(beginning) 2180 6008 w
(of) 2717 6008 w
(that) 2865 6008 w
(function.) 3106 6008 w
(There) 3621 6008 w
(is) 3949 6008 w
(a) 4079 6008 w
(crucial) 4184 6008 w
(difference) 4552 6008 w
(between) 720 6128 w
(a) 1161 6128 w
(subroutine) 1250 6128 w
(call) 1808 6128 w
(and) 2006 6128 w
(this) 2220 6128 w
(form) 2433 6128 w
(of) 2698 6128 w
(function) 2829 6128 w
(invocation:) 3263 6128 w
(the) 3827 6128 w
(former) 4015 6128 w
(creates) 4377 6128 w
(a) 4757 6128 w
(new) 4845 6128 w
(subroutine) 720 6248 w
(context) 1284 6248 w
(on) 1689 6248 w
(the) 1852 6248 w
(stack) 2047 6248 w
(before) 2339 6248 w
(transferring) 2693 6248 w
(control;) 3307 6248 w
(the) 3722 6248 w
(latter) 3918 6248 w
(replaces) 4214 6248 w
(the) 4657 6248 w
(cur\255) 4853 6248 w
(rent) 720 6368 w
(function) 975 6368 w
(context) 1435 6368 w
(with) 1859 6368 w
(the) 2122 6368 w
(new) 2335 6368 w
(context) 2588 6368 w
(and) 3011 6368 w
(transfers) 3249 6368 w
(control.) 3738 6368 w
(When) 4202 6368 w
(a) 4526 6368 w
(function) 4639 6368 w
(invokes) 720 6488 w
(itself) 1136 6488 w
(or) 1422 6488 w
(when) 1571 6488 w
(several) 1875 6488 w
(functions) 2262 6488 w
(invoke) 2761 6488 w
(each) 3126 6488 w
(other) 3397 6488 w
(via) 3702 6488 w
(mutual) 3886 6488 w
(recursion) 4272 6488 w
(using) 4774 6488 w
10 /LucidaTypewriter f
(become) 720 6608 w
10 /LucidaSansUnicode00 f
(,) 1152 6608 w
(the) 1254 6608 w
(computation) 1479 6608 w
(runs) 2160 6608 w
(in) 2446 6608 w
(constant) 2607 6608 w
(space.) 3093 6608 w
(When) 3503 6608 w
(used) 3839 6608 w
(in) 4141 6608 w
(this) 4302 6608 w
(form,) 4551 6608 w
(the) 4885 6608 w
10 /LucidaTypewriter f
(become) 720 6728 w
10 /LucidaSansUnicode00 f
(statement is useful for implementing functional style programs.) 1184 6728 w
(We) 720 6884 w
(can) 895 6884 w
(use) 1096 6884 w
(the) 1298 6884 w
10 /LucidaTypewriter f
(become) 1486 6884 w
10 /LucidaSansUnicode00 f
(statement) 1951 6884 w
(to) 2468 6884 w
(implement) 2599 6884 w
(a) 3150 6884 w
(finite) 3238 6884 w
(state) 3521 6884 w
(machine) 3791 6884 w
(that) 4233 6884 w
(runs) 4458 6884 w
(in) 4708 6884 w
(con\255) 4833 6884 w
(stant) 720 7004 w
(space.) 997 7004 w
(Suppose) 1372 7004 w
(we) 1817 7004 w
(have) 1985 7004 w
(a) 2245 7004 w
(state) 2335 7004 w
(machine) 2606 7004 w
(with) 3049 7004 w
(four) 3289 7004 w
(states) 3525 7004 w
(\(A,) 3847 7004 w
(B,) 4016 7004 w
(C,) 4141 7004 w
(D\),) 4276 7004 w
(three) 4450 7004 w
(inputs) 4736 7004 w
(\(1, 2, 3\) and the following transitions:) 720 7124 w
cleartomark
showpage
saveobj restore
%%EndPage: 33 33
%%Page: 34 34
/saveobj save def
mark
34 pagesetup
10 /LucidaSansUnicode00 f
(\255 34 \255) 2752 480 w
10 /S f
(_) 2221 740 w
(__________________________) 2238 740 w
10 /LucidaSansUnicode00 f
(state/input) 2271 860 w
(1) 2969 860 w
(2) 3194 860 w
(3) 3419 860 w
10 /S f
(_) 2221 880 w
(__________________________) 2238 880 w
10 /LucidaSansUnicode00 f
(A) 2507 1000 w
(A) 2966 1000 w
(B) 3196 1000 w
(C) 3416 1000 w
10 /S f
(_) 2221 1020 w
(__________________________) 2238 1020 w
10 /LucidaSansUnicode00 f
(B) 2513 1140 w
(B) 2971 1140 w
(A) 3191 1140 w
(B) 3421 1140 w
10 /S f
(_) 2221 1160 w
(__________________________) 2238 1160 w
10 /LucidaSansUnicode00 f
(C) 2507 1280 w
(A) 2966 1280 w
(B) 3196 1280 w
(D) 3413 1280 w
10 /S f
(_) 2221 1300 w
(__________________________) 2238 1300 w
10 /LucidaSansUnicode00 f
(D) 2504 1420 w
(D) 2963 1420 w
(D) 3188 1420 w
(D) 3413 1420 w
10 /S f
(_) 2221 1440 w
(__________________________) 2238 1440 w
(\347) 2221 1440 w
(\347) 2221 1340 w
(\347) 2221 1240 w
(\347) 2221 1140 w
(\347) 2221 1040 w
(\347) 2221 940 w
(\347) 2221 840 w
(\347) 2888 1440 w
(\347) 2888 1340 w
(\347) 2888 1240 w
(\347) 2888 1140 w
(\347) 2888 1040 w
(\347) 2888 940 w
(\347) 2888 840 w
(\347) 3113 1440 w
(\347) 3113 1340 w
(\347) 3113 1240 w
(\347) 3113 1140 w
(\347) 3113 1040 w
(\347) 3113 940 w
(\347) 3113 840 w
(\347) 3338 1440 w
(\347) 3338 1340 w
(\347) 3338 1240 w
(\347) 3338 1140 w
(\347) 3338 1040 w
(\347) 3338 940 w
(\347) 3338 840 w
(\347) 3538 1440 w
(\347) 3538 1340 w
(\347) 3538 1240 w
(\347) 3538 1140 w
(\347) 3538 1040 w
(\347) 3538 940 w
(\347) 3538 840 w
10 /LucidaSansUnicode00 f
(The) 720 1620 w
(machine) 942 1620 w
(starts) 1391 1620 w
(in) 1704 1620 w
(state) 1836 1620 w
(A) 2113 1620 w
(and) 2224 1620 w
(continues) 2446 1620 w
(until) 2959 1620 w
(reaching) 3220 1620 w
(the) 3680 1620 w
(terminal) 3877 1620 w
(state,) 4321 1620 w
(D.) 4631 1620 w
(As) 4812 1620 w
(it) 4974 1620 w
(passes) 720 1740 w
(through) 1080 1740 w
(each) 1500 1740 w
(state,) 1757 1740 w
(the) 2058 1740 w
(state) 2246 1740 w
(name) 2515 1740 w
(is) 2814 1740 w
(printed.) 2927 1740 w
(The following Alef program imple\255) 3374 1740 w
(ments this state machine:) 720 1860 w
9 /LucidaTypewriter f
(void) 1008 2030 w
(stateA\(chan\(int\)\);) 1333 2030 w
(void) 1008 2140 w
(stateB\(chan\(int\)\);) 1333 2140 w
(void) 1008 2250 w
(stateC\(chan\(int\)\);) 1333 2250 w
(int) 1008 2470 w
(readcpid;) 1268 2470 w
(void) 1008 2690 w
(readc\(chan\(int\)) 1008 2800 w
(c\)) 2048 2800 w
({) 1008 2910 w
(int) 1528 3020 w
(fd,) 1788 3020 w
(fd2;) 2048 3020 w
(byte) 1528 3130 w
(ch;) 1853 3130 w
(readcpid) 1528 3350 w
(=) 2113 3350 w
(getpid\(\);) 2243 3350 w
(fd) 1528 3460 w
(=) 1723 3460 w
(open\("/dev/cons",) 1853 3460 w
(OREAD\);) 3023 3460 w
(fd2) 1528 3570 w
(=) 1788 3570 w
(open\("/dev/consctl",) 1918 3570 w
(OWRITE\);) 3283 3570 w
(check) 1528 3680 w
(fd) 1918 3680 w
(>=) 2113 3680 w
(0) 2308 3680 w
(&&) 2438 3680 w
(fd2) 2633 3680 w
(>=) 2893 3680 w
(0,) 3088 3680 w
("keyboard) 3283 3680 w
(open";) 3933 3680 w
(write\(fd2,) 1528 3790 w
("rawon",) 2243 3790 w
(5\);) 2828 3790 w
(for\(;;\)) 1528 3900 w
({) 2048 3900 w
(check) 2048 4010 w
(read\(fd,) 2438 4010 w
(&ch,) 3023 4010 w
(1\)) 3348 4010 w
(==) 3543 4010 w
(1,) 3738 4010 w
("read) 3933 4010 w
(error";) 4323 4010 w
(c) 2048 4120 w
(<-=) 2178 4120 w
(ch;) 2438 4120 w
(}) 1528 4230 w
(}) 1008 4340 w
(void) 1008 4570 w
(stateA\(chan\(int\)) 1008 4680 w
(c\)) 2113 4680 w
({) 1008 4790 w
(print\("A"\);) 1528 4900 w
(switch\(<-c\)) 1528 5010 w
({) 2308 5010 w
(default:) 1528 5120 w
(case) 1528 5230 w
('1':) 1853 5230 w
(become) 2568 5230 w
(stateA\(c\);) 3023 5230 w
(case) 1528 5340 w
('2':) 1853 5340 w
(become) 2568 5340 w
(stateB\(c\);) 3023 5340 w
(case) 1528 5450 w
('3':) 1853 5450 w
(become) 2568 5450 w
(stateC\(c\);) 3023 5450 w
(}) 1528 5560 w
(}) 1008 5670 w
(void) 1008 5900 w
(stateB\(chan\(int\)) 1008 6010 w
(c\)) 2113 6010 w
({) 1008 6120 w
(print\("B"\);) 1528 6230 w
(switch\(<-c\)) 1528 6340 w
({) 2308 6340 w
(default:) 1528 6450 w
(case) 1528 6560 w
('3':) 1853 6560 w
(case) 1528 6670 w
('1':) 1853 6670 w
(become) 2568 6670 w
(stateB\(c\);) 3023 6670 w
(case) 1528 6780 w
('2':) 1853 6780 w
(become) 2568 6780 w
(stateA\(c\);) 3023 6780 w
(}) 1528 6890 w
(}) 1008 7000 w
cleartomark
showpage
saveobj restore
%%EndPage: 34 34
%%Page: 35 35
/saveobj save def
mark
35 pagesetup
10 /LucidaSansUnicode00 f
(\255 35 \255) 2752 480 w
9 /LucidaTypewriter f
(void) 1008 830 w
(stateC\(chan\(int\)) 1008 940 w
(c\)) 2113 940 w
({) 1008 1050 w
(print\("C"\);) 1528 1160 w
(switch\(<-c\)) 1528 1270 w
({) 2308 1270 w
(default:) 1528 1380 w
(become) 2568 1380 w
(stateC\(c\);) 3023 1380 w
(case) 1528 1490 w
('1':) 1853 1490 w
(become) 2568 1490 w
(stateA\(c\);) 3023 1490 w
(case) 1528 1600 w
('2':) 1853 1600 w
(become) 2568 1600 w
(stateB\(c\);) 3023 1600 w
(case) 1528 1710 w
('3':) 1853 1710 w
(print\("\\n"\);) 2568 1710 w
(/*) 3608 1710 w
(terminal) 3803 1710 w
(state) 4388 1710 w
(*/) 4778 1710 w
(break;) 2568 1820 w
(}) 1528 1930 w
(if\(readcpid\)) 1528 2040 w
(postnote\(PNPROC,readcpid,) 2048 2150 w
("kill"\);) 3738 2150 w
(exits\(nil\);) 1528 2260 w
(}) 1008 2370 w
(void) 1008 2600 w
(main\(void\)) 1008 2710 w
({) 1008 2820 w
(chan\(int\)) 1528 2930 w
(c;) 2178 2930 w
(alloc) 1528 3150 w
(c;) 1918 3150 w
(proc) 1528 3260 w
(readc\(c\);) 1853 3260 w
(stateA\(c\);) 1528 3370 w
(}) 1008 3480 w
10 /LucidaSansUnicode00 f
(Of) 720 3660 w
(course,) 868 3660 w
(we) 1255 3660 w
(could) 1421 3660 w
(implement) 1720 3660 w
(this) 2271 3660 w
(simple) 2483 3660 w
(example) 2837 3660 w
(with) 3283 3660 w
(a) 3521 3660 w
(transition) 3609 3660 w
(matrix) 4106 3660 w
(and) 4455 3660 w
(a) 4668 3660 w
(recur\255) 4756 3660 w
(sive) 720 3780 w
10 /LucidaTypewriter f
(become) 940 3780 w
10 /LucidaSansUnicode00 f
(statement, but we choose this form to emphasize the flow of control.) 1404 3780 w
10 /LucidaSans-Demi f
(Alef Libraries) 720 4020 w
10 /LucidaSansUnicode00 f
(The) 720 4176 w
(Alef) 950 4176 w
(system) 1190 4176 w
(library) 1579 4176 w
10 /LucidaTypewriter f
(libA.a) 1938 4176 w
10 /LucidaSansUnicode00 f
(corresponds) 2419 4176 w
(to) 3069 4176 w
(the) 3216 4176 w
(Plan) 3420 4176 w
(9) 3670 4176 w
(C) 3782 4176 w
(library) 3900 4176 w
10 /LucidaTypewriter f
(libc.a) 4259 4176 w
10 /LucidaSansUnicode00 f
(.) 4691 4176 w
(Most) 4805 4176 w
(Alef) 720 4296 w
(functions) 961 4296 w
(in) 1463 4296 w
10 /LucidaTypewriter f
(libA.a) 1603 4296 w
10 /LucidaSansUnicode00 f
(are) 2084 4296 w
(functionally) 2285 4296 w
(identical) 2900 4296 w
(to) 3360 4296 w
(their) 3507 4296 w
(C) 3781 4296 w
(language) 3899 4296 w
(counterparts.) 4391 4296 w
(Occasionally,) 720 4416 w
(the) 1401 4416 w
(names) 1602 4416 w
(of) 1965 4416 w
(complex) 2109 4416 w
(types) 2569 4416 w
(or) 2874 4416 w
(their) 3022 4416 w
(members) 3293 4416 w
(vary;) 3792 4416 w
(the) 4070 4416 w
(Alef) 4271 4416 w
(header) 4509 4416 w
(file) 4889 4416 w
10 /LucidaTypewriter f
(alef.h) 720 4536 w
10 /LucidaSansUnicode00 f
(is) 1198 4536 w
(the) 1324 4536 w
(definitive) 1525 4536 w
(record) 2021 4536 w
(of) 2380 4536 w
(interfaces) 2524 4536 w
(and) 3045 4536 w
(system) 3271 4536 w
(aggregate) 3656 4536 w
(names.) 4187 4536 w
(Auxiliary) 4613 4536 w
(Alef) 720 4656 w
(libraries) 968 4656 w
(provide) 1419 4656 w
(regular) 1841 4656 w
(expression) 2244 4656 w
(matching,) 2832 4656 w
(network) 3373 4656 w
(interfaces,) 3823 4656 w
(and) 4388 4656 w
(graphics) 4626 4656 w
(operations) 720 4776 w
(similar) 1275 4776 w
(to) 1641 4776 w
(corresponding) 1778 4776 w
(C) 2520 4776 w
(libraries.) 2628 4776 w
(In) 3125 4776 w
(general,) 3255 4776 w
(the) 3687 4776 w
(manual) 3881 4776 w
(pages) 4276 4776 w
(for) 4601 4776 w
(the) 4778 4776 w
(C) 4971 4776 w
(library functions accurately describe the functioning of their Alef counterparts.) 720 4896 w
(The) 720 5052 w
(Alef) 947 5052 w
(buffered) 1184 5052 w
(I/O) 1645 5052 w
(library,) 1851 5052 w
10 /LucidaTypewriter f
(libbio.a) 2239 5052 w
10 /LucidaSansUnicode00 f
(,) 2815 5052 w
(is) 2893 5052 w
(the) 3019 5052 w
(only) 3221 5052 w
(library) 3472 5052 w
(that) 3829 5052 w
(differs) 4067 5052 w
(substantially) 4428 5052 w
(from) 720 5172 w
(the) 988 5172 w
(C) 1179 5172 w
(library) 1283 5172 w
(of) 1628 5172 w
(the) 1761 5172 w
(same) 1951 5172 w
(name.) 2241 5172 w
(In) 2574 5172 w
(the) 2700 5172 w
(Alef) 2890 5172 w
(implementation,) 3116 5172 w
(the) 3945 5172 w
10 /LucidaTypewriter f
(Biobuf) 4135 5172 w
10 /LucidaSansUnicode00 f
(structure) 4602 5172 w
(is) 720 5292 w
(implemented) 838 5292 w
(as) 1513 5292 w
(an) 1657 5292 w
(abstract) 1812 5292 w
(data) 2240 5292 w
(type) 2488 5292 w
(providing) 2734 5292 w
(buffered) 3234 5292 w
(I/O) 3687 5292 w
(operations.) 3886 5292 w
(Header) 4505 5292 w
(file) 4889 5292 w
10 /LucidaTypewriter f
(<bio.h>) 720 5412 w
10 /LucidaSansUnicode00 f
(declares) 1260 5412 w
(the) 1698 5412 w
(abstract) 1889 5412 w
(data) 2315 5412 w
(type) 2561 5412 w
(and) 2805 5412 w
(its) 3021 5412 w
(methods.) 3174 5412 w
(With) 3697 5412 w
(the) 3947 5412 w
(exception) 4137 5412 w
(of) 4648 5412 w
(the) 4781 5412 w
(C) 4971 5412 w
(function) 720 5532 w
10 /LucidaTypewriter f
(getd) 1171 5532 w
10 /LucidaSansUnicode00 f
(,) 1459 5532 w
(which) 1541 5532 w
(has) 1872 5532 w
(no) 2090 5532 w
(Alef) 2263 5532 w
(counterpart,) 2504 5532 w
(the) 3152 5532 w
(Alef) 3357 5532 w
(Bio) 3598 5532 w
(methods) 3797 5532 w
(are) 4271 5532 w
(functionally) 4474 5532 w
(similar) 720 5652 w
(to) 1084 5652 w
(the) 1219 5652 w
(C) 1411 5652 w
(library) 1517 5652 w
(functions.) 1864 5652 w
(The) 2417 5652 w
(names) 2635 5652 w
(of) 2989 5652 w
(the) 3124 5652 w
(methods) 3316 5652 w
(differ) 3775 5652 w
(slightly;) 4074 5652 w
(the) 4493 5652 w
(leading) 4684 5652 w
10 /LucidaSansUnicode20 f
(\030) 720 5772 w
10 /LucidaTypewriter f
(B) 752 5772 w
10 /LucidaSansUnicode20 f
(\031) 824 5772 w
10 /LucidaSansUnicode00 f
(of) 907 5772 w
(the) 1056 5772 w
(C) 1262 5772 w
(language) 1382 5772 w
(function) 1876 5772 w
(is) 2328 5772 w
(deleted.) 2459 5772 w
(Most) 2934 5772 w
(Alef) 3220 5772 w
(Bio) 3462 5772 w
(methods) 3661 5772 w
(expect) 4135 5772 w
(an) 4511 5772 w
(implicit) 4680 5772 w
(parameter,) 720 5892 w
(so) 1286 5892 w
(the) 1435 5892 w
(first) 1627 5892 w
(argument) 1859 5892 w
(of) 2364 5892 w
(each) 2499 5892 w
(C) 2760 5892 w
(function) 2865 5892 w
(is) 3302 5892 w
(not) 3418 5892 w
(needed.) 3614 5892 w
(Finally,) 4070 5892 w
(unlike) 4448 5892 w
(the) 4780 5892 w
(C) 4971 5892 w
(version) 720 6012 w
(of) 1124 6012 w
(the) 1274 6012 w
(library,) 1481 6012 w
(the) 1875 6012 w
(Alef) 2082 6012 w
(package) 2325 6012 w
(supports) 2777 6012 w
(parallel) 3258 6012 w
(execution.) 3667 6012 w
(See) 4258 6012 w
(the) 4476 6012 w
(manual) 4684 6012 w
(page for details.) 720 6132 w
10 /LucidaSans-Demi f
(Miscellaneous Features) 720 6372 w
10 /LucidaSansUnicode00 f
(There) 720 6528 w
(is) 1047 6528 w
(no) 1176 6528 w
10 /LucidaTypewriter f
(USED) 1348 6528 w
10 /LucidaSansUnicode00 f
(compiler) 1685 6528 w
(pseudo-op) 2157 6528 w
(in) 2744 6528 w
(Alef) 2884 6528 w
(as) 3124 6528 w
(there) 3279 6528 w
(is) 3580 6528 w
(in) 3709 6528 w
(the) 3849 6528 w
(Plan) 4053 6528 w
(9) 4303 6528 w
(C) 4415 6528 w
(compilers.) 4534 6528 w
(Unreferenced) 720 6648 w
(formal) 1409 6648 w
(parameters) 1764 6648 w
(are) 2351 6648 w
(indicated) 2542 6648 w
(by) 3026 6648 w
(discarding) 3180 6648 w
(the) 3724 6648 w
(parameter) 3917 6648 w
(name) 4452 6648 w
(in) 4756 6648 w
(the) 4885 6648 w
(function) 720 6768 w
(definition.) 1162 6768 w
(This) 1732 6768 w
(action) 1978 6768 w
(suppresses) 2314 6768 w
(the) 2901 6768 w
10 /LucidaSansUnicode20 f
(\030) 3098 6768 w
10 /LucidaSansUnicode00 f
(declared) 3130 6768 w
(but) 3586 6768 w
(not) 3790 6768 w
(used) 3992 6768 w
10 /LucidaSansUnicode20 f
(\031) 4224 6768 w
10 /LucidaSansUnicode00 f
(warning) 4298 6768 w
(issued) 4728 6768 w
(when) 720 6888 w
(a) 1011 6888 w
(program) 1100 6888 w
(is) 1550 6888 w
(compiled) 1664 6888 w
(with) 2143 6888 w
(the) 2381 6888 w
10 /LucidaTypewriter f
(`-w') 2569 6888 w
10 /LucidaSansUnicode00 f
(flag.) 2890 6888 w
(For) 3170 6888 w
(example,) 3359 6888 w
(the) 3837 6888 w
(main) 4025 6888 w
(function) 4297 6888 w
(defini\255) 4731 6888 w
(tion) 720 7008 w
cleartomark
showpage
saveobj restore
%%EndPage: 35 35
%%Page: 36 36
/saveobj save def
mark
36 pagesetup
10 /LucidaSansUnicode00 f
(\255 36 \255) 2752 480 w
9 /LucidaTypewriter f
(void) 1008 830 w
(main\(int,) 1008 940 w
(byte**\)) 1658 940 w
({) 1008 1050 w
(...) 1528 1160 w
(}) 1008 1270 w
10 /LucidaSansUnicode00 f
(can be used for a program that does not process the command line.) 720 1450 w
(Two) 720 1606 w
(global) 974 1606 w
(variables) 1326 1606 w
(control) 1810 1606 w
(the) 2205 1606 w
(creation) 2414 1606 w
(of) 2860 1606 w
(Alef) 3012 1606 w
(tasks) 3257 1606 w
(and) 3563 1606 w
(processes.) 3797 1606 w
(They) 4396 1606 w
(contain) 4683 1606 w
(default) 720 1726 w
(values) 1102 1726 w
(that) 1450 1726 w
(are) 1684 1726 w
(appropriate) 1879 1726 w
(for) 2486 1726 w
(most) 2668 1726 w
(Alef) 2953 1726 w
(programs,) 3187 1726 w
(but) 3728 1726 w
(may) 3932 1726 w
(be) 4174 1726 w
(overridden) 4335 1726 w
(for) 4901 1726 w
(unusual) 720 1846 w
(applications.) 1139 1846 w
(The) 1824 1846 w
(integer) 2041 1846 w
(variable) 2421 1846 w
10 /LucidaTypewriter f
(ALEF_stack) 2838 1846 w
10 /LucidaSansUnicode00 f
(contains) 3595 1846 w
(the) 4040 1846 w
(number) 4232 1846 w
(of) 4646 1846 w
(bytes) 4781 1846 w
(of) 720 1966 w
(stack) 873 1966 w
(space) 1180 1966 w
(allocated) 1511 1966 w
(for) 2002 1966 w
(each) 2196 1966 w
(Alef) 2475 1966 w
(task) 2720 1966 w
(or) 2975 1966 w
(process.) 3131 1966 w
(The) 3623 1966 w
(default) 3858 1966 w
(value) 4251 1966 w
(is) 4559 1966 w
(16,000) 4693 1966 w
(bytes.) 720 2086 w
(If) 1089 2086 w
(this) 1201 2086 w
(figure) 1427 2086 w
(is) 1761 2086 w
(too) 1888 2086 w
(small) 2094 2086 w
(or) 2398 2086 w
(too) 2547 2086 w
(large,) 2753 2086 w
(set) 3075 2086 w
10 /LucidaTypewriter f
(ALEF_stack) 3266 2086 w
10 /LucidaSansUnicode00 f
(to) 4033 2086 w
(the) 4178 2086 w
(desired) 4380 2086 w
(value) 4786 2086 w
(before executing the) 720 2206 w
10 /LucidaTypewriter f
(task) 1761 2206 w
10 /LucidaSansUnicode00 f
(or) 2081 2206 w
10 /LucidaTypewriter f
(proc) 2215 2206 w
10 /LucidaSansUnicode00 f
(statement creating the thread.) 2535 2206 w
(The) 720 2362 w
(variable) 942 2362 w
10 /LucidaTypewriter f
(ALEF_rflags) 1363 2362 w
10 /LucidaSansUnicode00 f
(contains) 2196 2362 w
(a) 2645 2362 w
(bit) 2741 2362 w
(mask) 2911 2362 w
(specifying) 3209 2362 w
(the) 3742 2362 w
(resources) 3938 2362 w
(inherited) 4449 2362 w
(by) 4925 2362 w
(an) 720 2482 w
(Alef) 871 2482 w
(process.) 1095 2482 w
(Appropriate) 1566 2482 w
(values) 2177 2482 w
(for) 2515 2482 w
(Plan) 2687 2482 w
(9) 2921 2482 w
(are) 3017 2482 w
(described) 3202 2482 w
(in) 3708 2482 w
(the) 3832 2482 w
10 /LucidaSans-Italic f
(fork) 4020 2482 w
10 /LucidaSansUnicode00 f
(\(2\)) 4221 2482 w
(manual) 4383 2482 w
(page.) 4772 2482 w
(By default,) 720 2602 w
10 /LucidaTypewriter f
(ALEF_rflags) 1265 2602 w
10 /LucidaSansUnicode00 f
(contains the value) 2089 2602 w
10 /LucidaTypewriter f
(RFPROC|RFMEM|RFNOWAIT) 3003 2602 w
10 /LucidaSansUnicode00 f
(specifying) 4548 2602 w
(that) 720 2722 w
(the) 954 2722 w
(processes) 1151 2722 w
(share) 1674 2722 w
(data) 1981 2722 w
(segments) 2233 2722 w
(and) 2743 2722 w
(that) 2965 2722 w
(the) 3198 2722 w
(new) 3395 2722 w
(process) 3632 2722 w
(is) 4048 2722 w
(not) 4170 2722 w
(a) 4372 2722 w
(child) 4469 2722 w
(of) 4745 2722 w
(the) 4885 2722 w
(original process.) 720 2842 w
(The SGI) 1590 2842 w
(Unix) 1991 2842 w
(version) 2245 2842 w
(of) 2630 2842 w
(Alef) 2761 2842 w
(uses) 2985 2842 w
(the) 3238 2842 w
(values) 3426 2842 w
(given) 3764 2842 w
(in) 4058 2842 w
(the) 4182 2842 w
10 /LucidaSans-Italic f
(sproc) 4370 2842 w
10 /LucidaSansUnicode00 f
(\(3\)) 4635 2842 w
(man\255) 4797 2842 w
(ual) 720 2962 w
(page.) 900 2962 w
(By) 1234 2962 w
(default,) 1378 2962 w
(the) 1782 2962 w
10 /LucidaTypewriter f
(PR_SFDS|PR_SADDR) 1970 2962 w
10 /LucidaSansUnicode00 f
(flags) 3155 2962 w
(specify) 3422 2962 w
(that) 3794 2962 w
(processes) 4018 2962 w
(share) 4532 2962 w
(data) 4830 2962 w
(segments) 720 3082 w
(and) 1234 3082 w
(file) 1460 3082 w
(descriptors.) 1657 3082 w
(Processes) 2311 3082 w
(are) 2831 3082 w
(always) 3030 3082 w
(disassociated) 3396 3082 w
(from) 4095 3082 w
(each) 4374 3082 w
(other) 4645 3082 w
(in) 4949 3082 w
(the Unix implementation; there is currently no way to change this behavior.) 720 3202 w
(The) 720 3358 w
(default) 936 3358 w
(resource) 1310 3358 w
(specification) 1765 3358 w
(works) 2412 3358 w
(well) 2736 3358 w
(for) 2963 3358 w
(Alef) 3138 3358 w
(programs) 3365 3358 w
(that) 3868 3358 w
(have) 4095 3358 w
(minimal) 4356 3358 w
(inter\255) 4782 3358 w
(action) 720 3478 w
(with) 1049 3478 w
(the) 1288 3478 w
(external) 1477 3478 w
(environment.) 1908 3478 w
(However,) 2617 3478 w
(the) 3100 3478 w
(default) 3289 3478 w
(behavior) 3662 3478 w
(may) 4115 3478 w
(be) 4348 3478 w
(inappropri\255) 4500 3478 w
(ate) 720 3598 w
(when) 910 3598 w
(the) 1209 3598 w
(Alef) 1406 3598 w
(process) 1639 3598 w
(model) 2055 3598 w
(does) 2399 3598 w
(not) 2672 3598 w
(mesh) 2875 3598 w
(with) 3180 3598 w
(that) 3428 3598 w
(of) 3662 3598 w
(the) 3803 3598 w
(system.) 4001 3598 w
(Consider) 4448 3598 w
(an) 4923 3598 w
(Alef) 720 3718 w
(program) 954 3718 w
(that) 1413 3718 w
(emulates) 1647 3718 w
(the) 2129 3718 w
(action) 2327 3718 w
(of) 2665 3718 w
(a) 2806 3718 w
(shell:) 2904 3718 w
(it) 3206 3718 w
(reads) 3315 3718 w
(a) 3623 3718 w
(command,) 3720 3718 w
(executes) 4272 3718 w
(it) 4744 3718 w
(in) 4852 3718 w
(a) 4985 3718 w
(child) 720 3838 w
(process,) 992 3838 w
(and) 1436 3838 w
(waits) 1654 3838 w
(for) 1941 3838 w
(its) 2118 3838 w
(termination.) 2274 3838 w
(If) 2939 3838 w
(the) 3044 3838 w
(command) 3238 3838 w
(is) 3755 3838 w
(started) 3874 3838 w
(using) 4253 3838 w
(the) 4558 3838 w
10 /LucidaTypewriter f
(proc) 4752 3838 w
10 /LucidaSansUnicode00 f
(statement,) 720 3958 w
(the) 1283 3958 w
(default) 1485 3958 w
(resource) 1871 3958 w
(specification) 2337 3958 w
(is) 2994 3958 w
(inappropriate:) 3120 3958 w
(the) 3853 3958 w
(processes) 4054 3958 w
(shouldn) 4581 3958 w
10 /LucidaSansUnicode20 f
(\031) 4971 3958 w
10 /LucidaSansUnicode00 f
(t) 5003 3958 w
(share) 720 4078 w
(memory) 1032 4078 w
(and) 1475 4078 w
(they) 1702 4078 w
(must) 1956 4078 w
(retain) 2247 4078 w
(a) 2575 4078 w
(parent-child) 2678 4078 w
(relationship.) 3332 4078 w
(The) 4019 4078 w
(program) 4248 4078 w
(should) 4712 4078 w
(set) 720 4198 w
10 /LucidaTypewriter f
(ALEF_rflags) 897 4198 w
10 /LucidaSansUnicode00 f
(to) 1722 4198 w
(the) 1853 4198 w
(desired) 2041 4198 w
(value,) 2433 4198 w
(execute the) 2752 4198 w
10 /LucidaTypewriter f
(proc) 3350 4198 w
10 /LucidaSansUnicode00 f
(statement, wait for the child) 3670 4198 w
(to terminate, and then reset) 720 4318 w
10 /LucidaTypewriter f
(ALEF_rflags) 2114 4318 w
10 /LucidaSansUnicode00 f
(to the default state.) 2938 4318 w
cleartomark
showpage
saveobj restore
%%EndPage: 36 36
%%Trailer
done
%%DocumentFonts: LucidaSansUnicode20 S LucidaSansUnicode00 LucidaSans-Demi LucidaSans-Italic LucidaTypewriter
%%Pages: 36
