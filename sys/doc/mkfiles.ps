%!PS-Adobe-2.0
%%Version: 0.1
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

%%Patch from lp
%%EndPatch from lp

setup
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
12 /LucidaSans-Demi f
(Plan 9) 2445 1220 w
(Mkfiles) 2861 1220 w
10 /LucidaSans-Italic f
(Bob Flandrena) 2530 1480 w
(bobf@plan9.bell-labs.com) 2241 1620 w
10 /LucidaSans-Demi f
(Introduction) 720 2280 w
10 /LucidaSansUnicode00 f
(Every) 720 2436 w
(Plan) 1023 2436 w
(9) 1272 2436 w
(source) 1383 2436 w
(directory) 1753 2436 w
(contains) 2232 2436 w
(a) 2688 2436 w
(file,) 2791 2436 w
(called) 3023 2436 w
10 /LucidaTypewriter f
(mkfile) 3355 2436 w
10 /LucidaSansUnicode00 f
(,) 3787 2436 w
(specifying) 3868 2436 w
(the) 4409 2436 w
(rules) 4613 2436 w
(for) 4901 2436 w
(building) 720 2556 w
(the) 1160 2556 w
(executable) 1356 2556 w
(or) 1923 2556 w
(library) 2066 2556 w
(that) 2417 2556 w
(is) 2649 2556 w
(the) 2770 2556 w
(product) 2966 2556 w
(of) 3385 2556 w
(the) 3524 2556 w
(directory.) 3720 2556 w
10 /LucidaSans-Italic f
(Mk) 4256 2556 w
10 /LucidaSansUnicode00 f
(\(1\)) 4397 2556 w
(interprets) 4567 2556 w
(the) 720 2676 w
(rules) 920 2676 w
(in) 1204 2676 w
(the) 1340 2676 w
(file,) 1540 2676 w
(calculates) 1768 2676 w
(the) 2289 2676 w
(dependencies,) 2489 2676 w
(and) 3234 2676 w
(executes) 3459 2676 w
(an) 3935 2676 w
10 /LucidaSans-Italic f
(rc) 4098 2676 w
10 /LucidaSansUnicode00 f
(\(1\)) 4196 2676 w
(script) 4371 2676 w
(to) 4689 2676 w
(con\255) 4833 2676 w
(struct) 720 2796 w
(the) 1037 2796 w
(product.) 1230 2796 w
(If) 1710 2796 w
(necessary) 1814 2796 w
(components) 2327 2796 w
(are) 2962 2796 w
(supplied) 3152 2796 w
(by) 3606 2796 w
(neighboring) 3759 2796 w
(directories) 4386 2796 w
(or) 4938 2796 w
(sub-directories,) 720 2916 w
(the) 1543 2916 w
(mkfiles) 1740 2916 w
(in) 2135 2916 w
(those) 2268 2916 w
(directories) 2577 2916 w
(are) 3134 2916 w
(first) 3328 2916 w
(executed) 3565 2916 w
(to) 4050 2916 w
(build) 4191 2916 w
(the) 4480 2916 w
(compo\255) 4678 2916 w
(nents before the local construction proceeds.) 720 3036 w
(Most) 720 3192 w
(application) 995 3192 w
(source) 1569 3192 w
(directories) 1931 3192 w
(produce) 2486 3192 w
(one) 2923 3192 w
(of) 3142 3192 w
(four) 3280 3192 w
(types) 3521 3192 w
(of) 3820 3192 w
(product:) 3958 3192 w
(a) 4408 3192 w
(single) 4504 3192 w
(exe\255) 4834 3192 w
(cutable,) 720 3312 w
(several) 1153 3312 w
(executables,) 1540 3312 w
(a) 2196 3312 w
(local) 2298 3312 w
(library,) 2570 3312 w
(or) 2959 3312 w
(a) 3108 3312 w
(system) 3210 3312 w
(library.) 3597 3312 w
(Four) 4018 3312 w
(generic) 4283 3312 w
(mkfiles) 4687 3312 w
(define) 720 3432 w
(the) 1068 3432 w
(normal) 1268 3432 w
(rules) 1654 3432 w
(for) 1938 3432 w
(building) 2122 3432 w
(each) 2566 3432 w
(type) 2836 3432 w
(of) 3090 3432 w
(product.) 3234 3432 w
(The) 3722 3432 w
(simplest) 3949 3432 w
(mkfiles) 4404 3432 w
(need) 4803 3432 w
(only) 720 3552 w
(list) 975 3552 w
(the) 1172 3552 w
(components) 1378 3552 w
(and) 2026 3552 w
(include) 2257 3552 w
(the) 2660 3552 w
(appropriate) 2866 3552 w
(generic) 3481 3552 w
(mkfile) 3889 3552 w
(to) 4242 3552 w
(do) 4391 3552 w
(the) 4566 3552 w
(work.) 4771 3552 w
(More) 720 3672 w
(complex) 1004 3672 w
(mkfiles) 1458 3672 w
(may) 1851 3672 w
(supply) 2091 3672 w
(additional) 2451 3672 w
(rules) 2975 3672 w
(to) 3255 3672 w
(augment,) 3394 3672 w
(modify,) 3894 3672 w
(or) 4302 3672 w
(override) 4445 3672 w
(the) 4885 3672 w
(generic rules.) 720 3792 w
10 /LucidaSans-Demi f
(Using a Mkfile) 720 4032 w
10 /LucidaSansUnicode00 f
(To) 720 4188 w
(build) 877 4188 w
(a) 1156 4188 w
(product,) 1244 4188 w
(change) 1687 4188 w
(to) 2068 4188 w
(the) 2199 4188 w
(directory) 2387 4188 w
(containing) 2851 4188 w
(its) 3394 4188 w
(source) 3544 4188 w
(and) 3899 4188 w
(invoke) 4112 4188 w
10 /LucidaSans-Italic f
(mk) 4463 4188 w
10 /LucidaSansUnicode00 f
(with) 4647 4188 w
(the) 4885 4188 w
(appropriate target as an argument.) 720 4308 w
(All mkfiles provide the following standard targets:) 2487 4308 w
10 /LucidaTypewriter f
(all) 720 4488 w
10 /LucidaSansUnicode00 f
(Build) 1590 4488 w
(a) 1882 4488 w
(local) 1988 4488 w
(version) 2264 4488 w
(of) 2667 4488 w
(the) 2816 4488 w
(product) 3022 4488 w
(or) 3451 4488 w
(products) 3604 4488 w
(for) 4084 4488 w
(the) 4274 4488 w
(current) 4480 4488 w
(architecture.) 1590 4608 w
(If) 2294 4608 w
(the) 2422 4608 w
(product) 2639 4608 w
(is) 3079 4608 w
(a) 3221 4608 w
(single) 3338 4608 w
(program,) 3688 4608 w
(the) 4197 4608 w
(result) 4413 4608 w
(is) 4750 4608 w
(stored) 1590 4728 w
(in) 1953 4728 w
(file) 2098 4728 w
10 /LucidaTypewriter f
($O.out) 2303 4728 w
10 /LucidaSansUnicode00 f
(.) 2735 4728 w
(If) 2853 4728 w
(the) 2973 4728 w
(directory) 3182 4728 w
(produces) 3668 4728 w
(multiple) 4171 4728 w
(exe\255) 4624 4728 w
(cutables,) 1590 4848 w
(they) 2062 4848 w
(are) 2305 4848 w
(stored) 2493 4848 w
(in) 2838 4848 w
(the) 2965 4848 w
(files) 3156 4848 w
(named) 3394 4848 w
10 /LucidaTypewriter f
($O.) 3759 4848 w
10 /LucidaSans-Italic f
(progname,) 3975 4848 w
10 /LucidaSansUnicode00 f
(where) 4538 4848 w
10 /LucidaSans-Italic f
(progname) 1590 4968 w
10 /LucidaSansUnicode00 f
(is) 2142 4968 w
(the) 2278 4968 w
(name) 2489 4968 w
(of) 2811 4968 w
(each) 2965 4968 w
(executable.) 3246 4968 w
(A) 3893 4968 w
(product) 4019 4968 w
(may) 4454 4968 w
(be) 4711 4968 w
(built) 1590 5088 w
(for) 1864 5088 w
(a) 2057 5088 w
(different) 2166 5088 w
(architecture) 2638 5088 w
(by) 3270 5088 w
(prefacing) 3438 5088 w
(the) 3947 5088 w
10 /LucidaTypewriter f
(mk) 4155 5088 w
10 /LucidaSansUnicode00 f
(command) 4352 5088 w
(with) 1590 5208 w
10 /LucidaTypewriter f
(objtype=) 1879 5208 w
10 /LucidaSans-Italic f
(architecture) 2455 5208 w
10 /LucidaSansUnicode00 f
(,) 3047 5208 w
(where) 3123 5208 w
10 /LucidaSans-Italic f
(architecture) 3459 5208 w
10 /LucidaSansUnicode00 f
(is) 4096 5208 w
(the) 4221 5208 w
(name) 4421 5208 w
(of) 4732 5208 w
(the) 1590 5328 w
(target) 1812 5328 w
(architecture.) 2167 5328 w
(Directories) 2876 5328 w
(producing) 3470 5328 w
(system) 4030 5328 w
(libraries) 4436 5328 w
(always) 1590 5448 w
(operate) 1955 5448 w
(directly) 2370 5448 w
(on) 2774 5448 w
(the) 2944 5448 w
(installed) 3146 5448 w
(version) 3604 5448 w
(of) 4003 5448 w
(the) 4148 5448 w
(library;) 4350 5448 w
(in) 4739 5448 w
(this case the target) 1590 5568 w
10 /LucidaTypewriter f
(all) 2553 5568 w
10 /LucidaSansUnicode00 f
(is equivalent to the target) 2801 5568 w
10 /LucidaTypewriter f
(install) 4083 5568 w
10 /LucidaSansUnicode00 f
(.) 4587 5568 w
10 /LucidaTypewriter f
(install) 720 5688 w
10 /LucidaSansUnicode00 f
(Build) 1590 5688 w
(and) 1871 5688 w
(install) 2091 5688 w
(the) 2423 5688 w
(product) 2618 5688 w
(or) 3036 5688 w
(products) 3178 5688 w
(for) 3648 5688 w
(the) 3828 5688 w
(current) 4024 5688 w
(architec\255) 4415 5688 w
(ture.) 1590 5808 w
10 /LucidaTypewriter f
(installall) 720 5928 w
10 /LucidaSansUnicode00 f
(Build and install the product or products for all architectures.) 1590 5928 w
10 /LucidaTypewriter f
(clean) 720 6048 w
10 /LucidaSansUnicode00 f
(Rid) 1590 6048 w
(the) 1785 6048 w
(directory) 1980 6048 w
(and) 2451 6048 w
(its) 2671 6048 w
(subdirectories) 2828 6048 w
(of) 3559 6048 w
(the) 3697 6048 w
(by-products) 3893 6048 w
(of) 4536 6048 w
(the) 4675 6048 w
(build) 1590 6168 w
(process.) 1877 6168 w
(Intermediate) 2355 6168 w
(files) 3009 6168 w
(that) 3251 6168 w
(are) 3482 6168 w
(easily) 3674 6168 w
(reproduced) 3986 6168 w
(\(e.g.,) 4583 6168 w
(object) 1590 6288 w
(files,) 1938 6288 w
10 /LucidaTypewriter f
(yacc) 2222 6288 w
10 /LucidaSansUnicode00 f
(intermediates,) 2560 6288 w
(target) 3308 6288 w
(executables\)) 3647 6288 w
(are) 4308 6288 w
(always) 4511 6288 w
(removed.) 1590 6408 w
(Complicated) 2122 6408 w
(intermediates,) 2773 6408 w
(such) 3515 6408 w
(as) 3786 6408 w
(local) 3937 6408 w
(libraries,) 4207 6408 w
(are) 4678 6408 w
(usually preserved.) 1590 6528 w
10 /LucidaTypewriter f
(nuke) 720 6648 w
10 /LucidaSansUnicode00 f
(Remove) 1590 6648 w
(all) 2016 6648 w
(intermediates) 2175 6648 w
(from) 2886 6648 w
(the) 3164 6648 w
(directory) 3365 6648 w
(and) 3842 6648 w
(any) 4068 6648 w
(subdirecto\255) 4283 6648 w
(ries.) 1590 6768 w
(This) 1866 6768 w
(target) 2106 6768 w
(guarantees) 2429 6768 w
(that) 3001 6768 w
(a) 3227 6768 w
(subsequent) 3317 6768 w
(build) 3915 6768 w
(for) 4196 6768 w
(the) 4370 6768 w
(archi\255) 4559 6768 w
(tecture is performed from scratch.) 1590 6888 w
(If) 720 7104 w
(no) 819 7104 w
(target) 975 7104 w
(is) 1296 7104 w
(specified) 1409 7104 w
(on) 1877 7104 w
(the) 2033 7104 w
10 /LucidaTypewriter f
(mk) 2221 7104 w
10 /LucidaSansUnicode00 f
(command) 2398 7104 w
(line,) 2909 7104 w
(the) 3150 7104 w
10 /LucidaTypewriter f
(all) 3338 7104 w
10 /LucidaSansUnicode00 f
(target) 3587 7104 w
(is) 3908 7104 w
(built) 4021 7104 w
(by) 4274 7104 w
(default.) 4423 7104 w
(In) 4860 7104 w
(a) 4985 7104 w
(directory producing multiple executables, there is no default target.) 720 7224 w
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
10 /LucidaSansUnicode00 f
(\255 2 \255) 2783 480 w
(In) 720 840 w
(addition) 846 840 w
(to) 1280 840 w
(the) 1413 840 w
(five) 1603 840 w
(standard) 1812 840 w
(targets,) 2274 840 w
(additional) 2680 840 w
(targets) 3198 840 w
(may) 3573 840 w
(be) 3809 840 w
(supplied) 3964 840 w
(by) 4416 840 w
(each) 4567 840 w
(gen\255) 4827 840 w
(eric mkfile or by the directory) 720 960 w
10 /LucidaSansUnicode20 f
(\031) 2162 960 w
10 /LucidaSansUnicode00 f
(s mkfile.) 2194 960 w
(The) 720 1116 w
(environment) 944 1116 w
(variable) 1598 1116 w
10 /LucidaTypewriter f
(NPROC) 2021 1116 w
10 /LucidaSansUnicode00 f
(is) 2424 1116 w
(set) 2547 1116 w
(by) 2734 1116 w
(the) 2892 1116 w
(system) 3090 1116 w
(to) 3473 1116 w
(the) 3614 1116 w
(number) 3812 1116 w
(of) 4233 1116 w
(available) 4375 1116 w
(pro\255) 4842 1116 w
(cessors.) 720 1236 w
(Setting) 1200 1236 w
(this) 1591 1236 w
(variable,) 1824 1236 w
(either) 2290 1236 w
(in) 2625 1236 w
(the) 2770 1236 w
(environment) 2979 1236 w
(or) 3644 1236 w
(in) 3800 1236 w
(a) 3944 1236 w
(mkfile,) 4052 1236 w
(controls) 4439 1236 w
(the) 4885 1236 w
(amount of parallelism in the build.) 720 1356 w
(For example, the command) 2466 1356 w
9 /LucidaTypewriter f
(NPROC=1) 1528 1526 w
(mk) 2048 1526 w
10 /LucidaSansUnicode00 f
(restricts a build to a single thread of execution.) 720 1706 w
10 /LucidaSans-Demi f
(Creating a Mkfile) 720 1946 w
10 /LucidaSansUnicode00 f
(The) 720 2102 w
(easiest) 944 2102 w
(way) 1322 2102 w
(to) 1549 2102 w
(build) 1691 2102 w
(a) 1981 2102 w
(new) 2080 2102 w
(mkfile) 2319 2102 w
(is) 2665 2102 w
(to) 2789 2102 w
(copy) 2931 2102 w
(and) 3202 2102 w
(modify) 3426 2102 w
(an) 3805 2102 w
(existing) 3966 2102 w
(mkfile) 4397 2102 w
(of) 4743 2102 w
(the) 4885 2102 w
(same) 720 2222 w
(type.) 1010 2222 w
(Failing) 1317 2222 w
(that,) 1672 2222 w
(it) 1930 2222 w
(is) 2031 2222 w
(usually) 2146 2222 w
(possible) 2521 2222 w
(to) 2959 2222 w
(create) 3092 2222 w
(a) 3422 2222 w
(new) 3511 2222 w
(mkfile) 3740 2222 w
(with) 4076 2222 w
(minimal) 4315 2222 w
(effort,) 4739 2222 w
(since) 720 2342 w
(the) 1015 2342 w
(appropriate) 1216 2342 w
(generic) 1826 2342 w
(mkfile) 2230 2342 w
(predefines) 2579 2342 w
(the) 3140 2342 w
(rules) 3342 2342 w
(that) 3628 2342 w
(do) 3866 2342 w
(all) 4037 2342 w
(the) 4197 2342 w
(work.) 4399 2342 w
(In) 4747 2342 w
(the) 4885 2342 w
(simplest) 720 2462 w
(and) 1163 2462 w
(most) 1377 2462 w
(common) 1653 2462 w
(cases,) 2108 2462 w
(the) 2438 2462 w
(new) 2627 2462 w
(mkfile) 2856 2462 w
(need) 3192 2462 w
(only) 3462 2462 w
(define) 3699 2462 w
(a) 4035 2462 w
(couple) 4123 2462 w
(of) 4478 2462 w
(variables) 4609 2462 w
(and include the appropriate architecture-specific and generic mkfiles.) 720 2582 w
(There) 720 2858 w
(are) 1039 2858 w
(four) 1232 2858 w
(generic) 1474 2858 w
(mkfiles) 1872 2858 w
(containing) 2266 2858 w
(commonly) 2817 2858 w
(used) 3360 2858 w
(rules) 3633 2858 w
(for) 3913 2858 w
(building) 4093 2858 w
(a) 4533 2858 w
(product:) 4630 2858 w
10 /LucidaTypewriter f
(mkone) 720 2978 w
10 /LucidaSansUnicode00 f
(,) 1080 2978 w
10 /LucidaTypewriter f
(mkmany) 1150 2978 w
10 /LucidaSansUnicode00 f
(,) 1582 2978 w
10 /LucidaTypewriter f
(mklib) 1652 2978 w
10 /LucidaSansUnicode00 f
(,) 2012 2978 w
(and) 2082 2978 w
10 /LucidaTypewriter f
(mksyslib) 2300 2978 w
10 /LucidaSansUnicode00 f
(.) 2876 2978 w
(These) 2978 2978 w
(rules) 3304 2978 w
(perform) 3581 2978 w
(such) 4011 2978 w
(actions) 4275 2978 w
(as) 4659 2978 w
(com\255) 4802 2978 w
(piling) 720 3098 w
(C) 1035 3098 w
(source) 1145 3098 w
(files,) 1508 3098 w
(loading) 1783 3098 w
(object) 2185 3098 w
(files,) 2525 3098 w
(archiving) 2801 3098 w
(libraries,) 3286 3098 w
(and) 3754 3098 w
(installing) 3976 3098 w
(executables) 4463 3098 w
(in) 720 3218 w
(the) 852 3218 w
10 /LucidaTypewriter f
(bin) 1048 3218 w
10 /LucidaSansUnicode00 f
(directory) 1305 3218 w
(of) 1777 3218 w
(the) 1916 3218 w
(appropriate) 2111 3218 w
(architecture.) 2715 3218 w
(The) 3397 3218 w
(generic) 3618 3218 w
(mkfiles) 4015 3218 w
(are) 4408 3218 w
(stored) 4600 3218 w
(in) 4949 3218 w
(directory) 720 3338 w
10 /LucidaTypewriter f
(/sys/src/cmd) 1193 3338 w
10 /LucidaSansUnicode00 f
(.) 2057 3338 w
(Mkfile) 2163 3338 w
10 /LucidaTypewriter f
(mkone) 2500 3338 w
10 /LucidaSansUnicode00 f
(builds) 2902 3338 w
(a) 3241 3338 w
(single) 3338 3338 w
(executable,) 3669 3338 w
10 /LucidaTypewriter f
(mkmany) 4269 3338 w
10 /LucidaSansUnicode00 f
(builds) 4743 3338 w
(several) 720 3458 w
(executables) 1096 3458 w
(from) 1709 3458 w
(the) 1977 3458 w
(source) 2168 3458 w
(in) 2526 3458 w
(a) 2653 3458 w
(single) 2744 3458 w
(directory,) 3069 3458 w
(and) 3567 3458 w
10 /LucidaTypewriter f
(mklib) 3782 3458 w
10 /LucidaSansUnicode00 f
(and) 4177 3458 w
10 /LucidaTypewriter f
(mksyslib) 4432 3458 w
10 /LucidaSansUnicode00 f
(,) 5008 3458 w
(maintain) 720 3578 w
(local) 1188 3578 w
(and) 1459 3578 w
(system) 1686 3578 w
(libraries,) 2073 3578 w
(respectively.) 2546 3578 w
(The) 3230 3578 w
(rules) 3458 3578 w
(in) 3744 3578 w
(the) 3882 3578 w
(generic) 4084 3578 w
(mkfiles) 4488 3578 w
(are) 4888 3578 w
(driven) 720 3698 w
(by) 1061 3698 w
(the) 1214 3698 w
(values) 1407 3698 w
(of) 1750 3698 w
(variables,) 1886 3698 w
(some) 2387 3698 w
(of) 2686 3698 w
(which) 2822 3698 w
(must) 3141 3698 w
(be) 3422 3698 w
(set) 3579 3698 w
(by) 3761 3698 w
(the) 3914 3698 w
(product) 4106 3698 w
(mkfile) 4521 3698 w
(and) 4860 3698 w
(some of which are supplied by the generic mkfile.) 720 3818 w
(Variables in the latter class include:) 3209 3818 w
10 /LucidaSans-Italic f
(Variable) 1779 3998 w
(Default) 2342 3998 w
(Meaning) 2850 3998 w
10 /LucidaTypewriter f
(CFLAGS) 1758 4178 w
(-FVw) 2376 4178 w
10 /LucidaSansUnicode00 f
(C compiler flags) 2850 4178 w
10 /LucidaTypewriter f
(LDFLAGS) 1686 4298 w
10 /LucidaSansUnicode00 f
(Loader flags) 2850 4298 w
10 /LucidaTypewriter f
(YFLAGS) 1758 4418 w
(-d) 2448 4418 w
10 /LucidaSansUnicode00 f
(Yacc flags) 2850 4418 w
10 /LucidaTypewriter f
(AFLAGS) 1758 4538 w
10 /LucidaSansUnicode00 f
(Assembler flags) 2850 4538 w
(The) 720 4754 w
(following) 946 4754 w
(variables) 1438 4754 w
(are) 1915 4754 w
(set) 2113 4754 w
(by) 2303 4754 w
(the) 2464 4754 w
(product) 2665 4754 w
(mkfile) 3089 4754 w
(and) 3437 4754 w
(used) 3663 4754 w
(by) 3941 4754 w
(the) 4102 4754 w
(generic) 4303 4754 w
(mkfile.) 4706 4754 w
(Any may be empty depending on the specific product being made.) 720 4874 w
10 /LucidaTypewriter f
(TARG) 1443 5054 w
10 /LucidaSansUnicode00 f
(Name\(s\) of the executable\(s\) to be built) 2313 5054 w
10 /LucidaTypewriter f
(LIB) 1443 5174 w
10 /LucidaSansUnicode00 f
(Library name\(s\)) 2313 5174 w
10 /LucidaTypewriter f
(OFILES) 1443 5294 w
10 /LucidaSansUnicode00 f
(Object files) 2313 5294 w
10 /LucidaTypewriter f
(HFILES) 1443 5414 w
10 /LucidaSansUnicode00 f
(Header files included by all source files) 2313 5414 w
10 /LucidaTypewriter f
(YFILES) 1443 5534 w
(Yacc) 2313 5534 w
10 /LucidaSansUnicode00 f
(input files) 2633 5534 w
10 /LucidaTypewriter f
(BIN) 1443 5654 w
10 /LucidaSansUnicode00 f
(Directory where executables are installed) 2313 5654 w
10 /LucidaSans-Demi f
(Mkfile Organization) 720 5954 w
10 /LucidaSansUnicode00 f
(All mkfiles share the following common structure:) 720 6110 w
9 /LucidaTypewriter f
(</$objtype/mkfile) 1008 6280 w
(#) 2568 6280 w
9 /LucidaSansUnicode00 f
(architecture-dependent) 2698 6280 w
(definitions) 3765 6280 w
9 /LucidaSans-Italic f
(variable) 1008 6500 w
(definitions) 1394 6500 w
9 /LucidaTypewriter f
(#) 2568 6500 w
(TARG) 2698 6500 w
9 /LucidaSansUnicode00 f
(,) 2958 6500 w
9 /LucidaTypewriter f
(OFILES) 3016 6500 w
9 /LucidaSansUnicode00 f
(,) 3406 6500 w
9 /LucidaTypewriter f
(HFILES) 3464 6500 w
9 /LucidaSansUnicode00 f
(,) 3854 6500 w
(etc.) 3912 6500 w
9 /LucidaTypewriter f
(</sys/src/cmd/) 1008 6720 w
9 /LucidaSans-Italic f
(generic) 1918 6720 w
9 /LucidaTypewriter f
(#) 2568 6720 w
(mkone) 2698 6720 w
9 /LucidaSansUnicode00 f
(,) 3023 6720 w
9 /LucidaTypewriter f
(mkmany) 3081 6720 w
9 /LucidaSansUnicode00 f
(,) 3471 6720 w
9 /LucidaTypewriter f
(mklib) 3529 6720 w
9 /LucidaSansUnicode00 f
(,) 3854 6720 w
(or) 3912 6720 w
9 /LucidaTypewriter f
(mksyslib) 4033 6720 w
9 /LucidaSans-Italic f
(variable) 1008 6940 w
(overrides) 1394 6940 w
9 /LucidaTypewriter f
(#) 2568 6940 w
(CFLAGS) 2698 6940 w
9 /LucidaSansUnicode00 f
(,) 3088 6940 w
9 /LucidaTypewriter f
(objtype) 3146 6940 w
9 /LucidaSansUnicode00 f
(,) 3601 6940 w
(etc.) 3659 6940 w
9 /LucidaSans-Italic f
(extra) 1008 7160 w
(rules) 1266 7160 w
9 /LucidaTypewriter f
(#) 2568 7160 w
9 /LucidaSansUnicode00 f
(overrides,) 2698 7160 w
(augmented) 3161 7160 w
(rules,) 3682 7160 w
(additional) 3955 7160 w
(targets) 4420 7160 w
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
10 /LucidaSansUnicode00 f
(\255 3 \255) 2783 480 w
(Note that the architecture-dependent mkfiles include file) 720 840 w
10 /LucidaTypewriter f
(/sys/src/mkfile.proto) 3528 840 w
10 /LucidaSansUnicode00 f
(for system-wide variables that are common to all architectures.) 720 960 w
(The) 720 1116 w
(variables) 938 1116 w
(driving) 1406 1116 w
(the) 1781 1116 w
(expansion) 1973 1116 w
(of) 2510 1116 w
(the) 2646 1116 w
(generic) 2839 1116 w
(mkfile) 3234 1116 w
(may) 3574 1116 w
(be) 3812 1116 w
(specified) 3969 1116 w
(in) 4442 1116 w
(any) 4571 1116 w
(order) 4778 1116 w
(as) 720 1236 w
(long) 870 1236 w
(as) 1128 1236 w
(they) 1278 1236 w
(are) 1529 1236 w
(defined) 1725 1236 w
(before) 2135 1236 w
(the) 2493 1236 w
(inclusion) 2692 1236 w
(of) 3172 1236 w
(the) 3314 1236 w
(generic) 3513 1236 w
(mkfile.) 3914 1236 w
(The) 4323 1236 w
(value) 4547 1236 w
(of) 4844 1236 w
(a) 4985 1236 w
(variable) 720 1356 w
(may) 1134 1356 w
(be) 1368 1356 w
(changed) 1521 1356 w
(by) 1966 1356 w
(assigning) 2115 1356 w
(a) 2612 1356 w
(new) 2701 1356 w
(value) 2930 1356 w
(following) 3218 1356 w
(the) 3699 1356 w
(inclusion) 3889 1356 w
(of) 4360 1356 w
(the) 4493 1356 w
(generic) 4683 1356 w
(mkfile,) 720 1476 w
(but) 1098 1476 w
(the) 1304 1476 w
(effects) 1503 1476 w
(are) 1872 1476 w
(sometimes) 2068 1476 w
(counter-intuitive.) 2639 1476 w
(Such) 3568 1476 w
(variable) 3841 1476 w
(assignments) 4264 1476 w
(do) 4916 1476 w
(not) 720 1596 w
(apply) 928 1596 w
(to) 1238 1596 w
(the) 1384 1596 w
(target) 1587 1596 w
(and) 1924 1596 w
(prerequisite) 2153 1596 w
(portions) 2786 1596 w
(of) 3240 1596 w
(any) 3387 1596 w
(previously) 3605 1596 w
(defined) 4150 1596 w
(rules;) 4565 1596 w
(the) 4885 1596 w
(new) 720 1716 w
(values) 948 1716 w
(only) 1286 1716 w
(apply) 1523 1716 w
(to) 1818 1716 w
(the) 1949 1716 w
(recipes) 2137 1716 w
(of) 2517 1716 w
(rules) 2648 1716 w
(preceding) 2920 1716 w
(the) 3436 1716 w
(assignment statement and to) 3624 1716 w
(all parts of any rules following it.) 720 1836 w
(The) 720 1992 w
(rules) 949 1992 w
(supplied) 1236 1992 w
(by) 1700 1992 w
(the) 1863 1992 w
(generic) 2066 1992 w
(mkfile) 2471 1992 w
(may) 2821 1992 w
(be) 3069 1992 w
(overridden) 3236 1992 w
(or) 3808 1992 w
(augmented.) 3958 1992 w
(The) 4616 1992 w
(new) 4845 1992 w
(rules) 720 2112 w
(must) 1000 2112 w
(be) 1284 2112 w
(specified) 1444 2112 w
(after) 1920 2112 w
(the) 2187 2112 w
(inclusion) 2383 2112 w
(of) 2860 2112 w
(the) 2999 2112 w
(generic) 3195 2112 w
(mkfile.) 3592 2112 w
(If) 3998 2112 w
(the) 4104 2112 w
(target) 4299 2112 w
(and) 4627 2112 w
(pre\255) 4847 2112 w
(requisite) 720 2232 w
(portion) 1177 2232 w
(of) 1564 2232 w
(the) 1696 2232 w
(rule) 1885 2232 w
(exactly) 2107 2232 w
(match) 2482 2232 w
(the) 2814 2232 w
(target) 3003 2232 w
(and) 3325 2232 w
(prerequisite) 3539 2232 w
(portion) 4157 2232 w
(of) 4545 2232 w
(a) 4677 2232 w
(previ\255) 4766 2232 w
(ously) 720 2352 w
(defined) 1009 2352 w
(rule) 1409 2352 w
(and) 1631 2352 w
(the) 1845 2352 w
(new) 2034 2352 w
(rule) 2263 2352 w
(contains) 2485 2352 w
(a) 2927 2352 w
(recipe,) 3016 2352 w
(the) 3378 2352 w
(new) 3567 2352 w
(rule) 3796 2352 w
(replaces) 4018 2352 w
(the) 4454 2352 w
(old) 4643 2352 w
(one.) 4829 2352 w
(If) 720 2472 w
(the) 820 2472 w
(target) 1009 2472 w
(of) 1331 2472 w
(a) 1463 2472 w
(new) 1552 2472 w
(rule) 1781 2472 w
(exactly) 2003 2472 w
(matches) 2378 2472 w
(the) 2817 2472 w
(target) 3006 2472 w
(of) 3328 2472 w
(a) 3460 2472 w
(previous) 3550 2472 w
(rule) 4000 2472 w
(and) 4223 2472 w
(one) 4438 2472 w
(or) 4652 2472 w
(more) 4789 2472 w
(new) 720 2592 w
(prerequisites) 956 2592 w
(are) 1632 2592 w
(specified) 1825 2592 w
(and) 2301 2592 w
(the) 2522 2592 w
(new) 2718 2592 w
(rule) 2954 2592 w
(contains) 3183 2592 w
(no) 3632 2592 w
(recipe,) 3796 2592 w
(the) 4165 2592 w
(new) 4361 2592 w
(prerequi\255) 4596 2592 w
(sites are added to the prerequisites of the old rule.) 720 2712 w
(Following sections discuss each generic mkfile in detail.) 720 2868 w
10 /LucidaSans-Demi f
(Mkone) 720 3108 w
10 /LucidaSansUnicode00 f
(The) 720 3264 w
10 /LucidaTypewriter f
(mkone) 943 3264 w
10 /LucidaSansUnicode00 f
(generic) 1345 3264 w
(mkfile) 1744 3264 w
(contains) 2088 3264 w
(rules) 2538 3264 w
(for) 2819 3264 w
(building) 3000 3264 w
(a) 3442 3264 w
(single) 3540 3264 w
(executable) 3872 3264 w
(from) 4441 3264 w
(one) 4716 3264 w
(or) 4938 3264 w
(more) 720 3384 w
(files) 1012 3384 w
(in) 1255 3384 w
(a) 1387 3384 w
(directory.) 1483 3384 w
(The) 2019 3384 w
(variable) 2241 3384 w
10 /LucidaTypewriter f
(TARG) 2662 3384 w
10 /LucidaSansUnicode00 f
(specifies) 2991 3384 w
(the) 3455 3384 w
(name) 3651 3384 w
(of) 3958 3384 w
(the) 4097 3384 w
(executable) 4293 3384 w
(and) 4860 3384 w
(variables) 720 3504 w
10 /LucidaTypewriter f
(OFILES) 1191 3504 w
10 /LucidaSansUnicode00 f
(and) 1663 3504 w
10 /LucidaTypewriter f
(YFILES) 1883 3504 w
10 /LucidaSansUnicode00 f
(specify) 2355 3504 w
(the) 2735 3504 w
(object) 2931 3504 w
(files) 3270 3504 w
(and) 3513 3504 w
10 /LucidaTypewriter f
(yacc) 3734 3504 w
10 /LucidaSansUnicode00 f
(source) 4063 3504 w
(files) 4426 3504 w
(used) 4669 3504 w
(to) 4942 3504 w
(build) 720 3624 w
(it.) 1015 3624 w
10 /LucidaTypewriter f
(HFILES) 1194 3624 w
10 /LucidaSansUnicode00 f
(contains) 1675 3624 w
(the) 2132 3624 w
(names) 2336 3624 w
(of) 2702 3624 w
(the) 2848 3624 w
(local) 3051 3624 w
(header) 3324 3624 w
(files) 3705 3624 w
(included) 3955 3624 w
(in) 4418 3624 w
(all) 4557 3624 w
(source) 4718 3624 w
(files.) 720 3744 w
10 /LucidaTypewriter f
(BIN) 1021 3744 w
10 /LucidaSansUnicode00 f
(is) 1272 3744 w
(the) 1387 3744 w
(name) 1578 3744 w
(of) 1880 3744 w
(the) 2014 3744 w
(directory) 2205 3744 w
(where) 2672 3744 w
(the) 3000 3744 w
(executable) 3191 3744 w
(is) 3753 3744 w
(installed.) 3869 3744 w
10 /LucidaTypewriter f
(LIB) 4380 3744 w
10 /LucidaSansUnicode00 f
(contains) 4632 3744 w
(the) 720 3864 w
(names) 908 3864 w
(of) 1258 3864 w
(local) 1389 3864 w
(libraries) 1647 3864 w
(used) 2074 3864 w
(by) 2339 3864 w
(the) 2487 3864 w
(linker.) 2675 3864 w
(This) 3047 3864 w
(variable) 3285 3864 w
(is) 3698 3864 w
(rarely) 3811 3864 w
(needed) 4118 3864 w
(as) 4507 3864 w
(libraries) 4646 3864 w
(referenced) 720 3984 w
(by) 1287 3984 w
(a) 1450 3984 w
10 /LucidaTypewriter f
(#pragma) 1553 3984 w
10 /LucidaSansUnicode00 f
(directive) 2105 3984 w
(in) 2567 3984 w
(an) 2706 3984 w
(associated) 2871 3984 w
(header) 3428 3984 w
(file,) 3809 3984 w
(including) 4040 3984 w
(all) 4538 3984 w
(system) 4700 3984 w
(libraries, are automatically searched by the loader.) 720 4104 w
(If) 720 4260 w
10 /LucidaTypewriter f
(mk) 824 4260 w
10 /LucidaSansUnicode00 f
(is) 1006 4260 w
(executed) 1124 4260 w
(without) 1604 4260 w
(a) 2007 4260 w
(target,) 2100 4260 w
(the) 2458 4260 w
10 /LucidaTypewriter f
(all) 2651 4260 w
10 /LucidaSansUnicode00 f
(target) 2905 4260 w
(is) 3231 4260 w
(built;) 3349 4260 w
(it) 3639 4260 w
(produces) 3743 4260 w
(an) 4229 4260 w
(executable) 4384 4260 w
(in) 4949 4260 w
10 /LucidaTypewriter f
($O.out) 720 4380 w
10 /LucidaSansUnicode00 f
(.) 1152 4380 w
(Variable) 1249 4380 w
10 /LucidaTypewriter f
(HFILES) 1675 4380 w
10 /LucidaSansUnicode00 f
(identifies) 2140 4380 w
(the header files that are included in all or most or) 2622 4380 w
(the) 720 4500 w
(C) 913 4500 w
(source) 1020 4500 w
(files.) 1380 4500 w
(Occasionally,) 1684 4500 w
(a) 2357 4500 w
(program) 2450 4500 w
(has) 2904 4500 w
(other) 3110 4500 w
(header) 3405 4500 w
(files) 3776 4500 w
(that) 4016 4500 w
(are) 4245 4500 w
(only) 4435 4500 w
(used) 4678 4500 w
(in) 4949 4500 w
(some) 720 4620 w
(source) 1020 4620 w
(files.) 1381 4620 w
(A) 1686 4620 w
(header) 1793 4620 w
(can) 2164 4620 w
(be) 2370 4620 w
(added) 2527 4620 w
(to) 2865 4620 w
(the) 3001 4620 w
(prerequisites) 3194 4620 w
(for) 3867 4620 w
(those) 4044 4620 w
(object) 4349 4620 w
(files) 4685 4620 w
(by) 4925 4620 w
(adding a rule of the following form following the inclusion of generic mkfile) 720 4740 w
10 /LucidaTypewriter f
(mkone) 4440 4740 w
10 /LucidaSansUnicode00 f
(:) 4800 4740 w
9 /LucidaTypewriter f
(file.$O:) 1008 4910 w
(header.h) 2048 4910 w
10 /LucidaSansUnicode00 f
(The) 720 5126 w
(mkfile) 936 5126 w
(for) 1273 5126 w
(a) 1447 5126 w
(directory) 1537 5126 w
(producing) 2003 5126 w
(a) 2532 5126 w
(single) 2622 5126 w
(executable) 2946 5126 w
(using) 3507 5126 w
(the) 3808 5126 w
(normal) 3998 5126 w
(set) 4374 5126 w
(of) 4553 5126 w
(rules) 4686 5126 w
(is) 4960 5126 w
(trivial:) 720 5246 w
(a) 1105 5246 w
(list) 1241 5246 w
(of) 1468 5246 w
(some) 1647 5246 w
(files) 1989 5246 w
(followed) 2272 5246 w
(by) 2766 5246 w
(the) 2962 5246 w
(inclusion) 3198 5246 w
(of) 3714 5246 w
10 /LucidaSans-Italic f
(mkone.) 3892 5246 w
10 /LucidaSansUnicode00 f
(For) 4359 5246 w
(example,) 4595 5246 w
10 /LucidaTypewriter f
(/sys/src/cmd/diff/mkfile) 720 5366 w
10 /LucidaSansUnicode00 f
(contains:) 2480 5366 w
9 /LucidaTypewriter f
(<) 1008 5536 w
(/$objtype/mkfile) 1138 5536 w
(TARG=diff) 1008 5756 w
(OFILES=\\) 1008 5866 w
(diffdir.$O\\) 1528 5976 w
(diffio.$O\\) 1528 6086 w
(diffreg.$O\\) 1528 6196 w
(main.$O\\) 1528 6306 w
(HFILES=diff.h) 1008 6526 w
(BIN=/$objtype/bin) 1008 6746 w
(</sys/src/cmd/mkone) 1008 6856 w
10 /LucidaSansUnicode00 f
(The) 720 7036 w
(more) 937 7036 w
(complex) 1224 7036 w
(mkfile) 1674 7036 w
(in) 2012 7036 w
10 /LucidaTypewriter f
(/sys/src/cmd/awk) 2139 7036 w
10 /LucidaSansUnicode00 f
(overrides) 3327 7036 w
(compiler) 3813 7036 w
(and) 4272 7036 w
(loader) 4488 7036 w
(vari\255) 4830 7036 w
(ables) 720 7156 w
(to) 1012 7156 w
(select) 1148 7156 w
(the) 1466 7156 w
(ANSI/POSIX) 1659 7156 w
(Computing) 2254 7156 w
(Environment) 2829 7156 w
(with) 3475 7156 w
(appropriately) 3717 7156 w
(defined) 4399 7156 w
(com\255) 4802 7156 w
(mand) 720 7276 w
(line) 1026 7276 w
(variables.) 1235 7276 w
(It) 1763 7276 w
(also) 1862 7276 w
(overrides) 2091 7276 w
(the) 2574 7276 w
(default) 2762 7276 w
10 /LucidaTypewriter f
(yacc) 3135 7276 w
10 /LucidaSansUnicode00 f
(rule) 3457 7276 w
(to) 3679 7276 w
(place) 3811 7276 w
(the) 4099 7276 w
(output) 4288 7276 w
(soure) 4644 7276 w
(in) 4949 7276 w
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
10 /LucidaSansUnicode00 f
(\255 4 \255) 2783 480 w
(file) 720 840 w
10 /LucidaTypewriter f
(awkgram.c) 914 840 w
10 /LucidaSansUnicode00 f
(and) 1605 840 w
(the) 1828 840 w
10 /LucidaTypewriter f
(clean) 2026 840 w
10 /LucidaSansUnicode00 f
(and) 2429 840 w
10 /LucidaTypewriter f
(nuke) 2652 840 w
10 /LucidaSansUnicode00 f
(rules,) 2983 840 w
(so) 3297 840 w
(it) 3452 840 w
(can) 3561 840 w
(remove) 3772 840 w
(the) 4173 840 w
(non-standard) 4370 840 w
(intermediate) 720 960 w
(files.) 1372 960 w
(Finally,) 1676 960 w
(the) 2056 960 w
(last) 2249 960 w
(three) 2459 960 w
(rules) 2749 960 w
(build) 3026 960 w
(a) 3311 960 w
(version) 3405 960 w
(of) 3796 960 w
10 /LucidaTypewriter f
(maketab) 3933 960 w
10 /LucidaSansUnicode00 f
(appropriate) 4476 960 w
(for) 720 1080 w
(the) 896 1080 w
(architecture) 1088 1080 w
(where) 1703 1080 w
(the) 2032 1080 w
10 /LucidaTypewriter f
(mk) 2223 1080 w
10 /LucidaSansUnicode00 f
(is) 2403 1080 w
(being) 2519 1080 w
(run) 2827 1080 w
(and) 3028 1080 w
(then) 3244 1080 w
(executes) 3497 1080 w
(it) 3963 1080 w
(to) 4065 1080 w
(create) 4199 1080 w
(source) 4531 1080 w
(file) 4889 1080 w
10 /LucidaTypewriter f
(proctab.c) 720 1200 w
10 /LucidaSansUnicode00 f
(:) 1368 1200 w
9 /LucidaTypewriter f
(</$objtype/mkfile) 1008 1370 w
(TARG=awk) 1008 1590 w
(OFILES=re.$O\\) 1008 1700 w
(lex.$O\\) 1528 1810 w
(main.$O\\) 1528 1920 w
(parse.$O\\) 1528 2030 w
(proctab.$O\\) 1528 2140 w
(tran.$O\\) 1528 2250 w
(lib.$O\\) 1528 2360 w
(run.$O\\) 1528 2470 w
(awkgram.$O\\) 1528 2580 w
(HFILES=awk.h\\) 1008 2800 w
(y.tab.h\\) 1528 2910 w
(proto.h\\) 1528 3020 w
(YFILES=awkgram.y) 1008 3240 w
(BIN=/$objtype/bin) 1008 3460 w
(</sys/src/cmd/mkone) 1008 3570 w
(CFLAGS=-c) 1008 3680 w
(-D_REGEXP_EXTENSION) 1658 3680 w
(-D_RESEARCH_SOURCE) 2958 3680 w
(\\) 4193 3680 w
(-D_BSD_EXTENSION) 1528 3790 w
(-DUTF) 2633 3790 w
(YFLAGS=-S) 1008 3900 w
(-d) 1658 3900 w
(-v) 1853 3900 w
(CC=pcc) 1008 4010 w
(LD=pcc) 1008 4120 w
(cpuobjtype=`{sed) 1008 4230 w
(-n) 2113 4230 w
('s/^O=//p') 2308 4230 w
(/$cputype/mkfile}) 3023 4230 w
(y.tab.h) 1008 4450 w
(awkgram.c:) 1528 4450 w
($YFILES) 2568 4450 w
($YACC) 1528 4560 w
(-o) 1918 4560 w
(awkgram.c) 2113 4560 w
($YFLAGS) 2763 4560 w
($prereq) 3283 4560 w
(clean:V:) 1008 4780 w
(rm) 1528 4890 w
(-f) 1723 4890 w
(*.[$OS]) 1918 4890 w
([$OS].out) 2438 4890 w
([$OS].maketab) 3088 4890 w
(y.tab.?) 3998 4890 w
(y.debug\\) 4518 4890 w
(y.output) 2113 5000 w
($TARG) 2698 5000 w
(nuke:V:) 1008 5220 w
(rm) 1528 5330 w
(-f) 1723 5330 w
(*.[$OS]) 1918 5330 w
([$OS].out) 2438 5330 w
([$OS].maketab) 3088 5330 w
(y.tab.?) 3998 5330 w
(y.debug\\) 4518 5330 w
(y.output) 2113 5440 w
(awkgram.c) 2698 5440 w
($TARG) 3348 5440 w
(proctab.c:) 1008 5660 w
($cpuobjtype.maketab) 2048 5660 w
(./$cpuobjtype.maketab) 1528 5770 w
(>proctab.c) 2958 5770 w
($cpuobjtype.maketab:) 1008 5990 w
(y.tab.h) 2568 5990 w
(maketab.c) 3088 5990 w
(objtype=$cputype) 1528 6100 w
(mk) 1528 6210 w
(maketab.$cputype) 1723 6210 w
(maketab.$cputype:V:) 1008 6430 w
(y.tab.h) 2568 6430 w
(maketab.$O) 3088 6430 w
($LD) 1528 6540 w
(-o) 1788 6540 w
($O.maketab) 1983 6540 w
(maketab.$O) 2698 6540 w
10 /LucidaSans-Demi f
(Mkmany) 720 6840 w
10 /LucidaSansUnicode00 f
(The) 720 6996 w
10 /LucidaTypewriter f
(mkmany) 942 6996 w
10 /LucidaSansUnicode00 f
(generic) 1415 6996 w
(mkfile) 1813 6996 w
(builds) 2156 6996 w
(several) 2494 6996 w
(executables) 2875 6996 w
(from) 3493 6996 w
(the) 3766 6996 w
(files) 3963 6996 w
(in) 4207 6996 w
(a) 4340 6996 w
(directory.) 4437 6996 w
(It) 4974 6996 w
(differs) 720 7116 w
(from) 1072 7116 w
(the) 1342 7116 w
(operation) 1535 7116 w
(of) 2037 7116 w
10 /LucidaTypewriter f
(mkone) 2172 7116 w
10 /LucidaSansUnicode00 f
(in) 2569 7116 w
(three) 2697 7116 w
(respects:) 2986 7116 w
10 /LucidaTypewriter f
(TARG) 3461 7116 w
10 /LucidaSansUnicode00 f
(specifies) 3786 7116 w
(the) 4246 7116 w
(names) 4438 7116 w
(of) 4792 7116 w
(all) 4927 7116 w
(executables, there is no default command-line target, and additional) 720 7236 w
(rules) 4107 7236 w
(allow) 4379 7236 w
(a) 4663 7236 w
(single) 4751 7236 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
10 /LucidaSansUnicode00 f
(\255 5 \255) 2783 480 w
(executable to be built or installed.) 720 840 w
(The) 720 996 w
10 /LucidaTypewriter f
(TARG) 940 996 w
10 /LucidaSansUnicode00 f
(variable) 1267 996 w
(specifies) 1686 996 w
(the) 2148 996 w
(names) 2342 996 w
(of) 2698 996 w
(all) 2835 996 w
(executables) 2987 996 w
(produced) 3603 996 w
(by) 4103 996 w
(the) 4258 996 w
(mkfile.) 4453 996 w
(The) 4859 996 w
(rules) 720 1116 w
(assume) 1007 1116 w
(the) 1423 1116 w
(name) 1626 1116 w
(of) 1940 1116 w
(each) 2086 1116 w
(executable) 2358 1116 w
(is) 2932 1116 w
(also) 3060 1116 w
(the) 3304 1116 w
(name) 3507 1116 w
(of) 3821 1116 w
(the) 3966 1116 w
(file) 4168 1116 w
(containing) 4366 1116 w
(its) 4923 1116 w
10 /LucidaTypewriter f
(main) 720 1236 w
10 /LucidaSansUnicode00 f
(function.) 1043 1236 w
10 /LucidaTypewriter f
(OFILES) 1544 1236 w
10 /LucidaSansUnicode00 f
(specifies) 2012 1236 w
(files) 2471 1236 w
(containing) 2709 1236 w
(common) 3255 1236 w
(subroutines) 3712 1236 w
(loaded) 4323 1236 w
(with) 4686 1236 w
(all) 4927 1236 w
(executables.) 720 1356 w
(Consider the mkfile:) 1393 1356 w
9 /LucidaTypewriter f
(</$objtype/mkfile) 1008 1526 w
(TARG=alpha) 1008 1746 w
(beta) 1723 1746 w
(OFILES=common.$O) 1008 1856 w
(BIN=/$objtype/bin) 1008 1966 w
(</sys/src/cmd/mkmany) 1008 2076 w
10 /LucidaSansUnicode00 f
(It assumes the main functions for) 720 2256 w
(executables) 2383 2256 w
10 /LucidaTypewriter f
(alpha) 2993 2256 w
10 /LucidaSansUnicode00 f
(and) 3386 2256 w
10 /LucidaTypewriter f
(beta) 3599 2256 w
10 /LucidaSansUnicode00 f
(are) 3920 2256 w
(in) 4105 2256 w
(files) 4229 2256 w
10 /LucidaTypewriter f
(alpha.$O) 4464 2256 w
10 /LucidaSansUnicode00 f
(and) 720 2376 w
10 /LucidaTypewriter f
(beta.$O) 946 2376 w
10 /LucidaSansUnicode00 f
(and) 1495 2376 w
(that) 1720 2376 w
(both) 1956 2376 w
(programs) 2224 2376 w
(use) 2736 2376 w
(the) 2950 2376 w
(subroutines) 3150 2376 w
(in) 3770 2376 w
(file) 3906 2376 w
10 /LucidaTypewriter f
(common.$O) 4102 2376 w
10 /LucidaSansUnicode00 f
(.) 4750 2376 w
(The) 4859 2376 w
10 /LucidaTypewriter f
(all) 720 2496 w
10 /LucidaSansUnicode00 f
(target) 997 2496 w
(builds) 1346 2496 w
(all) 1704 2496 w
(executables,) 1878 2496 w
(leaving) 2548 2496 w
(each) 2954 2496 w
(in) 3239 2496 w
(a) 3391 2496 w
(file) 3507 2496 w
(with) 3719 2496 w
(a) 3986 2496 w
(name) 4103 2496 w
(of) 4431 2496 w
(the) 4591 2496 w
(form) 4808 2496 w
10 /LucidaTypewriter f
($O.) 720 2616 w
10 /LucidaSans-Italic f
(progname) 936 2616 w
10 /LucidaSansUnicode00 f
(where) 1465 2616 w
10 /LucidaSans-Italic f
(progname) 1790 2616 w
10 /LucidaSansUnicode00 f
(is) 2319 2616 w
(the) 2432 2616 w
(name) 2620 2616 w
(of the executable.) 2919 2616 w
(In this example the) 3858 2616 w
10 /LucidaTypewriter f
(all) 4824 2616 w
10 /LucidaSansUnicode00 f
(target produces executables) 720 2736 w
10 /LucidaTypewriter f
($O.alpha) 2129 2736 w
10 /LucidaSansUnicode00 f
(and) 2737 2736 w
10 /LucidaTypewriter f
($O.beta) 2949 2736 w
10 /LucidaSansUnicode00 f
(.) 3453 2736 w
(The) 720 2892 w
10 /LucidaTypewriter f
(mkmany) 933 2892 w
10 /LucidaSansUnicode00 f
(rules provide additional targets for building a single executable:) 1397 2892 w
10 /LucidaTypewriter f
($O.progname) 720 3072 w
10 /LucidaSansUnicode00 f
(Builds) 2238 3072 w
(executable) 2579 3072 w
10 /LucidaTypewriter f
($O.) 3194 3072 w
10 /LucidaSans-Italic f
(progname) 3410 3072 w
10 /LucidaSansUnicode00 f
(in) 3955 3072 w
(the) 4096 3072 w
(current) 4301 3072 w
(direc\255) 4701 3072 w
(tory.) 2238 3192 w
(When) 2550 3192 w
(the) 2872 3192 w
(target) 3083 3192 w
(architecture) 3427 3192 w
(is) 4061 3192 w
(not) 4197 3192 w
(the) 4413 3192 w
(current) 4624 3192 w
(architecture) 2238 3312 w
(the) 2874 3312 w
10 /LucidaTypewriter f
(mk) 3087 3312 w
10 /LucidaSansUnicode00 f
(command) 3289 3312 w
(must) 3825 3312 w
(be) 4126 3312 w
(prefixed) 4304 3312 w
(with) 4769 3312 w
(the) 2238 3432 w
(customary) 2457 3432 w
10 /LucidaTypewriter f
(objtype=) 3024 3432 w
10 /LucidaSans-Italic f
(architecture) 3600 3432 w
10 /LucidaSansUnicode00 f
(assignment) 4255 3432 w
(to) 4876 3432 w
(select the proper compilers and loaders.) 2238 3552 w
10 /LucidaTypewriter f
(progname.install) 720 3672 w
10 /LucidaSansUnicode00 f
(Installs) 2238 3672 w
(executable) 2643 3672 w
10 /LucidaSans-Italic f
(progname) 3231 3672 w
10 /LucidaSansUnicode00 f
(for) 3789 3672 w
(the) 3990 3672 w
(target) 4208 3672 w
(architec\255) 4559 3672 w
(ture.) 2238 3792 w
10 /LucidaTypewriter f
(progname.installall) 720 3912 w
10 /LucidaSansUnicode00 f
(Installs executable) 2238 3912 w
10 /LucidaSans-Italic f
(progname) 3171 3912 w
10 /LucidaSansUnicode00 f
(for all architectures.) 3699 3912 w
10 /LucidaSans-Demi f
(Mklib) 720 4212 w
10 /LucidaSansUnicode00 f
(The) 720 4368 w
10 /LucidaTypewriter f
(mklib) 935 4368 w
10 /LucidaSansUnicode00 f
(generic) 1329 4368 w
(mkfile) 1720 4368 w
(builds) 2056 4368 w
(a) 2387 4368 w
(local) 2476 4368 w
(library.) 2735 4368 w
(Since) 3143 4368 w
(this) 3429 4368 w
(form) 3642 4368 w
(of) 3908 4368 w
(mkfile) 4041 4368 w
(constructs) 4378 4368 w
(no) 4917 4368 w
(executable,) 720 4488 w
(the) 1330 4488 w
10 /LucidaTypewriter f
(TARG) 1537 4488 w
10 /LucidaSansUnicode00 f
(and) 1877 4488 w
10 /LucidaTypewriter f
(BIN) 2109 4488 w
10 /LucidaSansUnicode00 f
(variables) 2377 4488 w
(are) 2860 4488 w
(not) 3064 4488 w
(needed.) 3276 4488 w
(Instead,) 3748 4488 w
(the) 4185 4488 w
10 /LucidaTypewriter f
(LIB) 4392 4488 w
10 /LucidaSansUnicode00 f
(variable) 4660 4488 w
(specifies) 720 4608 w
(the) 1176 4608 w
(library) 1364 4608 w
(to) 1707 4608 w
(be) 1838 4608 w
(built) 1991 4608 w
(or) 2245 4608 w
(updated.) 2381 4608 w
(Variable) 2878 4608 w
10 /LucidaTypewriter f
(OFILES) 3305 4608 w
10 /LucidaSansUnicode00 f
(contains) 3771 4608 w
(the) 4213 4608 w
(names) 4402 4608 w
(of) 4753 4608 w
(the) 4885 4608 w
(object) 720 4728 w
(files) 1065 4728 w
(to) 1314 4728 w
(be) 1459 4728 w
(archived) 1625 4728 w
(in) 2081 4728 w
(the) 2219 4728 w
(library.) 2421 4728 w
(The) 2841 4728 w
(use) 3068 4728 w
(of) 3283 4728 w
(variables) 3427 4728 w
10 /LucidaTypewriter f
(YFILES) 3904 4728 w
10 /LucidaSansUnicode00 f
(and) 4382 4728 w
10 /LucidaTypewriter f
(HFILES) 4608 4728 w
10 /LucidaSansUnicode00 f
(does) 720 4848 w
(not) 1009 4848 w
(change.) 1227 4848 w
(When) 1697 4848 w
(possible,) 2021 4848 w
(only) 2515 4848 w
(the) 2778 4848 w
(out-of-date) 2992 4848 w
(members) 3636 4848 w
(of) 4148 4848 w
(the) 4305 4848 w
(library) 4519 4848 w
(are) 4888 4848 w
(updated.) 720 4968 w
(The) 720 5124 w
(variable) 942 5124 w
10 /LucidaTypewriter f
(LIBDIR) 1363 5124 w
10 /LucidaSansUnicode00 f
(contains) 1836 5124 w
(the) 2285 5124 w
(name) 2481 5124 w
(of) 2788 5124 w
(the) 2927 5124 w
(directory) 3123 5124 w
(where) 3595 5124 w
(the) 3928 5124 w
(library) 4124 5124 w
(is) 4475 5124 w
(installed;) 4597 5124 w
(by) 720 5244 w
(default) 883 5244 w
(it) 1270 5244 w
(selects) 1384 5244 w
(the) 1763 5244 w
(current) 1966 5244 w
(directory.) 2364 5244 w
(It) 2906 5244 w
(can) 3019 5244 w
(be) 3234 5244 w
(overridden) 3400 5244 w
(by) 3971 5244 w
(assigning) 4133 5244 w
(the) 4643 5244 w
(new) 4845 5244 w
(directory name after the point where) 720 5364 w
10 /LucidaTypewriter f
(mklib) 2534 5364 w
10 /LucidaSansUnicode00 f
(is included.) 2926 5364 w
(The) 720 5520 w
10 /LucidaTypewriter f
(clean) 937 5520 w
10 /LucidaSansUnicode00 f
(target) 1333 5520 w
(removes) 1657 5520 w
(object) 2103 5520 w
(files) 2437 5520 w
(and) 2675 5520 w
10 /LucidaTypewriter f
(yacc) 2891 5520 w
10 /LucidaSansUnicode00 f
(intermediate) 3215 5520 w
(files) 3865 5520 w
(but) 4103 5520 w
(does) 4302 5520 w
(not) 4570 5520 w
(touch) 4767 5520 w
(the) 720 5640 w
(library.) 923 5640 w
(The) 1345 5640 w
10 /LucidaTypewriter f
(nuke) 1573 5640 w
10 /LucidaSansUnicode00 f
(target) 1908 5640 w
(removes) 2243 5640 w
(the) 2700 5640 w
(library) 2902 5640 w
(as) 3259 5640 w
(well) 3412 5640 w
(as) 3650 5640 w
(the) 3803 5640 w
(files) 4005 5640 w
(removed) 4254 5640 w
(by) 4723 5640 w
(the) 4885 5640 w
10 /LucidaTypewriter f
(clean) 720 5760 w
10 /LucidaSansUnicode00 f
(target.) 1112 5760 w
(The command) 1496 5760 w
10 /LucidaTypewriter f
(mk -s clean all) 970 5880 w
10 /LucidaSansUnicode00 f
(causes) 720 6000 w
(the) 1096 6000 w
(existing) 1301 6000 w
(library) 1738 6000 w
(to) 2098 6000 w
(be) 2246 6000 w
(updated,) 2416 6000 w
(or) 2898 6000 w
(created) 3051 6000 w
(if) 3461 6000 w
(it) 3578 6000 w
(doesn) 3695 6000 w
10 /LucidaSansUnicode20 f
(\031) 3988 6000 w
10 /LucidaSansUnicode00 f
(t) 4020 6000 w
(already) 4108 6000 w
(exist.) 4510 6000 w
(The) 4859 6000 w
(command) 720 6120 w
10 /LucidaTypewriter f
(mk -s nuke all) 970 6240 w
10 /LucidaSansUnicode00 f
(forces the library to be rebuilt from scratch.) 720 6360 w
(The) 720 6516 w
(mkfile) 944 6516 w
(from) 1289 6516 w
10 /LucidaTypewriter f
(/sys/src/cmd/upas/libString) 1564 6516 w
10 /LucidaSansUnicode00 f
(contains) 3551 6516 w
(the) 4002 6516 w
(following) 4200 6516 w
(specifi\255) 4691 6516 w
(cations) 720 6636 w
(to) 1118 6636 w
(build) 1268 6636 w
(the) 1566 6636 w
(local) 1773 6636 w
(library) 2050 6636 w
10 /LucidaTypewriter f
(libString.a$O) 2412 6636 w
10 /LucidaSansUnicode00 f
(for) 3400 6636 w
(the) 3591 6636 w
(object) 3798 6636 w
(architecture) 4147 6636 w
(refer\255) 4776 6636 w
(enced by) 720 6756 w
10 /LucidaTypewriter f
($O) 1187 6756 w
10 /LucidaSansUnicode00 f
(:) 1331 6756 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
10 /LucidaSansUnicode00 f
(\255 6 \255) 2783 480 w
9 /LucidaTypewriter f
(</$objtype/mkfile) 1008 830 w
(LIB=libString.a$O) 1008 1050 w
(OFILES=) 1008 1160 w
(s_alloc.$O\\) 1528 1160 w
(s_append.$O\\) 1528 1270 w
(s_array.$O\\) 1528 1380 w
(s_copy.$O\\) 1528 1490 w
(s_getline.$O\\) 1528 1600 w
(s_grow.$O\\) 1528 1710 w
(s_nappend.$O\\) 1528 1820 w
(s_parse.$O\\) 1528 1930 w
(s_read.$O\\) 1528 2040 w
(s_read_line.$O\\) 1528 2150 w
(s_tolower.$O\\) 1528 2260 w
(</sys/src/cmd/mklib) 1008 2480 w
(nuke:V:) 1008 2700 w
(mk) 1528 2810 w
(clean) 1723 2810 w
(rm) 1528 2920 w
(-f) 1723 2920 w
(libString.a[$OS]) 1918 2920 w
10 /LucidaSansUnicode00 f
(The) 720 3100 w
(override) 946 3100 w
(of) 1390 3100 w
(the) 1533 3100 w
(rule) 1733 3100 w
(for) 1966 3100 w
(target) 2150 3100 w
10 /LucidaTypewriter f
(nuke) 2484 3100 w
10 /LucidaSansUnicode00 f
(removes) 2818 3100 w
(the) 3274 3100 w
(libraries) 3475 3100 w
(for) 3915 3100 w
(all) 4100 3100 w
(architectures) 4259 3100 w
(as) 4934 3100 w
(opposed) 720 3220 w
(to) 1182 3220 w
(the) 1324 3220 w
(default) 1523 3220 w
(recipe) 1906 3220 w
(for) 2246 3220 w
(this) 2429 3220 w
(target) 2651 3220 w
(which) 2982 3220 w
(removes) 3306 3220 w
(the) 3759 3220 w
(library) 3957 3220 w
(for) 4310 3220 w
(the) 4492 3220 w
(current) 4690 3220 w
(architecture.) 720 3340 w
10 /LucidaSans-Demi f
(Mksyslib) 720 3580 w
10 /LucidaSansUnicode00 f
(The) 720 3736 w
10 /LucidaTypewriter f
(mksyslib) 933 3736 w
10 /LucidaSansUnicode00 f
(generic mkfile is) 1541 3736 w
(similar) 2377 3736 w
(to) 2737 3736 w
(the) 2868 3736 w
10 /LucidaTypewriter f
(mklib) 3056 3736 w
10 /LucidaSansUnicode00 f
(mkfile) 3449 3736 w
(except) 3784 3736 w
(that) 4141 3736 w
(it) 4365 3736 w
(operates) 4464 3736 w
(on) 4917 3736 w
(a) 720 3856 w
(system) 809 3856 w
(library) 1182 3856 w
(instead) 1525 3856 w
(of) 1911 3856 w
(a) 2042 3856 w
(local) 2130 3856 w
(library.) 2388 3856 w
(The) 2795 3856 w
10 /LucidaTypewriter f
(install) 3009 3856 w
10 /LucidaSansUnicode00 f
(and) 3546 3856 w
10 /LucidaTypewriter f
(all) 3759 3856 w
10 /LucidaSansUnicode00 f
(targets) 4008 3856 w
(are) 4380 3856 w
(the) 4565 3856 w
(same;) 4753 3856 w
(since) 720 3976 w
(there) 1016 3976 w
(is) 1315 3976 w
(no) 1442 3976 w
(local) 1613 3976 w
(copy) 1886 3976 w
(of) 2161 3976 w
(the) 2307 3976 w
(library,) 2510 3976 w
(all) 2900 3976 w
(updates) 3061 3976 w
(are) 3496 3976 w
(performed) 3696 3976 w
(on) 4255 3976 w
(the) 4426 3976 w
(installed) 4629 3976 w
(library.) 720 4096 w
(The) 1128 4096 w
(rule) 1343 4096 w
(for) 1565 4096 w
(the) 1738 4096 w
10 /LucidaTypewriter f
(nuke) 1927 4096 w
10 /LucidaSansUnicode00 f
(target) 2249 4096 w
(is) 2571 4096 w
(identical) 2685 4096 w
(to) 3130 4096 w
(that) 3262 4096 w
(of) 3487 4096 w
(the) 3619 4096 w
10 /LucidaTypewriter f
(clean) 3808 4096 w
10 /LucidaSansUnicode00 f
(target;) 4202 4096 w
(unlike) 4556 4096 w
(the) 4885 4096 w
10 /LucidaTypewriter f
(nuke) 720 4216 w
10 /LucidaSansUnicode00 f
(target for local libraries, the library is never removed.) 1040 4216 w
(No) 720 4372 w
(attempt) 889 4372 w
(is) 1301 4372 w
(made) 1415 4372 w
(to) 1716 4372 w
(determine) 1848 4372 w
(if) 2375 4372 w
(individual) 2475 4372 w
(library) 2982 4372 w
(members) 3326 4372 w
(are) 3813 4372 w
(up-to-date;) 4000 4372 w
(all) 4617 4372 w
(mem\255) 4765 4372 w
(bers) 720 4492 w
(of) 976 4492 w
(a) 1119 4492 w
(library) 1219 4492 w
(are) 1574 4492 w
(always) 1771 4492 w
(updated.) 2135 4492 w
(Special) 2643 4492 w
(targets) 3024 4492 w
(support) 3407 4492 w
(manipulation) 3829 4492 w
(of) 4510 4492 w
(a) 4652 4492 w
(single) 4751 4492 w
(object) 720 4612 w
(file;) 1054 4612 w
(the) 1273 4612 w
(target) 1464 4612 w
10 /LucidaTypewriter f
(objfile) 1788 4612 w
10 /LucidaSansUnicode00 f
(updates) 2328 4612 w
(file) 2751 4612 w
10 /LucidaTypewriter f
(objfile.$O) 2939 4612 w
10 /LucidaSansUnicode00 f
(in) 3696 4612 w
(the) 3824 4612 w
(library) 4016 4612 w
(of) 4363 4612 w
(the) 4498 4612 w
(current) 4690 4612 w
(architecture) 720 4732 w
(and) 1332 4732 w
(the) 1546 4732 w
(target) 1735 4732 w
10 /LucidaTypewriter f
(objfile.all) 2057 4732 w
10 /LucidaSansUnicode00 f
(updates) 2883 4732 w
10 /LucidaTypewriter f
(objfile.$O) 3304 4732 w
10 /LucidaSansUnicode00 f
(in) 4057 4732 w
(the) 4181 4732 w
(libraries) 4369 4732 w
(of) 4796 4732 w
(all) 4927 4732 w
(architectures.) 720 4852 w
10 /LucidaSans-Demi f
(Overrides) 720 5092 w
10 /LucidaSansUnicode00 f
(The) 720 5248 w
(rules) 936 5248 w
(provided) 1210 5248 w
(by) 1673 5248 w
(a) 1823 5248 w
(generic) 1913 5248 w
(mkfile) 2305 5248 w
(or) 2642 5248 w
(the) 2779 5248 w
(variables) 2970 5248 w
(used) 3437 5248 w
(to) 3705 5248 w
(control) 3839 5248 w
(the) 4217 5248 w
(evaluation) 4408 5248 w
(of) 4942 5248 w
(those) 720 5368 w
(rules) 1032 5368 w
(may) 1315 5368 w
(be) 1559 5368 w
(overridden) 1722 5368 w
(in) 2290 5368 w
(most) 2425 5368 w
(circumstances.) 2711 5368 w
(Overrides) 3509 5368 w
(must) 4020 5368 w
(be) 4307 5368 w
(specified) 4470 5368 w
(in) 4949 5368 w
(the) 720 5488 w
(product) 912 5488 w
(mkfile) 1327 5488 w
(after) 1666 5488 w
(the) 1929 5488 w
(point) 2121 5488 w
(where) 2410 5488 w
(the) 2739 5488 w
(generic) 2932 5488 w
(mkfile) 3327 5488 w
(is) 3667 5488 w
(included;) 3785 5488 w
(in) 4270 5488 w
(general,) 4399 5488 w
(vari\255) 4830 5488 w
(able and rule overrides occupy the end of a product mkfile.) 720 5608 w
(The value of a variable) 720 5764 w
(is) 1849 5764 w
(overridden) 1962 5764 w
(by) 2519 5764 w
(assigning) 2667 5764 w
(a) 3163 5764 w
(new) 3251 5764 w
(value) 3479 5764 w
(to) 3766 5764 w
(the) 3897 5764 w
(variable.) 4085 5764 w
(Most) 4562 5764 w
(vari\255) 4830 5764 w
(able) 720 5884 w
(overrides) 985 5884 w
(modify) 1497 5884 w
(the) 1894 5884 w
(values) 2111 5884 w
(of) 2478 5884 w
(flags) 2638 5884 w
(or) 2934 5884 w
(the) 3098 5884 w
(names) 3315 5884 w
(of) 3694 5884 w
(commands) 3854 5884 w
(executed) 4445 5884 w
(in) 4949 5884 w
(recipes.) 720 6004 w
(For) 1174 6004 w
(example,) 1373 6004 w
(the) 1861 6004 w
(default) 2060 6004 w
(value) 2443 6004 w
(of) 2741 6004 w
10 /LucidaTypewriter f
(CFLAGS) 2883 6004 w
10 /LucidaSansUnicode00 f
(is) 3359 6004 w
(often) 3483 6004 w
(overridden) 3780 6004 w
(or) 4348 6004 w
(augmented) 4494 6004 w
(and) 720 6124 w
(the) 940 6124 w
(ANSI/POSIX) 1135 6124 w
(Computing) 1733 6124 w
(Environment) 2311 6124 w
(is) 2960 6124 w
(selected) 3080 6124 w
(by) 3519 6124 w
(setting) 3674 6124 w
(the) 4048 6124 w
10 /LucidaTypewriter f
(CC) 4243 6124 w
10 /LucidaSansUnicode00 f
(and) 4427 6124 w
10 /LucidaTypewriter f
(LD) 4647 6124 w
10 /LucidaSansUnicode00 f
(vari\255) 4830 6124 w
(ables to) 720 6244 w
10 /LucidaTypewriter f
(pcc.) 1136 6244 w
10 /LucidaSansUnicode00 f
(Modifying rules is trickier than modifying) 720 6400 w
(variables.) 2759 6400 w
(Additional) 3287 6400 w
(constraints) 3817 6400 w
(can) 4387 6400 w
(be) 4588 6400 w
(added) 4740 6400 w
(to a rule by specifying the target and the new prerequisite.) 720 6520 w
(For example,) 3641 6520 w
9 /LucidaTypewriter f
(%.$O:) 1008 6690 w
(header.h) 1528 6690 w
10 /LucidaSansUnicode00 f
(adds) 720 6870 w
(file) 986 6870 w
10 /LucidaTypewriter f
(header.h) 1171 6870 w
10 /LucidaSansUnicode00 f
(the) 1781 6870 w
(set) 1970 6870 w
(of) 2148 6870 w
(prerequisites) 2280 6870 w
(for) 2949 6870 w
(all) 3122 6870 w
(object) 3269 6870 w
(files.) 3601 6870 w
(There) 3902 6870 w
(is) 4215 6870 w
(no) 4330 6870 w
(mechanism) 4488 6870 w
(for) 720 6990 w
(adding) 901 6990 w
(additional) 1277 6990 w
(commands) 1802 6990 w
(to) 2373 6990 w
(an) 2513 6990 w
(existing) 2672 6990 w
(recipe;) 3101 6990 w
(if) 3470 6990 w
(a) 3577 6990 w
(recipe) 3673 6990 w
(is) 4010 6990 w
(unsatisfactory,) 4131 6990 w
(the) 4885 6990 w
(rule) 720 7110 w
(and) 949 7110 w
(its) 1170 7110 w
(recipe) 1328 7110 w
(must) 1666 7110 w
(be) 1951 7110 w
(completely) 2112 7110 w
(overridden.) 2681 7110 w
(A) 3311 7110 w
(rule) 3422 7110 w
(is) 3652 7110 w
(overridden) 3774 7110 w
(only) 4340 7110 w
(when) 4586 7110 w
(the) 4885 7110 w
(replacement) 720 7230 w
(rule) 1384 7230 w
(matches) 1637 7230 w
(the) 2107 7230 w
(target) 2326 7230 w
(and) 2678 7230 w
(prerequisite) 2922 7230 w
(portions) 3570 7230 w
(of) 4039 7230 w
(the) 4201 7230 w
(original) 4420 7230 w
(rule) 4852 7230 w
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
10 /LucidaSansUnicode00 f
(\255 7 \255) 2783 480 w
(exactly.) 720 840 w
(The) 1160 840 w
(recipe) 1376 840 w
(associated) 1707 840 w
(with) 2251 840 w
(the) 2491 840 w
(new) 2681 840 w
(rule) 2911 840 w
(then) 3134 840 w
(replaces) 3386 840 w
(the) 3824 840 w
(recipe) 4015 840 w
(of) 4347 840 w
(the) 4481 840 w
(original) 4672 840 w
(rule.) 720 960 w
(For) 1117 960 w
(example,) 1418 960 w
10 /LucidaTypewriter f
(/sys/src/cmd/lex/mkfile) 2008 960 w
10 /LucidaSansUnicode00 f
(overrides) 3808 960 w
(the) 4402 960 w
(default) 4701 960 w
10 /LucidaTypewriter f
(installall) 720 1080 w
10 /LucidaSansUnicode00 f
(rule) 1473 1080 w
(to) 1694 1080 w
(perform) 1825 1080 w
(the) 2250 1080 w
(normal) 2438 1080 w
(loop) 2812 1080 w
(on) 3060 1080 w
(all) 3217 1080 w
(architectures) 3364 1080 w
(and) 4027 1080 w
(then) 4241 1080 w
(copy) 4492 1080 w
(a) 4753 1080 w
(pro\255) 4842 1080 w
(totype file to the system library directory.) 720 1200 w
9 /LucidaTypewriter f
(</$objtype/mkfile) 1008 1370 w
(TARG=lex) 1008 1590 w
(OFILES=lmain.$O\\) 1008 1700 w
(y.tab.$O\\) 1528 1810 w
(sub1.$O\\) 1528 1920 w
(sub2.$O\\) 1528 2030 w
(header.$O\\) 1528 2140 w
(HFILES=ldefs.h\\) 1008 2360 w
(YFILES=parser.y\\) 1008 2580 w
(BIN=/$objtype/bin) 1008 2800 w
(</sys/src/cmd/mkone) 1008 2910 w
(installall:V:) 1008 3130 w
(for\(objtype) 1528 3240 w
(in) 2308 3240 w
($CPUS\)) 2503 3240 w
(mk) 2048 3350 w
(install) 2243 3350 w
(cp) 1528 3460 w
(ncform) 1723 3460 w
(/sys/lib/lex) 2178 3460 w
10 /LucidaSansUnicode00 f
(Another) 720 3640 w
(way) 1169 3640 w
(to) 1414 3640 w
(perform) 1573 3640 w
(the) 2026 3640 w
(same) 2242 3640 w
(override) 2558 3640 w
(is) 3018 3640 w
(to) 3159 3640 w
(add) 3318 3640 w
(a) 3561 3640 w
(dependency) 3678 3640 w
(to) 4324 3640 w
(the) 4484 3640 w
(default) 4701 3640 w
10 /LucidaTypewriter f
(installall) 720 3760 w
10 /LucidaSansUnicode00 f
(rule that executes an additional rule to install the prototype file:) 1472 3760 w
9 /LucidaTypewriter f
(installall:V:) 1008 3930 w
(ncform.install) 2048 3930 w
(ncform.install:V:) 1008 4150 w
(cp) 1528 4260 w
(ncform) 1723 4260 w
(/sys/lib/lex) 2178 4260 w
10 /LucidaSans-Demi f
(Special Tricks) 720 4560 w
10 /LucidaSansUnicode00 f
(Two special cases require extra deviousness.) 720 4716 w
(In) 720 4872 w
(the) 846 4872 w
(first,) 1036 4872 w
(a) 1298 4872 w
(file) 1388 4872 w
(needed) 1574 4872 w
(to) 1965 4872 w
(build) 2098 4872 w
(an) 2379 4872 w
(executable) 2531 4872 w
(is) 3092 4872 w
(generated) 3207 4872 w
(by) 3730 4872 w
(a) 3880 4872 w
(program) 3970 4872 w
(that,) 4421 4872 w
(in) 4679 4872 w
(turn,) 4806 4872 w
(is) 720 4992 w
(built) 844 4992 w
(from) 1108 4992 w
(a) 1384 4992 w
(source) 1483 4992 w
(file) 1849 4992 w
(that) 2044 4992 w
(is) 2279 4992 w
(not) 2403 4992 w
(part) 2607 4992 w
(of) 2847 4992 w
(the) 2989 4992 w
(product.) 3187 4992 w
(In) 3672 4992 w
(this) 3806 4992 w
(case,) 4028 4992 w
(the) 4316 4992 w
(executable) 4514 4992 w
(must) 720 5112 w
(be) 1002 5112 w
(built) 1160 5112 w
(for) 1419 5112 w
(the) 1597 5112 w
(target) 1791 5112 w
(architecture,) 2118 5112 w
(but) 2767 5112 w
(the) 2968 5112 w
(intermediate) 3162 5112 w
(executable) 3815 5112 w
(must) 4380 5112 w
(be) 4662 5112 w
(built) 4820 5112 w
(for) 720 5232 w
(the) 901 5232 w
(architecture) 1098 5232 w
10 /LucidaTypewriter f
(mk) 1718 5232 w
10 /LucidaSansUnicode00 f
(is) 1904 5232 w
(executing) 2026 5232 w
(on.) 2544 5232 w
(The) 2773 5232 w
(intermediate) 2996 5232 w
(executable) 3651 5232 w
(is) 4218 5232 w
(built) 4339 5232 w
(by) 4600 5232 w
(recur\255) 4756 5232 w
(sively) 720 5352 w
(invoking) 1024 5352 w
10 /LucidaTypewriter f
(mk) 1474 5352 w
10 /LucidaSansUnicode00 f
(with) 1653 5352 w
(the) 1893 5352 w
(appropriate) 2084 5352 w
(target) 2684 5352 w
(and) 3008 5352 w
(the) 3224 5352 w
(executing) 3415 5352 w
(architecture) 3927 5352 w
(as) 4541 5352 w
(the) 4683 5352 w
(tar\255) 4874 5352 w
(get) 720 5472 w
(architecture.) 911 5472 w
(When) 1589 5472 w
(that) 1891 5472 w
10 /LucidaTypewriter f
(mk) 2118 5472 w
10 /LucidaSansUnicode00 f
(completes,) 2297 5472 w
(the) 2861 5472 w
(intermediate) 3051 5472 w
(is) 3700 5472 w
(executed) 3815 5472 w
(to) 4292 5472 w
(generate) 4425 5472 w
(the) 4885 5472 w
(source) 720 5592 w
(file) 1094 5592 w
(to) 1297 5592 w
(complete) 1447 5592 w
(the) 1945 5592 w
(build) 2152 5592 w
(for) 2450 5592 w
(the) 2641 5592 w
(target) 2848 5592 w
(architecture.) 3188 5592 w
(The) 3882 5592 w
(earlier) 4116 5592 w
(example) 4476 5592 w
(of) 4942 5592 w
10 /LucidaTypewriter f
(/sys/src/cmd/awk/mkfile) 720 5712 w
10 /LucidaSansUnicode00 f
(illustrates this technique.) 2408 5712 w
(Another) 720 5868 w
(awkward) 1160 5868 w
(situation) 1638 5868 w
(occurs) 2113 5868 w
(when) 2482 5868 w
(a) 2791 5868 w
(directory) 2898 5868 w
(contains) 3381 5868 w
(source) 3841 5868 w
(to) 4215 5868 w
(build) 4365 5868 w
(an) 4664 5868 w
(exe\255) 4834 5868 w
(cutable) 720 5988 w
(as) 1117 5988 w
(well) 1267 5988 w
(as) 1502 5988 w
(source) 1651 5988 w
(for) 2016 5988 w
(auxiliary) 2198 5988 w
(executables) 2654 5988 w
(that) 3274 5988 w
(are) 3508 5988 w
(not) 3703 5988 w
(to) 3906 5988 w
(be) 4047 5988 w
(installed.) 4209 5988 w
(In) 4727 5988 w
(this) 4861 5988 w
(case) 720 6108 w
(the) 986 6108 w
10 /LucidaTypewriter f
(mkmany) 1194 6108 w
10 /LucidaSansUnicode00 f
(generic) 1679 6108 w
(rules) 2089 6108 w
(are) 2382 6108 w
(inappropriate,) 2588 6108 w
(because) 3329 6108 w
(all) 3777 6108 w
(executables) 3944 6108 w
(would) 4575 6108 w
(be) 4921 6108 w
(built) 720 6228 w
(and) 977 6228 w
(installed.) 1193 6228 w
(Instead,) 1704 6228 w
(use) 2125 6228 w
(the) 2330 6228 w
10 /LucidaTypewriter f
(mkone) 2521 6228 w
10 /LucidaSansUnicode00 f
(generic) 2917 6228 w
(file) 3310 6228 w
(to) 3497 6228 w
(build) 3631 6228 w
(the) 3913 6228 w
(primary) 4104 6228 w
(executable) 4514 6228 w
(and) 720 6348 w
(provide) 937 6348 w
(extra) 1339 6348 w
(targets) 1626 6348 w
(to) 2002 6348 w
(build) 2137 6348 w
(the) 2420 6348 w
(auxiliary) 2612 6348 w
(files.) 3062 6348 w
(This) 3365 6348 w
(approach) 3607 6348 w
(is) 4096 6348 w
(also) 4214 6348 w
(useful) 4448 6348 w
(when) 4783 6348 w
(the) 720 6468 w
(auxiliary) 926 6468 w
(files) 1389 6468 w
(are) 1641 6468 w
(not) 1843 6468 w
(executables;) 2053 6468 w
10 /LucidaTypewriter f
(/sys/src/cmd/spell/mkfile) 2712 6468 w
10 /LucidaSansUnicode00 f
(augments) 4562 6468 w
(the) 720 6588 w
(default) 912 6588 w
(rules) 1288 6588 w
(to) 1564 6588 w
(build) 1699 6588 w
(and) 1982 6588 w
(install) 2199 6588 w
(the) 2528 6588 w
10 /LucidaTypewriter f
(spell) 2720 6588 w
10 /LucidaSansUnicode00 f
(executable) 3117 6588 w
(with) 3680 6588 w
(elaborate) 3923 6588 w
(rules) 4414 6588 w
(to) 4691 6588 w
(gen\255) 4827 6588 w
(erate and maintain the auxiliary spelling lists.) 720 6708 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Trailer
done
%%DocumentFonts: LucidaSansUnicode20 LucidaSansUnicode00 LucidaSans-Demi LucidaSans-Italic LucidaTypewriter
%%Pages: 7
