%!PS-Adobe-2.0
%%Version: 0.1
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

%%Patch from lp
%%EndPatch from lp

setup
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
12 /LucidaSans-Demi f
(The) 2213 1230 w
(Plan 9) 2484 1230 w
(File) 2900 1230 w
(Server) 3157 1230 w
10 /LucidaSans-Italic f
(Ken Thompson) 2523 1470 w
(ken@plan9.bell-labs.com) 2263 1590 w
(ABSTRACT) 2626 2030 w
10 /LucidaSansUnicode00 f
(This) 1330 2290 w
(paper) 1580 2290 w
(describes) 1903 2290 w
(the) 2409 2290 w
(structure) 2609 2290 w
(and) 3092 2290 w
(the) 3317 2290 w
(operation) 3518 2290 w
(of) 4029 2290 w
(Plan) 4173 2290 w
(9) 4420 2290 w
(file) 4529 2290 w
(servers.) 1080 2410 w
(The) 1527 2410 w
(specifics) 1743 2410 w
(apply) 2196 2410 w
(to) 2493 2410 w
(our) 2626 2410 w
(main) 2825 2410 w
(Plan) 3098 2410 w
(9) 3333 2410 w
(file) 3430 2410 w
(server) 3615 2410 w
(Emelie,) 3946 2410 w
(but) 4329 2410 w
(the) 4525 2410 w
(code is also the basis for the user level file server) 1080 2530 w
10 /LucidaTypewriter f
(kfs) 3517 2530 w
10 /LucidaSansUnicode00 f
(.) 3733 2530 w
10 /LucidaSans-Demi f
(Introduction) 720 2890 w
10 /LucidaSansUnicode00 f
(The) 970 3046 w
(Plan) 1192 3046 w
(9) 1434 3046 w
(file) 1538 3046 w
(server) 1730 3046 w
(Emelie) 2068 3046 w
(is) 2426 3046 w
(the) 2547 3046 w
(oldest) 2743 3046 w
(piece) 3081 3046 w
(of) 3377 3046 w
(system) 3517 3046 w
(software) 3899 3046 w
(still) 4356 3046 w
(in) 4573 3046 w
(use) 4706 3046 w
(on) 4917 3046 w
(Plan) 720 3166 w
(9.) 978 3166 w
(It) 1162 3166 w
(evolved) 1285 3166 w
(from) 1711 3166 w
(a) 2000 3166 w
(user-level) 2112 3166 w
(program) 2659 3166 w
(that) 3132 3166 w
(served) 3380 3166 w
(serial) 3756 3166 w
(lines) 4074 3166 w
(on) 4358 3166 w
(a) 4538 3166 w
(Sequent) 4650 3166 w
(multi-processor.) 720 3286 w
(The) 1614 3286 w
(current) 1841 3286 w
(implementation) 2237 3286 w
(is) 3045 3286 w
(neither) 3171 3286 w
(clean) 3560 3286 w
(nor) 3859 3286 w
(portable,) 4069 3286 w
(but) 4552 3286 w
(it) 4760 3286 w
(has) 4872 3286 w
(slowly come to terms with its particular set of cranky computers and devices.) 720 3406 w
10 /LucidaSans-Demi f
(Process Structure) 720 3646 w
10 /LucidaSansUnicode00 f
(The) 970 3802 w
(Plan) 1187 3802 w
(9) 1424 3802 w
(file) 1523 3802 w
(system) 1710 3802 w
(server) 2086 3802 w
(is) 2419 3802 w
(made) 2536 3802 w
(from) 2840 3802 w
(an) 3109 3802 w
(ancient) 3263 3802 w
(version) 3652 3802 w
(of) 4041 3802 w
(the) 4176 3802 w
(Plan) 4368 3802 w
(9) 4606 3802 w
(kernel.) 4706 3802 w
(The) 720 3922 w
(kernel) 946 3922 w
(contains) 1293 3922 w
(process) 1746 3922 w
(control,) 2165 3922 w
(synchronization,) 2584 3922 w
(locks,) 3432 3922 w
(and) 3758 3922 w
(some) 3982 3922 w
(memory) 4287 3922 w
(alloca\255) 4727 3922 w
(tion.) 720 4042 w
(The kernel has no user processes or virtual memory.) 1005 4042 w
(The) 970 4198 w
(structure) 1194 4198 w
(of) 1675 4198 w
(the) 1816 4198 w
(file) 2015 4198 w
(system) 2210 4198 w
(server) 2594 4198 w
(is) 2935 4198 w
(a) 3059 4198 w
(set) 3158 4198 w
(of) 3346 4198 w
(kernel) 3488 4198 w
(processes) 3834 4198 w
(synchronizing) 4359 4198 w
(mostly through message passing.) 720 4318 w
(In Emelie there are 26 processes of 10 types:) 2419 4318 w
9 /LucidaSansUnicode00 f
(number) 1008 4488 w
(name) 1377 4488 w
(function) 1675 4488 w
(15) 1066 4598 w
9 /LucidaTypewriter f
(srv) 1383 4598 w
9 /LucidaSansUnicode00 f
(Main) 1665 4598 w
(file) 1903 4598 w
(system) 2067 4598 w
(server) 2402 4598 w
(processes) 2698 4598 w
(1) 1123 4708 w
9 /LucidaTypewriter f
(rah) 1383 4708 w
9 /LucidaSansUnicode00 f
(Block) 1665 4708 w
(read-ahead) 1925 4708 w
(processes) 2463 4708 w
(1) 1123 4818 w
9 /LucidaTypewriter f
(scp) 1383 4818 w
9 /LucidaSansUnicode00 f
(Sync) 1665 4818 w
(process) 1892 4818 w
(1) 1123 4928 w
9 /LucidaTypewriter f
(wcp) 1383 4928 w
9 /LucidaSansUnicode00 f
(WORM) 1665 4928 w
(copy) 1975 4928 w
(process) 2209 4928 w
(1) 1123 5038 w
9 /LucidaTypewriter f
(con) 1383 5038 w
9 /LucidaSansUnicode00 f
(Console) 1665 5038 w
(process) 2044 5038 w
(1) 1123 5148 w
9 /LucidaTypewriter f
(ilo) 1383 5148 w
9 /LucidaSansUnicode00 f
(IL) 1665 5148 w
(protocol) 1768 5148 w
(process) 2161 5148 w
(1) 1123 5258 w
9 /LucidaTypewriter f
(ilt) 1383 5258 w
9 /LucidaSansUnicode00 f
(IL) 1665 5258 w
(timer) 1768 5258 w
(process) 2027 5258 w
(2) 1123 5368 w
9 /LucidaTypewriter f
(ethi) 1383 5368 w
9 /LucidaSansUnicode00 f
(Ethernet) 1730 5368 w
(input) 2123 5368 w
(process) 2380 5368 w
(2) 1123 5478 w
9 /LucidaTypewriter f
(etho) 1383 5478 w
9 /LucidaSansUnicode00 f
(Ethernet) 1730 5478 w
(output) 2123 5478 w
(process) 2442 5478 w
(1) 1123 5588 w
9 /LucidaTypewriter f
(flo) 1383 5588 w
9 /LucidaSansUnicode00 f
(Floppy) 1665 5588 w
(disk) 1985 5588 w
(process) 2195 5588 w
10 /LucidaSans-Demi f
(The server processes) 720 5888 w
10 /LucidaSansUnicode00 f
(The) 970 6044 w
(main) 1203 6044 w
(file) 1494 6044 w
(system) 1697 6044 w
(algorithm) 2089 6044 w
(is) 2611 6044 w
(a) 2744 6044 w
(set) 2852 6044 w
(of) 3049 6044 w
(identical) 3200 6044 w
(processes) 3664 6044 w
(named) 4198 6044 w
10 /LucidaTypewriter f
(srv) 4580 6044 w
10 /LucidaSansUnicode00 f
(that) 4849 6044 w
(honor) 720 6164 w
(the) 1065 6164 w
(9P) 1277 6164 w
(protocol.) 1452 6164 w
(Each) 1977 6164 w
(file) 2256 6164 w
(system) 2464 6164 w
(process) 2861 6164 w
(waits) 3292 6164 w
(on) 3598 6164 w
(a) 3778 6164 w
(message) 3890 6164 w
(queue) 4371 6164 w
(for) 4727 6164 w
(an) 4923 6164 w
(incoming request.) 720 6284 w
(The request contains a 9P message and the address of a reply) 1663 6284 w
(queue.) 4709 6284 w
(A) 720 6404 w
10 /LucidaTypewriter f
(srv) 823 6404 w
10 /LucidaSansUnicode00 f
(process) 1073 6404 w
(parses) 1481 6404 w
(the) 1832 6404 w
(message,) 2021 6404 w
(performs) 2511 6404 w
(pseudo-disk) 2988 6404 w
(I/O) 3637 6404 w
(to) 3831 6404 w
(the) 3963 6404 w
(corresponding) 4152 6404 w
(file) 4889 6404 w
(system) 720 6524 w
(block) 1102 6524 w
(device,) 1406 6524 w
(formulates) 1787 6524 w
(a) 2351 6524 w
(response,) 2448 6524 w
(and) 2963 6524 w
(sends) 3185 6524 w
(the) 3510 6524 w
(response) 3707 6524 w
(back) 4190 6524 w
(to) 4460 6524 w
(the) 4601 6524 w
(reply) 4799 6524 w
(queue.) 720 6644 w
(The unit of storage is a block of data on a device:) 970 6800 w
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
10 /LucidaSansUnicode00 f
(\255 2 \255) 2783 480 w
9 /LucidaTypewriter f
(enum) 1268 830 w
({) 1268 940 w
(RBUFSIZE) 1528 1050 w
(=) 2113 1050 w
(16*1024) 2243 1050 w
(};) 1268 1160 w
(typedef) 1268 1380 w
(struct) 1268 1490 w
({) 1268 1600 w
(short) 1528 1710 w
(pad;) 2048 1710 w
(short) 1528 1820 w
(tag;) 2048 1820 w
(long) 1528 1930 w
(path;) 2048 1930 w
(}) 1268 2040 w
(Tag;) 1398 2040 w
(enum) 1268 2260 w
({) 1268 2370 w
(BUFSIZE) 1528 2480 w
(=) 2048 2480 w
(RBUFSIZE) 2178 2480 w
(-) 2763 2480 w
(sizeof\(Tag\)) 2893 2480 w
(};) 1268 2590 w
(typedef) 1268 2810 w
(struct) 1268 2920 w
({) 1268 3030 w
(uchar) 1528 3140 w
(data[BUFSIZE];) 2048 3140 w
(Tag) 1528 3250 w
(tag;) 2048 3250 w
(}) 1268 3360 w
(Block;) 1398 3360 w
10 /LucidaSansUnicode00 f
(All) 720 3540 w
(devices) 882 3540 w
(are) 1275 3540 w
(idealized) 1463 3540 w
(as) 1936 3540 w
(a) 2078 3540 w
(perfect) 2169 3540 w
(disk) 2546 3540 w
(of) 2783 3540 w
(contiguously) 2917 3540 w
(numbered) 3572 3540 w
(blocks) 4104 3540 w
(each) 4453 3540 w
(of) 4713 3540 w
(size) 4847 3540 w
10 /LucidaTypewriter f
(RBUFSIZE) 720 3660 w
10 /LucidaSansUnicode00 f
(.) 1296 3660 w
(Each) 1394 3660 w
(block) 1650 3660 w
(has) 1946 3660 w
(a) 2148 3660 w
(tag) 2237 3660 w
(that) 2425 3660 w
(identifies) 2650 3660 w
(what) 3133 3660 w
(type) 3398 3660 w
(of) 3640 3660 w
(block) 3772 3660 w
(it) 4068 3660 w
(is) 4167 3660 w
(and) 4280 3660 w
(a) 4493 3660 w
(unique) 4581 3660 w
(id) 4948 3660 w
(of) 720 3780 w
(the) 878 3780 w
(file) 1093 3780 w
(or) 1304 3780 w
(directory) 1467 3780 w
(where) 1959 3780 w
(this) 2312 3780 w
(block) 2552 3780 w
(resides.) 2875 3780 w
(The) 3347 3780 w
(remaining) 3589 3780 w
(data) 4139 3780 w
(in) 4410 3780 w
(the) 4562 3780 w
(block) 4778 3780 w
(depends on what type of block it is.) 720 3900 w
(The) 970 4056 w
10 /LucidaTypewriter f
(srv) 1194 4056 w
10 /LucidaSansUnicode00 f
(process) 1453 4056 w
10 /LucidaSansUnicode20 f
(\031) 1827 4056 w
10 /LucidaSansUnicode00 f
(s) 1859 4056 w
(main) 1953 4056 w
(data) 2235 4056 w
(structure) 2488 4056 w
(is) 2969 4056 w
(the) 3092 4056 w
(directory) 3290 4056 w
(entry.) 3764 4056 w
(This) 4119 4056 w
(is) 4367 4056 w
(the) 4491 4056 w
(equiva\255) 4690 4056 w
(lent) 720 4176 w
(of) 954 4176 w
(a) 1102 4176 w
(UNIX) 1207 4176 w
(i-node) 1492 4176 w
(and) 1871 4176 w
(defines) 2101 4176 w
(the) 2505 4176 w
(set) 2710 4176 w
(of) 2904 4176 w
(block) 3052 4176 w
(addresses) 3364 4176 w
(that) 3900 4176 w
(comprise) 4140 4176 w
(a) 4634 4176 w
(file) 4738 4176 w
(or) 4938 4176 w
(directory.) 720 4296 w
(Unlike) 1255 4296 w
(the) 1598 4296 w
(i-node,) 1793 4296 w
(the) 2194 4296 w
(directory) 2389 4296 w
(entry) 2860 4296 w
(also) 3148 4296 w
(has) 3385 4296 w
(the) 3594 4296 w
(name) 3790 4296 w
(of) 4097 4296 w
(the) 4236 4296 w
(file) 4432 4296 w
(or) 4624 4296 w
(direc\255) 4767 4296 w
(tory in it:) 720 4416 w
9 /LucidaTypewriter f
(enum) 1268 4586 w
({) 1268 4696 w
(NAMELEN) 1528 4806 w
(=) 2048 4806 w
(28,) 2178 4806 w
(NDBLOCK) 1528 4916 w
(=) 2048 4916 w
(6) 2178 4916 w
(};) 1268 5026 w
(typedef) 1268 5256 w
(struct) 1268 5366 w
({) 1268 5476 w
(char) 1528 5586 w
(name[NAMELEN];) 2048 5586 w
(short) 1528 5696 w
(uid;) 2048 5696 w
(short) 1528 5806 w
(gid;) 2048 5806 w
(ushort) 1528 5916 w
(mode;) 2048 5916 w
(short) 1528 6026 w
(wuid;) 2048 6026 w
(Qid) 1528 6136 w
(qid;) 2048 6136 w
(long) 1528 6246 w
(size;) 2048 6246 w
(long) 1528 6356 w
(dblock[NDBLOCK];) 2048 6356 w
(long) 1528 6466 w
(iblock;) 2048 6466 w
(long) 1528 6576 w
(diblock;) 2048 6576 w
(long) 1528 6686 w
(atime;) 2048 6686 w
(long) 1528 6796 w
(mtime;) 2048 6796 w
(}) 1268 6906 w
(Dentry;) 1398 6906 w
10 /LucidaSansUnicode00 f
(Each) 720 7086 w
(directory) 992 7086 w
(entry) 1473 7086 w
(holds) 1771 7086 w
(the) 2087 7086 w
(file) 2292 7086 w
(or) 2493 7086 w
(directory) 2645 7086 w
(name,) 3126 7086 w
(protection) 3474 7086 w
(mode,) 4022 7086 w
(access) 4377 7086 w
(times,) 4742 7086 w
(user-id,) 720 7206 w
(group-id,) 1158 7206 w
(and) 1675 7206 w
(addressing) 1901 7206 w
(information.) 2480 7206 w
(The) 3157 7206 w
(entry) 3384 7206 w
10 /LucidaTypewriter f
(wuid) 3678 7206 w
10 /LucidaSansUnicode00 f
(is) 4012 7206 w
(the) 4137 7206 w
(user-id) 4337 7206 w
(of) 4742 7206 w
(the) 4885 7206 w
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
10 /LucidaSansUnicode00 f
(\255 3 \255) 2783 480 w
(last) 720 840 w
(writer) 929 840 w
(of) 1247 840 w
(the) 1382 840 w
(file) 1574 840 w
(and) 1762 840 w
10 /LucidaTypewriter f
(size) 1979 840 w
10 /LucidaSansUnicode00 f
(is) 2304 840 w
(the) 2421 840 w
(size) 2613 840 w
(of) 2843 840 w
(the) 2978 840 w
(file) 3170 840 w
(in) 3358 840 w
(bytes.) 3486 840 w
(The) 3846 840 w
(first) 4064 840 w
(6) 4297 840 w
(blocks) 4398 840 w
(of) 4749 840 w
(the) 4885 840 w
(file) 720 960 w
(are) 905 960 w
(held) 1091 960 w
(in) 1335 960 w
(the) 1460 960 w
10 /LucidaTypewriter f
(dblock) 1649 960 w
10 /LucidaSansUnicode00 f
(array.) 2115 960 w
(If) 2457 960 w
(the) 2557 960 w
(file) 2746 960 w
(is) 2931 960 w
(larger) 3045 960 w
(than) 3363 960 w
(that,) 3613 960 w
(an) 3870 960 w
(indirect) 4021 960 w
(block) 4423 960 w
(is) 4719 960 w
(allo\255) 4833 960 w
(cated) 720 1080 w
(that) 1023 1080 w
(holds) 1255 1080 w
(the) 1563 1080 w
(next) 1760 1080 w
10 /LucidaTypewriter f
(BUFSIZE/sizeof\(long\)) 2018 1080 w
10 /LucidaSansUnicode00 f
(blocks) 3500 1080 w
(of) 3855 1080 w
(the) 3995 1080 w
(file.) 4192 1080 w
(The) 4449 1080 w
(indirect) 4672 1080 w
(block) 720 1200 w
(address) 1028 1200 w
(is) 1453 1200 w
(held) 1578 1200 w
(in) 1833 1200 w
(the) 1969 1200 w
(structure) 2169 1200 w
(member) 2652 1200 w
10 /LucidaTypewriter f
(iblock) 3099 1200 w
10 /LucidaSansUnicode00 f
(.) 3531 1200 w
(If) 3640 1200 w
(the) 3751 1200 w
(file) 3951 1200 w
(is) 4147 1200 w
(larger) 4272 1200 w
(yet,) 4601 1200 w
(then) 4823 1200 w
(there) 720 1320 w
(is) 1030 1320 w
(a) 1168 1320 w
(double) 1281 1320 w
(indirect) 1673 1320 w
(block) 2099 1320 w
(that) 2419 1320 w
(points) 2668 1320 w
(at) 3029 1320 w
(indirect) 3179 1320 w
(blocks.) 3605 1320 w
(The) 4040 1320 w
(double) 4279 1320 w
(indirect) 4672 1320 w
(address) 720 1440 w
(is) 1135 1440 w
(held) 1250 1440 w
(in) 1495 1440 w
10 /LucidaTypewriter f
(diblock) 1621 1440 w
10 /LucidaSansUnicode00 f
(and) 2160 1440 w
(can) 2375 1440 w
(point) 2578 1440 w
(at) 2864 1440 w
(another) 2990 1440 w
10 /LucidaTypewriter f
(\(BUFSIZE/sizeof\(long\)\)) 3398 1440 w
8 /LucidaTypewriter f
(2) 4982 1390 w
10 /LucidaSansUnicode00 f
(blocks) 720 1560 w
(of) 1068 1560 w
(data.) 1201 1560 w
(The) 1510 1560 w
(maximum) 1726 1560 w
(addressable) 2247 1560 w
(size) 2866 1560 w
(of) 3095 1560 w
(a) 3229 1560 w
(file) 3320 1560 w
(is) 3507 1560 w
(therefore) 3623 1560 w
(275) 4106 1560 w
(Gbytes.) 4331 1560 w
(There) 4762 1560 w
(is) 720 1680 w
(a) 840 1680 w
(tighter) 935 1680 w
(restriction) 1299 1680 w
(of) 1834 1680 w
(2) 1972 1680 w
8 /LucidaSansUnicode00 f
(32) 2035 1630 w
10 /LucidaSansUnicode00 f
(bytes) 2175 1680 w
(because) 2474 1680 w
(the) 2908 1680 w
(length) 3103 1680 w
(of) 3450 1680 w
(a) 3587 1680 w
(file) 3681 1680 w
(is) 3871 1680 w
(maintained) 3990 1680 w
(in) 4570 1680 w
(a) 4700 1680 w
(long.) 4794 1680 w
(Even) 720 1800 w
(so,) 980 1800 w
(sloppy) 1160 1800 w
(use) 1515 1800 w
(of) 1720 1800 w
(long) 1854 1800 w
(arithmetic) 2104 1800 w
(restricts) 2630 1800 w
(the) 3060 1800 w
(length) 3251 1800 w
(to) 3595 1800 w
(2) 3729 1800 w
8 /LucidaSansUnicode00 f
(31) 3792 1750 w
10 /LucidaSansUnicode00 f
(bytes.) 3928 1800 w
(These) 4287 1800 w
(numbers) 4612 1800 w
(are) 720 1920 w
(based) 909 1920 w
(on) 1234 1920 w
(Emelie) 1394 1920 w
(which) 1748 1920 w
(has) 2066 1920 w
(a) 2271 1920 w
(block) 2363 1920 w
(size) 2661 1920 w
(of) 2890 1920 w
(16K) 3024 1920 w
(and) 3251 1920 w
10 /LucidaTypewriter f
(sizeof\(long\)) 3467 1920 w
10 /LucidaSansUnicode00 f
(is) 4367 1920 w
(4.) 4483 1920 w
(It) 4646 1920 w
(would) 4748 1920 w
(be different if the size of a block changed.) 720 2040 w
(The declarations of the indirect and double indirect blocks are as follows.) 970 2196 w
9 /LucidaTypewriter f
(enum) 1268 2366 w
({) 1268 2476 w
(INDPERBUF) 1528 2586 w
(=) 2178 2586 w
(BUFSIZE/sizeof\(long\),) 2308 2586 w
(};) 1268 2696 w
(typedef) 1268 2926 w
({) 1268 3036 w
(long) 1528 3146 w
(dblock[INDPERBUF];) 2048 3146 w
(Tag) 1528 3256 w
(ibtag;) 2048 3256 w
(}) 1268 3366 w
(Iblock;) 1398 3366 w
(typedef) 1268 3596 w
({) 1268 3706 w
(long) 1528 3816 w
(iblock[INDPERBUF];) 2048 3816 w
(Tag) 1528 3926 w
(dibtag;) 2048 3926 w
(}) 1268 4036 w
(Diblock;) 1398 4036 w
10 /LucidaSansUnicode00 f
(The) 970 4252 w
(root) 1194 4252 w
(of) 1437 4252 w
(a) 1578 4252 w
(file) 1676 4252 w
(system) 1871 4252 w
(is) 2255 4252 w
(a) 2379 4252 w
(single) 2478 4252 w
(directory) 2811 4252 w
(entry) 3286 4252 w
(at) 3578 4252 w
(a) 3714 4252 w
(known) 3813 4252 w
(block) 4177 4252 w
(address.) 4483 4252 w
(A) 4971 4252 w
(directory) 720 4372 w
(is) 1196 4372 w
(a) 1321 4372 w
(file) 1421 4372 w
(that) 1617 4372 w
(consists) 1853 4372 w
(of) 2291 4372 w
(a) 2434 4372 w
(list) 2534 4372 w
(of) 2725 4372 w
(directory) 2868 4372 w
(entries.) 3344 4372 w
(To) 3785 4372 w
(make) 3954 4372 w
(access) 4261 4372 w
(easier,) 4621 4372 w
(a) 4985 4372 w
(directory entry cannot cross blocks.) 720 4492 w
(In Emelie there are 233 directory entries per block.) 2519 4492 w
(The) 970 4648 w
(device) 1186 4648 w
(on) 1528 4648 w
(which) 1686 4648 w
(the) 2002 4648 w
(blocks) 2192 4648 w
(reside) 2540 4648 w
(is) 2872 4648 w
(implicit) 2988 4648 w
(and) 3384 4648 w
(ultimately) 3600 4648 w
(comes) 4115 4648 w
(from) 4463 4648 w
(the) 4731 4648 w
(9P) 4922 4648 w
10 /LucidaTypewriter f
(attach) 720 4768 w
10 /LucidaSansUnicode00 f
(message that specifies the name of the device containing the root.) 1184 4768 w
10 /LucidaSans-Demi f
(Buffer Cache) 720 5008 w
10 /LucidaSansUnicode00 f
(When) 970 5164 w
(the) 1282 5164 w
(file) 1483 5164 w
(server) 1680 5164 w
(is) 2023 5164 w
(booted,) 2149 5164 w
(all) 2568 5164 w
(of) 2728 5164 w
(the) 2873 5164 w
(unused) 3075 5164 w
(memory) 3478 5164 w
(is) 3921 5164 w
(allocated) 4048 5164 w
(to) 4531 5164 w
(a) 4676 5164 w
(block) 4778 5164 w
(buffer) 720 5284 w
(pool.) 1056 5284 w
(There) 1374 5284 w
(are) 1692 5284 w
(two) 1884 5284 w
(major) 2099 5284 w
(operations) 2418 5284 w
(on) 2973 5284 w
(the) 3135 5284 w
(buffer) 3329 5284 w
(pool.) 3664 5284 w
10 /LucidaTypewriter f
(Getbuf) 3981 5284 w
10 /LucidaSansUnicode00 f
(will) 4452 5284 w
(find) 4655 5284 w
(the) 4885 5284 w
(buffer) 720 5404 w
(associated) 1057 5404 w
(with) 1607 5404 w
(a) 1853 5404 w
(particular) 1950 5404 w
(block) 2455 5404 w
(on) 2759 5404 w
(a) 2924 5404 w
(particular) 3021 5404 w
(device.) 3526 5404 w
(The) 3939 5404 w
(returned) 4162 5404 w
(buffer) 4622 5404 w
(is) 4960 5404 w
(locked) 720 5524 w
(so) 1082 5524 w
(that) 1238 5524 w
(the) 1473 5524 w
(caller) 1672 5524 w
(has) 1977 5524 w
(exclusive) 2189 5524 w
(use.) 2680 5524 w
(If) 2957 5524 w
(the) 3067 5524 w
(requested) 3266 5524 w
(buffer) 3795 5524 w
(is) 4135 5524 w
(not) 4259 5524 w
(in) 4462 5524 w
(the) 4596 5524 w
(pool,) 4794 5524 w
(some) 720 5644 w
(other) 1015 5644 w
(buffer) 1306 5644 w
(will) 1636 5644 w
(be) 1834 5644 w
(relabeled) 1988 5644 w
(and) 2471 5644 w
(the) 2686 5644 w
(data) 2876 5644 w
(will) 3121 5644 w
(be) 3320 5644 w
(read) 3474 5644 w
(from) 3724 5644 w
(the) 3991 5644 w
(requested) 4181 5644 w
(device.) 4701 5644 w
10 /LucidaTypewriter f
(Putbuf) 720 5764 w
10 /LucidaSansUnicode00 f
(will) 1188 5764 w
(unlock) 1388 5764 w
(a) 1747 5764 w
(buffer) 1838 5764 w
(and) 2170 5764 w
(if) 2385 5764 w
(the) 2486 5764 w
(contents) 2676 5764 w
(are) 3128 5764 w
(marked) 3315 5764 w
(as) 3716 5764 w
(modified,) 3857 5764 w
(the) 4355 5764 w
(buffer) 4545 5764 w
(will) 4876 5764 w
(be) 720 5884 w
(written) 874 5884 w
(to) 1248 5884 w
(the) 1381 5884 w
(device) 1571 5884 w
(before) 1913 5884 w
(the) 2262 5884 w
(buffer) 2452 5884 w
(is) 2783 5884 w
(relabeled.) 2898 5884 w
(If) 3445 5884 w
(there) 3546 5884 w
(is) 3833 5884 w
(some) 3948 5884 w
(special) 4244 5884 w
(mapping) 4613 5884 w
(or) 720 6004 w
(CPU) 859 6004 w
(cache) 1089 6004 w
(flushing) 1401 6004 w
(that) 1832 6004 w
(must) 2060 6004 w
(occur) 2340 6004 w
(in) 2642 6004 w
(order) 2769 6004 w
(for) 3067 6004 w
(the) 3242 6004 w
(physical) 3433 6004 w
(I/O) 3861 6004 w
(device) 4057 6004 w
(to) 4400 6004 w
(access) 4534 6004 w
(the) 4885 6004 w
(buffers,) 720 6124 w
(this) 1136 6124 w
(is) 1353 6124 w
(done) 1471 6124 w
(between) 1751 6124 w
10 /LucidaTypewriter f
(getbuf) 2196 6124 w
10 /LucidaSansUnicode00 f
(and) 2666 6124 w
10 /LucidaTypewriter f
(putbuf) 2884 6124 w
10 /LucidaSansUnicode00 f
(.) 3316 6124 w
(The) 3418 6124 w
(contents) 3637 6124 w
(of) 4092 6124 w
(a) 4228 6124 w
(buffer) 4321 6124 w
(is) 4655 6124 w
(never) 4773 6124 w
(touched except while it is locked between) 720 6244 w
10 /LucidaTypewriter f
(getbuf) 2784 6244 w
10 /LucidaSansUnicode00 f
(and) 3248 6244 w
10 /LucidaTypewriter f
(putbuf) 3460 6244 w
10 /LucidaSansUnicode00 f
(calls.) 3924 6244 w
(The) 970 6400 w
(file) 1187 6400 w
(system) 1374 6400 w
(server) 1750 6400 w
(processes) 2083 6400 w
(prevent) 2600 6400 w
(deadlock) 3003 6400 w
(in) 3476 6400 w
(the) 3604 6400 w
(buffers) 3796 6400 w
(by) 4180 6400 w
(always) 4332 6400 w
(locking) 4688 6400 w
(parent) 720 6520 w
(and) 1072 6520 w
(child) 1290 6520 w
(directory) 1562 6520 w
(entries) 2031 6520 w
(in) 2401 6520 w
(that) 2530 6520 w
(order.) 2759 6520 w
(Since) 3123 6520 w
(the) 3413 6520 w
(entire) 3606 6520 w
(directory) 3925 6520 w
(structure) 4393 6520 w
(is) 4868 6520 w
(a) 4985 6520 w
(hierarchy,) 720 6640 w
(this) 1244 6640 w
(makes) 1466 6640 w
(the) 1822 6640 w
(locking) 2020 6640 w
(well-ordered,) 2416 6640 w
(preventing) 3122 6640 w
(deadlock.) 3686 6640 w
(The) 4230 6640 w
(major) 4455 6640 w
(prob\255) 4779 6640 w
(lem) 720 6760 w
(in) 932 6760 w
(the) 1057 6760 w
(locking) 1246 6760 w
(strategy) 1632 6760 w
(is) 2057 6760 w
(that) 2171 6760 w
(locks) 2396 6760 w
(are) 2680 6760 w
(at) 2866 6760 w
(a) 2992 6760 w
(block) 3081 6760 w
(level) 3376 6760 w
(and) 3631 6760 w
(there) 3844 6760 w
(are) 4129 6760 w
(many) 4314 6760 w
(directory) 4609 6760 w
(entries) 720 6880 w
(in) 1095 6880 w
(a) 1229 6880 w
(single) 1327 6880 w
(block.) 1660 6880 w
(There) 2030 6880 w
(are) 2352 6880 w
(unnecessary) 2548 6880 w
(lock) 3191 6880 w
(conflicts) 3434 6880 w
(in) 3886 6880 w
(the) 4021 6880 w
(directory) 4220 6880 w
(blocks.) 4695 6880 w
(When) 720 7000 w
(one) 1031 7000 w
(of) 1255 7000 w
(these) 1398 7000 w
(directory) 1705 7000 w
(blocks) 2180 7000 w
(is) 2537 7000 w
(tied) 2661 7000 w
(up) 2890 7000 w
(accessing) 3059 7000 w
(the) 3571 7000 w
(very) 3770 7000 w
(slow) 4015 7000 w
(WORM,) 4277 7000 w
(then) 4666 7000 w
(all) 4927 7000 w
(I/O to dozens of unrelated directories is blocked.) 720 7120 w
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
10 /LucidaSansUnicode00 f
(\255 4 \255) 2783 480 w
10 /LucidaSans-Demi f
(Block Devices) 720 840 w
10 /LucidaSansUnicode00 f
(The) 970 996 w
(block) 1194 996 w
(device) 1499 996 w
(I/O) 1849 996 w
(system) 2052 996 w
(is) 2435 996 w
(like) 2558 996 w
(a) 2773 996 w
(protocol) 2871 996 w
(stack) 3318 996 w
(of) 3613 996 w
(filters.) 3754 996 w
(There) 4141 996 w
(are) 4462 996 w
(a) 4657 996 w
(set) 4755 996 w
(of) 4942 996 w
(pseudo-devices) 720 1116 w
(that) 1527 1116 w
(call) 1753 1116 w
(recursively) 1952 1116 w
(to) 2507 1116 w
(other) 2640 1116 w
(pseudo-devices) 2932 1116 w
(and) 3739 1116 w
(real) 3954 1116 w
(devices.) 4170 1116 w
(The) 4627 1116 w
(pro\255) 4842 1116 w
(tocol) 720 1236 w
(stack) 1000 1236 w
(is) 1293 1236 w
(compiled) 1414 1236 w
(from) 1901 1236 w
(a) 2175 1236 w
(configuration) 2272 1236 w
(string) 2963 1236 w
(that) 3287 1236 w
(specifies) 3520 1236 w
(the) 3985 1236 w
(order) 4182 1236 w
(of) 4486 1236 w
(pseudo-) 4626 1236 w
(devices) 720 1356 w
(and) 1117 1356 w
(devices.) 1336 1356 w
(Each) 1797 1356 w
(pseudo-device) 2058 1356 w
(and) 2818 1356 w
(device) 3036 1356 w
(has) 3381 1356 w
(a) 3587 1356 w
(set) 3680 1356 w
(of) 3862 1356 w
(entry) 3998 1356 w
(points) 4284 1356 w
(that) 4625 1356 w
(cor\255) 4854 1356 w
(responds) 720 1476 w
(to) 1207 1476 w
(the) 1344 1476 w
(operations) 1538 1476 w
(that) 2094 1476 w
(the) 2325 1476 w
(file) 2520 1476 w
(system) 2711 1476 w
(requires) 3091 1476 w
(of) 3530 1476 w
(a) 3668 1476 w
(device.) 3763 1476 w
(The) 4174 1476 w
(most) 4395 1476 w
(notable) 4677 1476 w
(operations are) 720 1596 w
10 /LucidaTypewriter f
(read) 1452 1596 w
10 /LucidaSansUnicode00 f
(,) 1740 1596 w
10 /LucidaTypewriter f
(write) 1804 1596 w
10 /LucidaSansUnicode00 f
(, and) 2164 1596 w
10 /LucidaTypewriter f
(size) 2440 1596 w
10 /LucidaSansUnicode00 f
(.) 2728 1596 w
(The) 970 1752 w
(device) 1191 1752 w
(stack) 1538 1752 w
(can) 1830 1752 w
(best) 2038 1752 w
(be) 2285 1752 w
(described) 2444 1752 w
(by) 2957 1752 w
(describing) 3112 1752 w
(the) 3659 1752 w
(syntax) 3854 1752 w
(of) 4212 1752 w
(the) 4351 1752 w
(configura\255) 4547 1752 w
(tion) 720 1872 w
(string) 951 1872 w
(that) 1275 1872 w
(specifies) 1508 1872 w
(the) 1973 1872 w
(stack.) 2170 1872 w
(Configuration) 2528 1872 w
(strings) 3236 1872 w
(are) 3610 1872 w
(used) 3803 1872 w
(during) 4076 1872 w
(the) 4436 1872 w
(setup) 4632 1872 w
(of) 4942 1872 w
(the) 720 1992 w
(file) 915 1992 w
(system.) 1106 1992 w
(For) 1550 1992 w
(a) 1746 1992 w
(description) 1841 1992 w
(see) 2425 1992 w
10 /LucidaSans-Italic f
(fsconfig) 2629 1992 w
10 /LucidaSansUnicode00 f
(\(8\).) 3013 1992 w
(In) 3247 1992 w
(the) 3379 1992 w
(following) 3575 1992 w
(recursive) 4063 1992 w
(definition,) 4543 1992 w
10 /LucidaSans-Italic f
(D) 720 2112 w
10 /LucidaSansUnicode00 f
(represents a string that specifies a block device.) 826 2112 w
10 /LucidaSans-Italic f
(D) 720 2268 w
10 /LucidaSansUnicode00 f
(= \() 826 2268 w
10 /LucidaSans-Italic f
(DD) 971 2268 w
10 /LucidaSansUnicode00 f
(...\)) 1119 2268 w
(This) 970 2388 w
(is) 1214 2388 w
(a) 1333 2388 w
(set) 1427 2388 w
(of) 1610 2388 w
(devices) 1747 2388 w
(that) 2144 2388 w
(are) 2374 2388 w
(concatenated) 2565 2388 w
(to) 3250 2388 w
(form) 3387 2388 w
(a) 3658 2388 w
(single) 3752 2388 w
(device.) 4080 2388 w
(The) 4490 2388 w
(size) 4710 2388 w
(of) 4942 2388 w
(the catenated device is the sum of the sizes of each sub-device.) 970 2508 w
10 /LucidaSans-Italic f
(D) 720 2664 w
10 /LucidaSansUnicode00 f
(= [) 826 2664 w
10 /LucidaSans-Italic f
(DD) 971 2664 w
10 /LucidaSansUnicode00 f
(...]) 1119 2664 w
(This) 970 2784 w
(is) 1214 2784 w
(the) 1333 2784 w
(interleaving) 1527 2784 w
(of) 2136 2784 w
(the) 2273 2784 w
(individual) 2467 2784 w
(devices.) 2979 2784 w
(If) 3440 2784 w
(there) 3545 2784 w
(are) 3836 2784 w
(N) 4027 2784 w
(devices) 4140 2784 w
(in) 4537 2784 w
(the) 4667 2784 w
(list,) 4862 2784 w
(then) 970 2904 w
(the) 1233 2904 w
(pseudo-device) 1434 2904 w
(is) 2201 2904 w
(the) 2327 2904 w
(N-way) 2528 2904 w
(block) 2890 2904 w
(interleaving) 3198 2904 w
(of) 3814 2904 w
(the) 3958 2904 w
(sub-devices.) 4158 2904 w
(The) 4859 2904 w
(size of the interleaved device is N times the size of the smallest sub-device.) 970 3024 w
10 /LucidaSans-Italic f
(D) 720 3180 w
10 /LucidaSansUnicode00 f
(=) 826 3180 w
10 /LucidaTypewriter f
(p) 938 3180 w
10 /LucidaSans-Italic f
(DN1.N2) 1010 3180 w
10 /LucidaSansUnicode00 f
(This) 970 3300 w
(is) 1219 3300 w
(a) 1343 3300 w
(partition) 1442 3300 w
(of) 1900 3300 w
(a) 2042 3300 w
(sub-device.) 2142 3300 w
(The) 2792 3300 w
(sub-device) 3018 3300 w
(is) 3604 3300 w
(partitioned) 3729 3300 w
(into) 4307 3300 w
(100) 4541 3300 w
(equal) 4775 3300 w
(pieces.) 970 3420 w
(If) 1391 3420 w
(the) 1508 3420 w
(size) 1714 3420 w
(of) 1958 3420 w
(the) 2107 3420 w
(sub-device) 2313 3420 w
(is) 2905 3420 w
(not) 3036 3420 w
(divisible) 3247 3420 w
(by) 3699 3420 w
(100,) 3865 3420 w
(then) 4137 3420 w
(there) 4405 3420 w
(will) 4707 3420 w
(be) 4921 3420 w
(some) 970 3540 w
(slop) 1275 3540 w
(thrown) 1524 3540 w
(away) 1909 3540 w
(at) 2193 3540 w
(the) 2330 3540 w
(top.) 2530 3540 w
(The) 2800 3540 w
(pseudo-device) 3026 3540 w
(starts) 3792 3540 w
(at) 4109 3540 w
(the) 4246 3540 w
(N1-th) 4446 3540 w
(piece) 4785 3540 w
(and continues for N2 pieces. Thus) 970 3660 w
10 /LucidaTypewriter f
(p) 2665 3660 w
10 /LucidaSans-Italic f
(D) 2737 3660 w
10 /LucidaTypewriter f
(67.33) 2811 3660 w
10 /LucidaSansUnicode00 f
(will be the last third of the device) 3203 3660 w
10 /LucidaSans-Italic f
(D) 4861 3660 w
10 /LucidaSansUnicode00 f
(.) 4935 3660 w
10 /LucidaSans-Italic f
(D) 720 3816 w
10 /LucidaSansUnicode00 f
(=) 826 3816 w
10 /LucidaTypewriter f
(f) 938 3816 w
10 /LucidaSans-Italic f
(D) 1010 3816 w
10 /LucidaSansUnicode00 f
(This) 970 3936 w
(is) 1234 3936 w
(a) 1373 3936 w
(fake) 1487 3936 w
(write-once-read-many) 1752 3936 w
(device) 2932 3936 w
(simulated) 3298 3936 w
(by) 3833 3936 w
(a) 4008 3936 w
(second) 4123 3936 w
(read-write) 4527 3936 w
(device.) 970 4056 w
(This) 1393 4056 w
(second) 1650 4056 w
(device) 2046 4056 w
(is) 2405 4056 w
(partitioned) 2537 4056 w
(into) 3122 4056 w
(a) 3362 4056 w
(set) 3468 4056 w
(of) 3663 4056 w
(block) 3812 4056 w
(flags) 4125 4056 w
(and) 4410 4056 w
(a) 4641 4056 w
(set) 4747 4056 w
(of) 4942 4056 w
(blocks.) 970 4176 w
(The) 1395 4176 w
(flags) 1624 4176 w
(are) 1906 4176 w
(used) 2106 4176 w
(to) 2386 4176 w
(generate) 2532 4176 w
(errors) 3005 4176 w
(if) 3344 4176 w
(a) 3458 4176 w
(block) 3561 4176 w
(is) 3871 4176 w
(ever) 3999 4176 w
(written) 4252 4176 w
(twice) 4639 4176 w
(or) 4938 4176 w
(read without being written first.) 970 4296 w
10 /LucidaSans-Italic f
(D) 720 4452 w
10 /LucidaSansUnicode00 f
(=) 826 4452 w
10 /LucidaTypewriter f
(c) 938 4452 w
10 /LucidaSans-Italic f
(DD) 1010 4452 w
10 /LucidaSansUnicode00 f
(This) 970 4572 w
(is) 1232 4572 w
(the) 1369 4572 w
(cache/WORM) 1581 4572 w
(device) 2279 4572 w
(made) 2643 4572 w
(up) 2967 4572 w
(of) 3149 4572 w
(a) 3304 4572 w
(cache) 3416 4572 w
(\(read-write\)) 3748 4572 w
(device) 4384 4572 w
(and) 4748 4572 w
(a) 4985 4572 w
(WORM \(write-once-read-many\) device.) 970 4692 w
(More on this later.) 2937 4692 w
10 /LucidaSans-Italic f
(D) 720 4848 w
10 /LucidaSansUnicode00 f
(=) 826 4848 w
10 /LucidaTypewriter f
(o) 938 4848 w
10 /LucidaSansUnicode00 f
(This) 970 4968 w
(is) 1209 4968 w
(the) 1323 4968 w
(dump) 1512 4968 w
(file) 1827 4968 w
(system) 2012 4968 w
(that) 2386 4968 w
(is) 2611 4968 w
(the) 2725 4968 w
(two-level) 2914 4968 w
(hierarchy) 3403 4968 w
(of) 3886 4968 w
(all) 4018 4968 w
(dumps) 4165 4968 w
(ever) 4532 4968 w
(taken) 4772 4968 w
(on) 970 5088 w
(a) 1146 5088 w
(cache/WORM.) 1254 5088 w
(The) 2012 5088 w
(read-only) 2246 5088 w
(root) 2776 5088 w
(of) 3029 5088 w
(the) 3180 5088 w
(cache/WORM) 3388 5088 w
(file) 4082 5088 w
(system) 4285 5088 w
(\(on) 4677 5088 w
(the) 4885 5088 w
(dump) 970 5208 w
(taken) 1304 5208 w
(Feb) 1626 5208 w
(18,) 1853 5208 w
(1995\)) 2065 5208 w
(can) 2404 5208 w
(be) 2626 5208 w
(referenced) 2799 5208 w
(as) 3372 5208 w
10 /LucidaTypewriter f
(/1995/0218) 3532 5208 w
10 /LucidaSansUnicode00 f
(in) 4306 5208 w
(this) 4451 5208 w
(pseudo) 4684 5208 w
(device.) 970 5328 w
(The second dump taken that day will be) 1373 5328 w
10 /LucidaTypewriter f
(/1995/02181) 3347 5328 w
10 /LucidaSansUnicode00 f
(.) 4139 5328 w
10 /LucidaSans-Italic f
(D) 720 5484 w
10 /LucidaSansUnicode00 f
(=) 826 5484 w
10 /LucidaTypewriter f
(w) 938 5484 w
10 /LucidaSans-Italic f
(N1.N2) 1010 5484 w
10 /LucidaSansUnicode00 f
(This is a SCSI disk on controller N1 and target N2.) 970 5604 w
10 /LucidaSans-Italic f
(D) 720 5760 w
10 /LucidaSansUnicode00 f
(=) 826 5760 w
10 /LucidaTypewriter f
(l) 938 5760 w
10 /LucidaSans-Italic f
(N1.N2) 1010 5760 w
10 /LucidaSansUnicode00 f
(This is the same as) 970 5880 w
10 /LucidaTypewriter f
(w) 1931 5880 w
10 /LucidaSansUnicode00 f
(, but one block from the SCSI disk is removed for labeling.) 2003 5880 w
10 /LucidaSans-Italic f
(D) 720 6036 w
10 /LucidaSansUnicode00 f
(=) 826 6036 w
10 /LucidaTypewriter f
(j\() 938 6036 w
10 /LucidaSans-Italic f
(D) 1082 6036 w
8 /LucidaSans-Italic f
(1) 1156 6086 w
10 /LucidaSans-Italic f
(D) 1206 6036 w
8 /LucidaSans-Italic f
(2) 1280 6086 w
10 /LucidaTypewriter f
(*\)) 1330 6036 w
10 /LucidaSans-Italic f
(D) 1474 6036 w
8 /LucidaSans-Italic f
(3) 1548 6086 w
10 /LucidaSans-Italic f
(D) 970 6156 w
8 /LucidaSans-Italic f
(1) 1044 6206 w
10 /LucidaSansUnicode00 f
(is) 1130 6156 w
(the) 1246 6156 w
(juke) 1437 6156 w
(box) 1679 6156 w
(SCSI) 1900 6156 w
(interface.) 2142 6156 w
(The) 2666 6156 w
10 /LucidaSans-Italic f
(D) 2883 6156 w
8 /LucidaSans-Italic f
(2) 2957 6206 w
10 /LucidaSansUnicode20 f
(\031) 3007 6156 w
10 /LucidaSansUnicode00 f
(s) 3039 6156 w
(are) 3126 6156 w
(the) 3314 6156 w
(SCSI) 3505 6156 w
(drives) 3747 6156 w
(in) 4075 6156 w
(the) 4203 6156 w
(juke) 4395 6156 w
(box) 4638 6156 w
(and) 4860 6156 w
(the) 970 6276 w
10 /LucidaSans-Italic f
(D) 1166 6276 w
8 /LucidaSans-Italic f
(3) 1240 6326 w
10 /LucidaSansUnicode20 f
(\031) 1290 6276 w
10 /LucidaSansUnicode00 f
(s) 1322 6276 w
(are) 1414 6276 w
(the) 1607 6276 w
(demountable) 1803 6276 w
(platters) 2480 6276 w
(in) 2889 6276 w
(the) 3020 6276 w
(juke) 3215 6276 w
(box.) 3461 6276 w
10 /LucidaSans-Italic f
(D) 3750 6276 w
8 /LucidaSans-Italic f
(1) 3824 6326 w
10 /LucidaSansUnicode00 f
(and) 3914 6276 w
10 /LucidaSans-Italic f
(D) 4134 6276 w
8 /LucidaSans-Italic f
(2) 4208 6326 w
10 /LucidaSansUnicode00 f
(must) 4298 6276 w
(be) 4581 6276 w
10 /LucidaTypewriter f
(w) 4740 6276 w
10 /LucidaSansUnicode00 f
(.) 4812 6276 w
10 /LucidaSans-Italic f
(D) 4916 6276 w
8 /LucidaSans-Italic f
(3) 4990 6326 w
10 /LucidaSansUnicode00 f
(must be pseudo devices of) 970 6396 w
10 /LucidaTypewriter f
(w) 2304 6396 w
10 /LucidaSansUnicode00 f
(or) 2408 6396 w
10 /LucidaTypewriter f
(l) 2542 6396 w
10 /LucidaSansUnicode00 f
(devices.) 2646 6396 w
(For) 970 6552 w
(both) 1164 6552 w
10 /LucidaTypewriter f
(w) 1425 6552 w
10 /LucidaSansUnicode00 f
(and) 1535 6552 w
10 /LucidaTypewriter f
(r) 1753 6552 w
10 /LucidaSansUnicode00 f
(devices) 1863 6552 w
(any) 2259 6552 w
(of) 2466 6552 w
(the) 2602 6552 w
(configuration) 2796 6552 w
(numbers) 3484 6552 w
(can) 3951 6552 w
(be) 4158 6552 w
(replaced) 4316 6552 w
(by) 4769 6552 w
(an) 4923 6552 w
(iterator of the form) 720 6672 w
10 /LucidaTypewriter f
(<) 1690 6672 w
10 /LucidaSans-Italic f
(N1-N2) 1762 6672 w
10 /LucidaTypewriter f
(>) 2099 6672 w
10 /LucidaSansUnicode00 f
(.) 2171 6672 w
(Thus) 2267 6672 w
9 /LucidaTypewriter f
([w0.<2-6>]) 1268 6842 w
10 /LucidaSansUnicode00 f
(is) 720 7022 w
(the) 836 7022 w
(interleaved) 1028 7022 w
(SCSI) 1601 7022 w
(disks) 1844 7022 w
(on) 2133 7022 w
(SCSI) 2293 7022 w
(targets) 2536 7022 w
(2) 2912 7022 w
(through) 3012 7022 w
(6) 3436 7022 w
(of) 3536 7022 w
(SCSI) 3671 7022 w
(controller) 3914 7022 w
(0.) 4419 7022 w
(The) 4583 7022 w
(main) 4801 7022 w
(file system on Emelie is defined by the configuration string) 720 7142 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
10 /LucidaSansUnicode00 f
(\255 5 \255) 2783 480 w
9 /LucidaTypewriter f
(c[w1.<0-5>.0]j\(w6w5w4w3w2\)l\(<0-236>l<238-474>\)) 1268 830 w
10 /LucidaSansUnicode00 f
(This) 720 1010 w
(is) 964 1010 w
(a) 1083 1010 w
(cache/WORM) 1177 1010 w
(driver.) 1858 1010 w
(The) 2244 1010 w
(cache) 2465 1010 w
(is) 2780 1010 w
(three) 2900 1010 w
(interleaved) 3192 1010 w
(disks) 3768 1010 w
(on) 4060 1010 w
(SCSI) 4223 1010 w
(controller) 4469 1010 w
(1) 4977 1010 w
(targets 0, 1, 2, 3, 4, and 5.) 720 1130 w
(The WORM half of the cache/WORM is 474 jukebox disks.) 2097 1130 w
10 /LucidaSans-Demi f
(The read-ahead processes) 720 1370 w
10 /LucidaSansUnicode00 f
(There) 970 1526 w
(are) 1283 1526 w
(a) 1470 1526 w
(set) 1560 1526 w
(of) 1739 1526 w
(file) 1872 1526 w
(system) 2058 1526 w
(processes,) 2433 1526 w
10 /LucidaTypewriter f
(rah) 2981 1526 w
10 /LucidaSansUnicode00 f
(,) 3197 1526 w
(that) 3264 1526 w
(wait) 3491 1526 w
(for) 3725 1526 w
(messages) 3900 1526 w
(consisting) 4411 1526 w
(of) 4942 1526 w
(a) 720 1646 w
(device) 812 1646 w
(and) 1156 1646 w
(block) 1373 1646 w
(address.) 1671 1646 w
(When) 2151 1646 w
(a) 2453 1646 w
(message) 2544 1646 w
(comes) 3004 1646 w
(in,) 3352 1646 w
(the) 3511 1646 w
(process) 3702 1646 w
(reads) 4112 1646 w
(the) 4414 1646 w
(specified) 4605 1646 w
(block) 720 1766 w
(from) 1021 1766 w
(the) 1292 1766 w
(device.) 1486 1766 w
(This) 1897 1766 w
(is) 2142 1766 w
(done) 2262 1766 w
(by) 2544 1766 w
(calling) 2699 1766 w
10 /LucidaTypewriter f
(getbuf) 3056 1766 w
10 /LucidaSansUnicode00 f
(and) 3528 1766 w
10 /LucidaTypewriter f
(putbuf) 3748 1766 w
10 /LucidaSansUnicode00 f
(.) 4180 1766 w
(The) 4284 1766 w
(purpose) 4505 1766 w
(of) 4942 1766 w
(this) 720 1886 w
(is) 932 1886 w
(the) 1045 1886 w
(hope) 1233 1886 w
(that) 1508 1886 w
(these) 1732 1886 w
(blocks) 2027 1886 w
(will) 2373 1886 w
(be) 2570 1886 w
(used later and that they will reside in the buffer) 2722 1886 w
(cache long enough not to be discarded before they are used.) 720 2006 w
(The) 970 2162 w
(messages) 1187 2162 w
(to) 1698 2162 w
(the) 1832 2162 w
(read-ahead) 2023 2162 w
(processes) 2623 2162 w
(are) 3140 2162 w
(generated) 3328 2162 w
(by) 3852 2162 w
(the) 4003 2162 w
(server) 4194 2162 w
(processes.) 4527 2162 w
(The) 720 2282 w
(server) 950 2282 w
(processes) 1296 2282 w
(maintain) 1826 2282 w
(a) 2296 2282 w
(relative) 2399 2282 w
(block) 2802 2282 w
(mark) 3112 2282 w
(in) 3407 2282 w
(every) 3546 2282 w
(open) 3851 2282 w
(file.) 4141 2282 w
(Whenever) 4404 2282 w
(an) 4923 2282 w
(open) 720 2402 w
(file) 1002 2402 w
(reads) 1193 2402 w
(that) 1499 2402 w
(relative) 1730 2402 w
(block,) 2126 2402 w
(the) 2461 2402 w
(next) 2657 2402 w
(110) 2914 2402 w
(block) 3144 2402 w
(addresses) 3447 2402 w
(of) 3975 2402 w
(the) 4114 2402 w
(file) 4310 2402 w
(are) 4502 2402 w
(sent) 4695 2402 w
(to) 4942 2402 w
(the) 720 2522 w
(read-ahead) 919 2522 w
(processes) 1527 2522 w
(and) 2052 2522 w
(the) 2276 2522 w
(relative) 2475 2522 w
(block) 2874 2522 w
(mark) 3179 2522 w
(is) 3469 2522 w
(advanced) 3592 2522 w
(by) 4092 2522 w
(100.) 4250 2522 w
(The) 4546 2522 w
(initial) 4770 2522 w
(relative) 720 2642 w
(block) 1118 2642 w
(is) 1423 2642 w
(set) 1547 2642 w
(to) 1735 2642 w
(1.) 1877 2642 w
(If) 2048 2642 w
(the) 2158 2642 w
(file) 2357 2642 w
(is) 2552 2642 w
(opened) 2676 2642 w
(and) 3081 2642 w
(only) 3305 2642 w
(a) 3553 2642 w
(few) 3652 2642 w
(bytes) 3866 2642 w
(are) 4169 2642 w
(read,) 4365 2642 w
(then) 4656 2642 w
(no) 4917 2642 w
(anticipating) 720 2762 w
(reads) 1326 2762 w
(are) 1627 2762 w
(performed) 1814 2762 w
(since) 2360 2762 w
(the) 2644 2762 w
(relative) 2834 2762 w
(block) 3224 2762 w
(mark) 3521 2762 w
(is) 3803 2762 w
(set) 3918 2762 w
(to) 4097 2762 w
(1) 4229 2762 w
(and) 4326 2762 w
(only) 4540 2762 w
(block) 4778 2762 w
(offset 0 is read.) 720 2882 w
(This is to prevent some fairly common action such as) 1549 2882 w
9 /LucidaTypewriter f
(file) 1268 3052 w
(*) 1593 3052 w
10 /LucidaSansUnicode00 f
(from swamping the file system with read-ahead requests that will never be used.) 720 3232 w
10 /LucidaSans-Demi f
(Cache/WORM Driver) 720 3472 w
10 /LucidaSansUnicode00 f
(The) 970 3628 w
(cache/WORM) 1204 3628 w
(\(cw\)) 1898 3628 w
(driver) 2145 3628 w
(is) 2480 3628 w
(by) 2613 3628 w
(far) 2781 3628 w
(the) 2967 3628 w
(largest) 3176 3628 w
(and) 3561 3628 w
(most) 3795 3628 w
(complicated) 4091 3628 w
(device) 4733 3628 w
(driver) 720 3748 w
(in) 1038 3748 w
(the) 1165 3748 w
(file) 1356 3748 w
(server.) 1543 3748 w
(There) 1940 3748 w
(are) 2254 3748 w
(four) 2442 3748 w
(devices) 2678 3748 w
(involved) 3071 3748 w
(in) 3510 3748 w
(the) 3636 3748 w
(cw) 3826 3748 w
(driver.) 3989 3748 w
(It) 4370 3748 w
(implements) 4471 3748 w
(a) 720 3868 w
(read/write) 817 3868 w
(pseudo-device) 1367 3868 w
(\(the) 2130 3868 w
(cw-device\)) 2360 3868 w
(and) 2928 3868 w
(a) 3150 3868 w
(read-only) 3247 3868 w
(pseudo-device) 3766 3868 w
(\(the) 4529 3868 w
(dump) 4759 3868 w
(device\)) 720 3988 w
(by) 1097 3988 w
(performing) 1249 3988 w
(operations) 1831 3988 w
(on) 2384 3988 w
(its) 2544 3988 w
(two) 2698 3988 w
(constituent) 2909 3988 w
(devices) 3490 3988 w
(the) 3884 3988 w
(read-write) 4075 3988 w
(c-device) 4624 3988 w
(and) 720 4108 w
(the) 945 4108 w
(write-once-read-many) 1145 4108 w
(w-device.) 2311 4108 w
(The) 2862 4108 w
(block) 3088 4108 w
(numbers) 3395 4108 w
(on) 3868 4108 w
(the) 4036 4108 w
(four) 4237 4108 w
(devices) 4484 4108 w
(are) 4888 4108 w
(distinct,) 720 4228 w
(although) 1157 4228 w
(the) 1633 4228 w
(cw) 1834 4228 w
(addresses,) 2008 4228 w
(dump) 2573 4228 w
(addresses,) 2900 4228 w
(and) 3465 4228 w
(the) 3691 4228 w
(w) 3892 4228 w
(addresses) 4015 4228 w
(are) 4547 4228 w
(highly) 4744 4228 w
(correlated.) 720 4348 w
(The cw-driver uses the w-device as the stable storage of the file system) 970 4504 w
(at) 4512 4504 w
(the) 4637 4504 w
(time) 4825 4504 w
(of) 720 4624 w
(the) 854 4624 w
(last) 1045 4624 w
(dump.) 1253 4624 w
(All) 1634 4624 w
(newly) 1797 4624 w
(written) 2109 4624 w
(and) 2484 4624 w
(a) 2700 4624 w
(large) 2791 4624 w
(number) 3070 4624 w
(of) 3482 4624 w
(recently) 3615 4624 w
(used) 4034 4624 w
(exact) 4301 4624 w
(copies) 4596 4624 w
(of) 4942 4624 w
(blocks) 720 4744 w
(of) 1067 4744 w
(the) 1199 4744 w
(w-device) 1388 4744 w
(are) 1864 4744 w
(kept) 2050 4744 w
(on) 2298 4744 w
(the) 2455 4744 w
(c-device.) 2645 4744 w
(The) 3160 4744 w
(c-device) 3376 4744 w
(is) 3827 4744 w
(much) 3942 4744 w
(smaller) 4245 4744 w
(than) 4634 4744 w
(the) 4885 4744 w
(w-device) 720 4864 w
(and) 1217 4864 w
(so) 1452 4864 w
(the) 1619 4864 w
(subset) 1829 4864 w
(of) 2204 4864 w
(w-blocks) 2357 4864 w
(that) 2860 4864 w
(are) 3106 4864 w
(kept) 3313 4864 w
(on) 3582 4864 w
(the) 3760 4864 w
(c-device) 3970 4864 w
(are) 4441 4864 w
(mapped) 4647 4864 w
(through a hash table kept on a partition of the c-device.) 720 4984 w
(The) 970 5140 w
(map) 1186 5140 w
(portion) 1432 5140 w
(of) 1821 5140 w
(the) 1954 5140 w
(c-device) 2144 5140 w
(consists) 2595 5140 w
(of) 3023 5140 w
(blocks) 3157 5140 w
(of) 3506 5140 w
(buckets) 3640 5140 w
(of) 4054 5140 w
(entries.) 4188 5140 w
(The) 4620 5140 w
(dec\255) 4837 5140 w
(larations follow.) 720 5260 w
9 /LucidaTypewriter f
(enum) 1268 5430 w
({) 1268 5540 w
(BKPERBLK) 1528 5650 w
(=) 2113 5650 w
(10,) 2243 5650 w
(CEPERBK) 1528 5760 w
(=) 2113 5760 w
(\(BUFSIZE) 2243 5760 w
(-) 2828 5760 w
(BKPERBLK*sizeof\(long\)\)) 2958 5760 w
(/) 4453 5760 w
(\(sizeof\(Centry\)*BKPERBLK\),) 2243 5870 w
(};) 1268 5980 w
(typedef) 1268 6210 w
(struct) 1268 6320 w
({) 1268 6430 w
(ushort) 1528 6540 w
(age;) 2113 6540 w
(short) 1528 6650 w
(state;) 2113 6650 w
(long) 1528 6760 w
(waddr;) 2113 6760 w
(}) 1268 6870 w
(Centry;) 1398 6870 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
10 /LucidaSansUnicode00 f
(\255 6 \255) 2783 480 w
9 /LucidaTypewriter f
(typedef) 1268 830 w
(struct) 1268 940 w
({) 1268 1050 w
(long) 1528 1160 w
(agegen;) 2113 1160 w
(Centry) 1528 1270 w
(entry[CEPERBK];) 2113 1270 w
(}) 1268 1380 w
(Bucket;) 1398 1380 w
(Bucket) 1268 1610 w
(bucket[BKPERBLK];) 1853 1610 w
10 /LucidaSansUnicode00 f
(There) 720 1790 w
(is) 1035 1790 w
(exactly) 1152 1790 w
(one) 1530 1790 w
(entry) 1746 1790 w
(structure) 2031 1790 w
(for) 2506 1790 w
(each) 2682 1790 w
(block) 2943 1790 w
(in) 3242 1790 w
(the) 3370 1790 w
(data) 3563 1790 w
(partition) 3811 1790 w
(of) 4263 1790 w
(the) 4399 1790 w
(c-device.) 4592 1790 w
(A) 720 1910 w
(bucket) 832 1910 w
(contains) 1202 1910 w
(all) 1653 1910 w
(of) 1809 1910 w
(the) 1950 1910 w
(w-addresses) 2148 1910 w
(that) 2813 1910 w
(have) 3047 1910 w
(the) 3315 1910 w
(same) 3513 1910 w
(hash) 3811 1910 w
(code.) 4083 1910 w
(There) 4420 1910 w
(are) 4740 1910 w
(as) 4934 1910 w
(many) 720 2030 w
(buckets) 1024 2030 w
(as) 1444 2030 w
(will) 1592 2030 w
(fit) 1798 2030 w
(in) 1943 2030 w
(a) 2076 2030 w
(block) 2173 2030 w
(and) 2477 2030 w
(enough) 2699 2030 w
(blocks) 3106 2030 w
(to) 3461 2030 w
(have) 3602 2030 w
(the) 3870 2030 w
(required) 4068 2030 w
(number) 4522 2030 w
(of) 4942 2030 w
(entries.) 720 2150 w
(The) 1151 2150 w
(entries) 1367 2150 w
(in) 1734 2150 w
(the) 1860 2150 w
(bucket) 2050 2150 w
(are) 2412 2150 w
(maintained) 2599 2150 w
(in) 3175 2150 w
(FIFO) 3301 2150 w
(order) 3551 2150 w
(with) 3848 2150 w
(an) 4088 2150 w
(age) 4239 2150 w
(variable) 4446 2150 w
(and) 4860 2150 w
(an) 720 2270 w
(incrementing) 874 2270 w
(age) 1551 2270 w
(generator.) 1761 2270 w
(When) 2333 2270 w
(the) 2636 2270 w
(age) 2828 2270 w
(generator) 3038 2270 w
(is) 3546 2270 w
(about) 3663 2270 w
(to) 3978 2270 w
(overflow,) 4114 2270 w
(all) 4598 2270 w
(of) 4749 2270 w
(the) 4885 2270 w
(ages in the bucket are rescaled from zero.) 720 2390 w
(The) 970 2546 w
(following) 1191 2546 w
(steps) 1678 2546 w
(go) 1976 2546 w
(into) 2139 2546 w
(converting) 2368 2546 w
(a) 2921 2546 w
(w-address) 3016 2546 w
(into) 3571 2546 w
(a) 3801 2546 w
(c-address.) 3897 2546 w
(The) 4491 2546 w
(bucket) 4713 2546 w
(is found by) 720 2666 w
9 /LucidaTypewriter f
(bucket_number) 1268 2836 w
(=) 2178 2836 w
(w-address) 2308 2836 w
(%) 2958 2836 w
(total_buckets) 3088 2836 w
(getbuf\(c-device,) 1268 2946 w
(bucket_offset) 2373 2946 w
(+) 3283 2946 w
(bucket_number/BKPERBLK\);) 3413 2946 w
10 /LucidaSansUnicode00 f
(After) 720 3126 w
(the) 1004 3126 w
(desired) 1203 3126 w
(bucket) 1606 3126 w
(is) 1977 3126 w
(found,) 2101 3126 w
(the) 2462 3126 w
(desired) 2661 3126 w
(entry) 3064 3126 w
(is) 3356 3126 w
(found) 3480 3126 w
(by) 3809 3126 w
(a) 3968 3126 w
(linear) 4067 3126 w
(search) 4383 3126 w
(within) 4744 3126 w
(the bucket for the entry with the desired) 720 3246 w
10 /LucidaTypewriter f
(waddr) 2719 3246 w
10 /LucidaSansUnicode00 f
(.) 3079 3246 w
(The state variable in the entry is one of the following.) 970 3402 w
9 /LucidaTypewriter f
(enum) 1268 3572 w
({) 1268 3682 w
(Cnone) 1528 3792 w
(=) 2113 3792 w
(0,) 2243 3792 w
(Cdirty,) 1528 3902 w
(Cdump,) 1528 4012 w
(Cread,) 1528 4122 w
(Cwrite,) 1528 4232 w
(Cdump1,) 1528 4342 w
(};) 1268 4452 w
10 /LucidaSansUnicode00 f
(Every) 720 4632 w
(w-address) 1013 4632 w
(has) 1566 4632 w
(a) 1772 4632 w
(state.) 1865 4632 w
(Blocks) 2203 4632 w
(that) 2549 4632 w
(are) 2778 4632 w
(not) 2968 4632 w
(in) 3166 4632 w
(the) 3296 4632 w
(c-device) 3490 4632 w
(have) 3945 4632 w
(the) 4209 4632 w
(implied) 4403 4632 w
(state) 4804 4632 w
10 /LucidaTypewriter f
(Cnone) 720 4752 w
10 /LucidaSansUnicode00 f
(.) 1080 4752 w
(The) 1186 4752 w
10 /LucidaTypewriter f
(Cread) 1409 4752 w
10 /LucidaSansUnicode00 f
(state) 1811 4752 w
(is) 2089 4752 w
(for) 2211 4752 w
(blocks) 2392 4752 w
(that) 2747 4752 w
(have) 2980 4752 w
(the) 3247 4752 w
(same) 3444 4752 w
(data) 3741 4752 w
(as) 3993 4752 w
(the) 4141 4752 w
(corresponding) 4337 4752 w
(block) 720 4872 w
(in) 1032 4872 w
(the) 1173 4872 w
(w-device.) 1378 4872 w
(Since) 1934 4872 w
(the) 2236 4872 w
(c-device) 2441 4872 w
(is) 2907 4872 w
(much) 3037 4872 w
(faster) 3355 4872 w
(than) 3682 4872 w
(the) 3949 4872 w
(w-device,) 4155 4872 w
10 /LucidaTypewriter f
(Cread) 4680 4872 w
10 /LucidaSansUnicode00 f
(blocks) 720 4992 w
(are) 1083 4992 w
(kept) 1285 4992 w
(as) 1549 4992 w
(long) 1705 4992 w
(as) 1969 4992 w
(possible) 2125 4992 w
(and) 2578 4992 w
(used) 2808 4992 w
(in) 3090 4992 w
(preference) 3230 4992 w
(to) 3798 4992 w
(reading) 3945 4992 w
(the) 4362 4992 w
(w-device.) 4566 4992 w
10 /LucidaTypewriter f
(Cread) 720 5112 w
10 /LucidaSansUnicode00 f
(blocks) 1115 5112 w
(may) 1463 5112 w
(be) 1698 5112 w
(discarded) 1852 5112 w
(from) 2359 5112 w
(the) 2626 5112 w
(c-device) 2817 5112 w
(when) 3269 5112 w
(the) 3562 5112 w
(space) 3753 5112 w
(is) 4065 5112 w
(needed) 4181 5112 w
(for) 4573 5112 w
(newer) 4748 5112 w
(data.) 720 5232 w
(The) 1027 5232 w
10 /LucidaTypewriter f
(Cwrite) 1241 5232 w
10 /LucidaSansUnicode00 f
(state) 1706 5232 w
(is) 1975 5232 w
(when) 2088 5232 w
(the) 2378 5232 w
(c-device) 2566 5232 w
(contains) 3015 5232 w
(newer data than the correspond\255) 3456 5232 w
(ing) 720 5352 w
(block) 911 5352 w
(on) 1211 5352 w
(the) 1372 5352 w
(w-device.) 1565 5352 w
(This) 2109 5352 w
(happens) 2352 5352 w
(when) 2802 5352 w
(a) 3097 5352 w
10 /LucidaTypewriter f
(Cnone) 3190 5352 w
10 /LucidaSansUnicode00 f
(,) 3550 5352 w
10 /LucidaTypewriter f
(Cread) 3620 5352 w
10 /LucidaSansUnicode00 f
(,) 3980 5352 w
(or) 4050 5352 w
10 /LucidaTypewriter f
(Cwrite) 4190 5352 w
10 /LucidaSansUnicode00 f
(block) 4660 5352 w
(is) 4960 5352 w
(written.) 720 5472 w
(The) 1156 5472 w
10 /LucidaTypewriter f
(Cdirty) 1370 5472 w
10 /LucidaSansUnicode00 f
(state) 1835 5472 w
(is) 2104 5472 w
(when) 2217 5472 w
(the) 2507 5472 w
(c-device) 2695 5472 w
(contains) 3144 5472 w
(new) 3585 5472 w
(data) 3813 5472 w
(and) 4056 5472 w
(the) 4269 5472 w
(correspond\255) 4457 5472 w
(ing) 720 5592 w
(block) 910 5592 w
(on) 1209 5592 w
(the) 1369 5592 w
(w-device) 1561 5592 w
(has) 2040 5592 w
(never) 2245 5592 w
(been) 2549 5592 w
(written.) 2823 5592 w
(This) 3263 5592 w
(happens) 3505 5592 w
(when) 3954 5592 w
(a) 4248 5592 w
(new) 4340 5592 w
(block) 4572 5592 w
(has) 4872 5592 w
(been allocated from the free space on the w-device.) 720 5712 w
(The) 970 5868 w
10 /LucidaTypewriter f
(Cwrite) 1194 5868 w
10 /LucidaSansUnicode00 f
(and) 1669 5868 w
10 /LucidaTypewriter f
(Cdirty) 1892 5868 w
10 /LucidaSansUnicode00 f
(blocks) 2367 5868 w
(are) 2723 5868 w
(created) 2918 5868 w
(and) 3320 5868 w
(never) 3543 5868 w
(removed.) 3854 5868 w
(Unless) 4384 5868 w
(some\255) 4746 5868 w
(thing) 720 5988 w
(is) 1013 5988 w
(done) 1134 5988 w
(to) 1417 5988 w
(convert) 1556 5988 w
(these) 1957 5988 w
(blocks,) 2260 5988 w
(the) 2646 5988 w
(c-device) 2842 5988 w
(will) 3299 5988 w
(gradually) 3504 5988 w
(fill) 3993 5988 w
(up) 4158 5988 w
(and) 4323 5988 w
(stop) 4543 5988 w
(func\255) 4795 5988 w
(tioning.) 720 6108 w
(Once a day, or by command, a) 1158 6108 w
10 /LucidaSans-Italic f
(dump) 2668 6108 w
10 /LucidaSansUnicode00 f
(of the cw-device) 2977 6108 w
(is) 3820 6108 w
(taken.) 3933 6108 w
(The) 4298 6108 w
(purpose) 4512 6108 w
(of) 4942 6108 w
(a) 720 6228 w
(dump) 816 6228 w
(is) 1138 6228 w
(to) 1259 6228 w
(queue) 1398 6228 w
(the) 1738 6228 w
(writes) 1934 6228 w
(that) 2266 6228 w
(have) 2498 6228 w
(been) 2764 6228 w
(shunted) 3042 6228 w
(to) 3476 6228 w
(the) 3615 6228 w
(c-device) 3810 6228 w
(to) 4266 6228 w
(be) 4404 6228 w
(written) 4563 6228 w
(to) 4942 6228 w
(the) 720 6348 w
(w-device.) 918 6348 w
(Since) 1468 6348 w
(the) 1764 6348 w
(w-device) 1963 6348 w
(is) 2449 6348 w
(a) 2573 6348 w
(WORM,) 2672 6348 w
(blocks) 3061 6348 w
(cannot) 3418 6348 w
(be) 3790 6348 w
(rewritten.) 3953 6348 w
(Blocks) 4497 6348 w
(that) 4849 6348 w
(have) 720 6468 w
(already) 984 6468 w
(been) 1374 6468 w
(written) 1650 6468 w
(to) 2028 6468 w
(the) 2165 6468 w
(WORM) 2358 6468 w
(must) 2709 6468 w
(be) 2990 6468 w
(relocated) 3147 6468 w
(to) 3634 6468 w
(the) 3770 6468 w
(unused) 3963 6468 w
(portion) 4357 6468 w
(of) 4749 6468 w
(the) 4885 6468 w
(w-device.) 720 6588 w
(These are precisely the blocks with) 1258 6588 w
10 /LucidaTypewriter f
(Cwrite) 2991 6588 w
10 /LucidaSansUnicode00 f
(state.) 3455 6588 w
(The) 970 6744 w
(dump) 1191 6744 w
(algorithm) 1512 6744 w
(is) 2021 6744 w
(as) 2141 6744 w
(follows:) 2287 6744 w
(a\)) 2704 6744 w
(The) 2832 6744 w
(tree) 3054 6744 w
(on) 3285 6744 w
(the) 3449 6744 w
(cw-device) 3645 6744 w
(is) 4179 6744 w
(walked) 4300 6744 w
(as) 4679 6744 w
(long) 4826 6744 w
(as) 720 6864 w
(the) 860 6864 w
(blocks) 1049 6864 w
(visited) 1396 6864 w
(have) 1747 6864 w
(been) 2006 6864 w
(modified) 2277 6864 w
(since) 2742 6864 w
(the) 3024 6864 w
(last) 3212 6864 w
(dump.) 3417 6864 w
(These) 3795 6864 w
(are) 4116 6864 w
(the) 4301 6864 w
(blocks) 4489 6864 w
(with) 4835 6864 w
(state) 720 6984 w
10 /LucidaTypewriter f
(Cwrite) 995 6984 w
10 /LucidaSansUnicode00 f
(and) 1466 6984 w
10 /LucidaTypewriter f
(Cdirty) 1685 6984 w
10 /LucidaSansUnicode00 f
(.) 2117 6984 w
(It) 2220 6984 w
(is) 2325 6984 w
(possible) 2444 6984 w
(to) 2886 6984 w
(restrict) 3023 6984 w
(the) 3405 6984 w
(search) 3599 6984 w
(to) 3954 6984 w
(within) 4091 6984 w
(these) 4426 6984 w
(blocks) 4727 6984 w
(since) 720 7104 w
(the) 1002 7104 w
(directory) 1190 7104 w
(containing) 1654 7104 w
(a) 2197 7104 w
(modified) 2285 7104 w
(file) 2749 7104 w
(must) 2933 7104 w
(have) 3209 7104 w
(been) 3467 7104 w
(accessed) 3737 7104 w
(to) 4204 7104 w
(modify the file) 4335 7104 w
(and) 720 7224 w
(accessing) 938 7224 w
(a) 1444 7224 w
(directory) 1537 7224 w
(will) 2006 7224 w
(set) 2208 7224 w
(its) 2390 7224 w
(modified) 2545 7224 w
(time) 3014 7224 w
(thus) 3268 7224 w
(causing) 3519 7224 w
(the) 3930 7224 w
(block) 4124 7224 w
(containing) 4425 7224 w
(it) 4974 7224 w
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
10 /LucidaSansUnicode00 f
(\255 7 \255) 2783 480 w
(to) 720 840 w
(be) 866 840 w
(written.) 1033 840 w
(The) 1484 840 w
(directory) 1712 840 w
(containing) 2190 840 w
(that) 2747 840 w
(directory) 2985 840 w
(must) 3463 840 w
(be) 3753 840 w
(modified) 3919 840 w
(for) 4397 840 w
(the) 4583 840 w
(same) 4785 840 w
(reason.) 720 960 w
(The) 1161 960 w
(tree) 1393 960 w
(walk) 1634 960 w
(is) 1904 960 w
(thus) 2036 960 w
(drastically) 2300 960 w
(restrained) 2844 960 w
(and) 3387 960 w
(the) 3619 960 w
(tree) 3826 960 w
(walk) 4068 960 w
(does) 4339 960 w
(not) 4622 960 w
(take) 4834 960 w
(much) 720 1080 w
(time.) 1029 1080 w
(b\)) 1349 1080 w
(All) 1486 1080 w
10 /LucidaTypewriter f
(Cwrite) 1654 1080 w
10 /LucidaSansUnicode00 f
(blocks) 2127 1080 w
(found) 2481 1080 w
(in) 2807 1080 w
(the) 2938 1080 w
(tree) 3133 1080 w
(search) 3363 1080 w
(are) 3719 1080 w
(relocated) 3911 1080 w
(to) 4400 1080 w
(new) 4538 1080 w
(blank) 4773 1080 w
(blocks) 720 1200 w
(on) 1082 1200 w
(the) 1254 1200 w
(w-device) 1458 1200 w
(and) 1949 1200 w
(converted) 2178 1200 w
(to) 2706 1200 w
10 /LucidaTypewriter f
(Cdump) 2853 1200 w
10 /LucidaSansUnicode00 f
(state.) 3262 1200 w
(All) 3611 1200 w
10 /LucidaTypewriter f
(Cdirty) 3787 1200 w
10 /LucidaSansUnicode00 f
(blocks) 4268 1200 w
(are) 4631 1200 w
(con\255) 4833 1200 w
(verted) 720 1320 w
(to) 1065 1320 w
10 /LucidaTypewriter f
(Cdump) 1203 1320 w
10 /LucidaSansUnicode00 f
(state) 1603 1320 w
(without) 1879 1320 w
(relocation.) 2284 1320 w
(At) 2870 1320 w
(this) 3015 1320 w
(point,) 3233 1320 w
(all) 3556 1320 w
(modified) 3708 1320 w
(blocks) 4178 1320 w
(in) 4530 1320 w
(the) 4660 1320 w
(cw-) 4854 1320 w
(device) 720 1440 w
(have) 1092 1440 w
(w-addresses) 1382 1440 w
(that) 2069 1440 w
(point) 2325 1440 w
(to) 2642 1440 w
(unwritten) 2805 1440 w
(WORM) 3333 1440 w
(blocks.) 3712 1440 w
(These) 4155 1440 w
(blocks) 4509 1440 w
(are) 4888 1440 w
(marked) 720 1560 w
(for) 1133 1560 w
(later) 1319 1560 w
(writing) 1584 1560 w
(to) 1968 1560 w
(the) 2113 1560 w
(w-device) 2315 1560 w
(with) 2804 1560 w
(the) 3056 1560 w
(state) 3258 1560 w
10 /LucidaTypewriter f
(Cdump) 3540 1560 w
10 /LucidaSansUnicode00 f
(.) 3900 1560 w
(c\)) 4010 1560 w
(All) 4140 1560 w
(open) 4313 1560 w
(files) 4601 1560 w
(that) 4849 1560 w
(were) 720 1680 w
(pointing) 983 1680 w
(to) 1421 1680 w
(modified) 1552 1680 w
(blocks) 2016 1680 w
(are) 2362 1680 w
(reopened) 2547 1680 w
(to) 3038 1680 w
(point) 3169 1680 w
(at) 3455 1680 w
(the) 3581 1680 w
(corresponding) 3770 1680 w
(reallocated) 4507 1680 w
(blocks.) 720 1800 w
(This) 1139 1800 w
(causes) 1386 1800 w
(the) 1754 1800 w
(directories) 1951 1800 w
(leading) 2508 1800 w
(to) 2906 1800 w
(the) 3046 1800 w
(open) 3243 1800 w
(files) 3527 1800 w
(to) 3771 1800 w
(be) 3910 1800 w
(modified.) 4070 1800 w
(Thus) 4606 1800 w
(the) 4885 1800 w
(invariant) 720 1920 w
(discussed) 1177 1920 w
(in) 1690 1920 w
(a\)) 1817 1920 w
(is) 1941 1920 w
(maintained.) 2057 1920 w
(d\)) 2698 1920 w
(The) 2830 1920 w
(background) 3047 1920 w
(dumping) 3661 1920 w
(process) 4131 1920 w
(will) 4541 1920 w
(slowly) 4741 1920 w
(go through the map of the c-device and write out all blocks with) 720 2040 w
10 /LucidaTypewriter f
(Cdump) 3892 2040 w
10 /LucidaSansUnicode00 f
(state.) 4284 2040 w
(The) 970 2196 w
(dump) 1193 2196 w
(takes) 1516 2196 w
(a) 1815 2196 w
(few) 1912 2196 w
(minutes) 2124 2196 w
(to) 2556 2196 w
(walk) 2696 2196 w
(the) 2957 2196 w
(tree) 3154 2196 w
(and) 3386 2196 w
(mark) 3608 2196 w
(the) 3897 2196 w
(blocks.) 4094 2196 w
(It) 4514 2196 w
(can) 4623 2196 w
(take) 4834 2196 w
(hours) 720 2316 w
(to) 1042 2316 w
(write) 1185 2316 w
(the) 1469 2316 w
(marked) 1668 2316 w
(blocks) 2078 2316 w
(to) 2435 2316 w
(the) 2577 2316 w
(WORM.) 2776 2316 w
(If) 3197 2316 w
(a) 3307 2316 w
(marked) 3406 2316 w
(block) 3816 2316 w
(is) 4122 2316 w
(rewritten) 4246 2316 w
(before) 4726 2316 w
(the) 720 2436 w
(old) 912 2436 w
(copy) 1102 2436 w
(has) 1366 2436 w
(been) 1571 2436 w
(written) 1846 2436 w
(to) 2223 2436 w
(the) 2359 2436 w
(WORM,) 2552 2436 w
(it) 2935 2436 w
(must) 3039 2436 w
(be) 3320 2436 w
(forced) 3477 2436 w
(to) 3824 2436 w
(the) 3960 2436 w
(WORM) 4153 2436 w
(before) 4504 2436 w
(it) 4856 2436 w
(is) 4960 2436 w
(rewritten.) 720 2556 w
(There) 1255 2556 w
(is) 1568 2556 w
(no) 1683 2556 w
(problem) 1841 2556 w
(if) 2282 2556 w
(another) 2383 2556 w
(dump) 2792 2556 w
(is) 3108 2556 w
(taken) 3223 2556 w
(before) 3526 2556 w
(the) 3874 2556 w
(first) 4063 2556 w
(one) 4292 2556 w
(is) 4505 2556 w
(finished.) 4619 2556 w
(The newly marked blocks are just added to the marked blocks left from the first dump.) 720 2676 w
(If there is an error writing a marked block to the WORM then the) 970 2832 w
10 /LucidaTypewriter f
(dump) 4131 2832 w
10 /LucidaSansUnicode00 f
(state) 4451 2832 w
(is) 4720 2832 w
(con\255) 4833 2832 w
(verted) 720 2952 w
(to) 1060 2952 w
10 /LucidaTypewriter f
(Cdump1) 1192 2952 w
10 /LucidaSansUnicode00 f
(and) 1658 2952 w
(manual) 1872 2952 w
(intervention) 2262 2952 w
(is) 2880 2952 w
(needed.) 2994 2952 w
(\(See) 3448 2952 w
(the) 3681 2952 w
10 /LucidaTypewriter f
(cwcmd) 3870 2952 w
(mvstate) 4264 2952 w
10 /LucidaSansUnicode00 f
(com\255) 4802 2952 w
(mand) 720 3072 w
(in) 1050 3072 w
10 /LucidaSans-Italic f
(fs) 1198 3072 w
10 /LucidaSansUnicode00 f
(\(8\)\).) 1285 3072 w
(These) 1568 3072 w
(blocks) 1913 3072 w
(can) 2283 3072 w
(be) 2508 3072 w
(disposed) 2685 3072 w
(of) 3180 3072 w
(by) 3336 3072 w
(converting) 3509 3072 w
(their) 4080 3072 w
(state) 4363 3072 w
(back) 4657 3072 w
(to) 4942 3072 w
10 /LucidaTypewriter f
(Cdump) 720 3192 w
10 /LucidaSansUnicode00 f
(so) 1116 3192 w
(that) 1264 3192 w
(they) 1491 3192 w
(will) 1734 3192 w
(be) 1934 3192 w
(written) 2089 3192 w
(again.) 2464 3192 w
(They) 2827 3192 w
(can) 3096 3192 w
(also) 3300 3192 w
(be) 3532 3192 w
(converted) 3687 3192 w
(to) 4202 3192 w
10 /LucidaTypewriter f
(Cwrite) 4336 3192 w
10 /LucidaSansUnicode00 f
(state) 4804 3192 w
(so that they will be allocated new addresses at the next) 720 3312 w
(dump.) 3447 3312 w
(In) 3825 3312 w
(most) 3949 3312 w
(other) 4224 3312 w
(respects,) 4514 3312 w
(a) 4985 3312 w
10 /LucidaTypewriter f
(Cdump1) 720 3432 w
10 /LucidaSansUnicode00 f
(block behaves like a) 1184 3432 w
10 /LucidaTypewriter f
(Cwrite) 2196 3432 w
10 /LucidaSansUnicode00 f
(block.) 2660 3432 w
10 /LucidaSans-Demi f
(Sync Copy and WORM Copy Processes) 720 3672 w
10 /LucidaSansUnicode00 f
(The) 970 3828 w
10 /LucidaTypewriter f
(scp) 1196 3828 w
10 /LucidaSansUnicode00 f
(process) 1457 3828 w
(wakes) 1877 3828 w
(up) 2220 3828 w
(every) 2391 3828 w
(ten) 2694 3828 w
(seconds) 2895 3828 w
(and) 3336 3828 w
(issues) 3562 3828 w
(writes) 3908 3828 w
(to) 4245 3828 w
(blocks) 4389 3828 w
(in) 4748 3828 w
(the) 4885 3828 w
(buffer) 720 3948 w
(cache) 1055 3948 w
(that) 1368 3948 w
(have) 1597 3948 w
(been) 1860 3948 w
(modified.) 2135 3948 w
(This) 2668 3948 w
(is) 2911 3948 w
(done) 3029 3948 w
(automatically) 3309 3948 w
(on) 3992 3948 w
(important) 4153 3948 w
(console) 4669 3948 w
(commands such as) 720 4068 w
10 /LucidaTypewriter f
(halt) 1677 4068 w
10 /LucidaSansUnicode00 f
(and) 1997 4068 w
10 /LucidaTypewriter f
(dump) 2209 4068 w
10 /LucidaSansUnicode00 f
(.) 2497 4068 w
(The) 970 4224 w
10 /LucidaTypewriter f
(wcp) 1187 4224 w
10 /LucidaSansUnicode00 f
(process) 1439 4224 w
(also) 1849 4224 w
(wakes) 2081 4224 w
(up) 2414 4224 w
(every) 2576 4224 w
(ten) 2870 4224 w
(seconds) 3062 4224 w
(and) 3494 4224 w
(tries) 3711 4224 w
(to) 3962 4224 w
(copy) 4097 4224 w
(a) 4361 4224 w
10 /LucidaTypewriter f
(dump) 4453 4224 w
10 /LucidaSansUnicode00 f
(block) 4778 4224 w
(from) 720 4344 w
(the) 987 4344 w
(cache) 1177 4344 w
(to) 1487 4344 w
(the) 1620 4344 w
(WORM.) 1810 4344 w
(As) 2222 4344 w
(long) 2377 4344 w
(as) 2626 4344 w
(there) 2767 4344 w
(are) 3054 4344 w
10 /LucidaTypewriter f
(dump) 3241 4344 w
10 /LucidaSansUnicode00 f
(blocks) 3563 4344 w
(to) 3910 4344 w
(copy) 4042 4344 w
(and) 4303 4344 w
(there) 4517 4344 w
(is) 4803 4344 w
(no) 4917 4344 w
(competition) 720 4464 w
(for) 1337 4464 w
(the) 1514 4464 w
(WORM) 1707 4464 w
(device,) 2059 4464 w
(the) 2437 4464 w
(copy) 2631 4464 w
(will) 2897 4464 w
(continue) 3100 4464 w
(at) 3559 4464 w
(full) 3690 4464 w
(speed.) 3886 4464 w
(Whenever) 4278 4464 w
(there) 4788 4464 w
(is) 720 4584 w
(competition) 838 4584 w
(for) 1455 4584 w
(the) 1631 4584 w
(WORM) 1823 4584 w
(or) 2173 4584 w
(there) 2312 4584 w
(are) 2601 4584 w
(no) 2790 4584 w
(more) 2950 4584 w
(blocks) 3238 4584 w
(to) 3588 4584 w
(copy,) 3723 4584 w
(then) 4019 4584 w
(the) 4273 4584 w
(process) 4465 4584 w
(will) 4876 4584 w
(sleep ten seconds before looking again.) 720 4704 w
(The) 970 4860 w
(HP) 1200 4860 w
(WORM) 1378 4860 w
(jukebox) 1740 4860 w
(consists) 2180 4860 w
(of) 2622 4860 w
(238) 2769 4860 w
(disks) 3007 4860 w
(divided) 3308 4860 w
(into) 3712 4860 w
(476) 3950 4860 w
(sides) 4188 4860 w
(or) 4487 4860 w
(platters.) 4639 4860 w
(Platter) 720 4980 w
(0) 1064 4980 w
(is) 1161 4980 w
(the) 1275 4980 w
10 /LucidaSans-Italic f
(A) 1464 4980 w
10 /LucidaSansUnicode00 f
(side) 1567 4980 w
(of) 1800 4980 w
(disk) 1932 4980 w
(0.) 2167 4980 w
(Platter) 2328 4980 w
(1) 2671 4980 w
(is) 2767 4980 w
(the) 2880 4980 w
10 /LucidaSans-Italic f
(A) 3068 4980 w
10 /LucidaSansUnicode00 f
(side) 3170 4980 w
(of) 3402 4980 w
(the) 3533 4980 w
(disk) 3721 4980 w
(1.) 3955 4980 w
(Platter) 4115 4980 w
(238) 4458 4980 w
(is) 4680 4980 w
(the) 4793 4980 w
10 /LucidaSans-Italic f
(B) 4981 4980 w
10 /LucidaSansUnicode00 f
(side) 720 5100 w
(of) 958 5100 w
(disk) 1095 5100 w
(0.) 1335 5100 w
(On) 1501 5100 w
(Emelie,) 1680 5100 w
(the) 2068 5100 w
(main) 2262 5100 w
(file) 2541 5100 w
(system) 2732 5100 w
(is) 3112 5100 w
(configured) 3232 5100 w
(on) 3796 5100 w
(both) 3959 5100 w
(sides) 4222 5100 w
(of) 4512 5100 w
(the) 4650 5100 w
(first) 4845 5100 w
(237 disks, platters 0-236 and 238-474.) 720 5220 w
10 /LucidaSans-Demi f
(9P Protocol Drivers) 720 5460 w
10 /LucidaSansUnicode00 f
(The) 970 5616 w
(file) 1200 5616 w
(server) 1401 5616 w
(described) 1748 5616 w
(so) 2271 5616 w
(far) 2433 5616 w
(waits) 2616 5616 w
(for) 2915 5616 w
(9P) 3104 5616 w
(protocol) 3272 5616 w
(messages) 3726 5616 w
(to) 4251 5616 w
(appear) 4399 5616 w
(in) 4782 5616 w
(its) 4923 5616 w
(input) 720 5736 w
(queue.) 1024 5736 w
(It) 1438 5736 w
(processes) 1555 5736 w
(each) 2087 5736 w
(message) 2362 5736 w
(and) 2837 5736 w
(sends) 3068 5736 w
(the) 3402 5736 w
(reply) 3608 5736 w
(back) 3900 5736 w
(to) 4177 5736 w
(the) 4325 5736 w
(originator.) 4530 5736 w
(There are groups of) 720 5856 w
(processes) 1717 5856 w
(that) 2231 5856 w
(perform) 2455 5856 w
(protocol) 2880 5856 w
(I/O) 3317 5856 w
(on) 3510 5856 w
(some) 3666 5856 w
(network) 3960 5856 w
(or) 4385 5856 w
(device) 4520 5856 w
(and) 4860 5856 w
(the resulting messages are sent to the file system queue.) 720 5976 w
(There) 970 6132 w
(are) 1287 6132 w
(two) 1478 6132 w
(sets) 1692 6132 w
(of) 1926 6132 w
(processes) 2063 6132 w
10 /LucidaTypewriter f
(ethi) 2583 6132 w
10 /LucidaSansUnicode00 f
(and) 2911 6132 w
10 /LucidaTypewriter f
(etho) 3131 6132 w
10 /LucidaSansUnicode00 f
(that) 3459 6132 w
(perform) 3690 6132 w
(Ethernet) 4122 6132 w
(input) 4567 6132 w
(and) 4860 6132 w
(output) 720 6252 w
(on) 1094 6252 w
(two) 1268 6252 w
(different) 1494 6252 w
(networks.) 1963 6252 w
(These) 2521 6252 w
(processes) 2860 6252 w
(send) 3392 6252 w
(Ethernet) 3675 6252 w
(messages) 4131 6252 w
(to/from) 4657 6252 w
(two) 720 6372 w
(more) 930 6372 w
(processes) 1216 6372 w
10 /LucidaTypewriter f
(ilo) 1732 6372 w
10 /LucidaSansUnicode00 f
(and) 1983 6372 w
10 /LucidaTypewriter f
(ilt) 2198 6372 w
10 /LucidaSansUnicode00 f
(that) 2449 6372 w
(do) 2675 6372 w
(the) 2834 6372 w
(IL) 3024 6372 w
(reliable) 3141 6372 w
(datagram) 3534 6372 w
(protocol) 4030 6372 w
(on) 4469 6372 w
(top) 4627 6372 w
(of) 4823 6372 w
(IP) 4956 6372 w
(packets.) 720 6492 w
(The last process in Emelie,) 970 6648 w
10 /LucidaTypewriter f
(con) 2297 6648 w
10 /LucidaSansUnicode00 f
(,) 2513 6648 w
(reads) 2578 6648 w
(the) 2877 6648 w
(console) 3065 6648 w
(and) 3469 6648 w
(calls) 3682 6648 w
(internal) 3930 6648 w
(subroutines) 4334 6648 w
(to) 4942 6648 w
(executes) 720 6768 w
(commands) 1189 6768 w
(typed.) 1757 6768 w
(Since) 2131 6768 w
(there) 2422 6768 w
(is) 2713 6768 w
(only) 2832 6768 w
(one) 3075 6768 w
(process,) 3293 6768 w
(only) 3738 6768 w
(one) 3981 6768 w
(command) 4199 6768 w
(can) 4715 6768 w
(be) 4921 6768 w
(executing) 720 6888 w
(at) 1238 6888 w
(a) 1372 6888 w
(time.) 1469 6888 w
(See) 1790 6888 w
10 /LucidaSans-Italic f
(fs) 1998 6888 w
10 /LucidaSansUnicode00 f
(\(8\)) 2085 6888 w
(for) 2257 6888 w
(a) 2439 6888 w
(description) 2537 6888 w
(of) 3123 6888 w
(the) 3264 6888 w
(commands) 3462 6888 w
(available) 4034 6888 w
(at) 4500 6888 w
(the) 4635 6888 w
(con\255) 4833 6888 w
(sole.) 720 7008 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Trailer
done
%%DocumentFonts: LucidaSansUnicode20 LucidaSansUnicode00 LucidaSans-Demi LucidaSans-Italic LucidaTypewriter
%%Pages: 7
