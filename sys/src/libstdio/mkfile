</$objtype/mkfile

LIB=/$objtype/lib/libstdio.a
FILES=\
	_IO_getc\
	_IO_putc\
	clearerr\
	dtoa\
	fclose\
	fdopen\
	feof\
	ferror\
	fflush\
	fgetc\
	fgetpos\
	fgets\
	fileno\
	fopen\
	fprintf\
	fputc\
	fputs\
	fread\
	freopen\
	fscanf\
	fseek\
	fsetpos\
	ftell\
	fwrite\
	getc\
	gets\
	printf\
	putc\
	puts\
	rewind\
	scanf\
	sclose\
	setbuf\
	setvbuf\
	snprintf\
	sopenr\
	sopenw\
	sprintf\
	sscanf\
	tmpfile\
	tmpnam\
	ungetc\
	vfprintf\
	vfscanf\
	vprintf\
	vsnprintf\
	vsprintf\

HFILES=/sys/include/stdio.h\
	iolib.h\

CFILES=${FILES:%=%.c}

OFILES=${FILES:%=%.$O}

UPDATE=mkfile\
	/386/lib/libstdio.a\
	$HFILES\
	Stdio.h\
	$CFILES\


</sys/src/cmd/mksyslib
# this code really can't handle any flow-analysis warnings
CFLAGS=

test:V:	$OFILES
	ar vu libstdio.a $OFILES

nuke:V:
	rm -f *.[$OS] [$OS].out libstdio.a
