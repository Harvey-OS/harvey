load("//sys/src/FLAGS", "LIB_COMPILER_FLAGS", "CMD_DEPS", "CMD_LINK_OPTS")

cc_binary(
	name = "flchk",
        copts = LIB_COMPILER_FLAGS,
        includes=[
            "//sys/include",
            "//amd64/include",
        ],
	srcs = [
		"9p.c",
		"9auth.c",
		"9dir.c",
		"9excl.c",
		"9fid.c",
		"9fsys.c",
		"9lstn.c",
		"9proc.c",
		"9srv.c",
		"9user.c",
		"Ccmd.c",
		"Ccli.c",
		"Ccons.c",
		"Clog.c",
		"archive.c",
		"nobwatch.c",
		"cache.c",
		"check.c",
		"disk.c",
		"error.c",
		"file.c",
		"flchk.c",
		"fs.c",
		"pack.c",
		"periodic.c",
		"source.c",
		"vac.c",
		"walk.c",
	],
)
cc_binary(
	name = "flfmt",
        copts = LIB_COMPILER_FLAGS,
        includes=[
            "//sys/include",
            "//amd64/include",
        ],
	srcs = [
		"9p.c",
		"9auth.c",
		"9dir.c",
		"9excl.c",
		"9fid.c",
		"9fsys.c",
		"9lstn.c",
		"9proc.c",
		"9srv.c",
		"9user.c",
		"Ccmd.c",
		"Ccli.c",
		"Ccons.c",
		"Clog.c",
		"archive.c",
		"nobwatch.c",
		"cache.c",
		"check.c",
		"disk.c",
		"error.c",
		"file.c",
		"flfmt9660.c",
		"flfmt.c",
		"fs.c",
		"pack.c",
		"periodic.c",
		"source.c",
		"vac.c",
		"walk.c",
	],
)
cc_binary(
	name = "fossil",
        copts = LIB_COMPILER_FLAGS,
        includes=[
            "//sys/include",
            "//amd64/include",
        ],
	linkopts=CMD_LINK_OPTS,
	deps=CMD_DEPS,
	srcs = [
		"9p.c",
		"9auth.c",
		"9dir.c",
		"9excl.c",
		"9fid.c",
		"9fsys.c",
		"9lstn.c",
		"9proc.c",
		"9srv.c",
		"9user.c",
		"Ccmd.c",
		"Ccli.c",
		"Ccons.c",
		"Clog.c",
		"archive.c",
		"nobwatch.c",
		"cache.c",
		"check.c",
		"disk.c",
		"error.c",
		"file.c",
		"fossil.c",
		"fs.c",
		"pack.c",
		"periodic.c",
		"source.c",
		"vac.c",
		"walk.c",
	],
)
cc_binary(
	name = "last",
        copts = LIB_COMPILER_FLAGS,
        includes=[
            "//sys/include",
            "//amd64/include",
        ],
	srcs = [
		"9p.c",
		"9auth.c",
		"9dir.c",
		"9excl.c",
		"9fid.c",
		"9fsys.c",
		"9lstn.c",
		"9proc.c",
		"9srv.c",
		"9user.c",
		"Ccmd.c",
		"Ccli.c",
		"Ccons.c",
		"Clog.c",
		"archive.c",
		"nobwatch.c",
		"cache.c",
		"check.c",
		"disk.c",
		"error.c",
		"file.c",
		"last.c",
		"fs.c",
		"pack.c",
		"periodic.c",
		"source.c",
		"vac.c",
		"walk.c",
	],
)
